(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function lv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zm={exports:{}},Cc={};var t0;function jC(){if(t0)return Cc;t0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:l}}return Cc.Fragment=e,Cc.jsx=t,Cc.jsxs=t,Cc}var n0;function zC(){return n0||(n0=1,zm.exports=jC()),zm.exports}var D=zC(),Bm={exports:{}},De={};var i0;function BC(){if(i0)return De;i0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function G(j,J,le){this.props=j,this.context=J,this.refs=k,this.updater=le||N}G.prototype.isReactComponent={},G.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},G.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=G.prototype;function F(j,J,le){this.props=j,this.context=J,this.refs=k,this.updater=le||N}var Q=F.prototype=new L;Q.constructor=F,P(Q,G.prototype),Q.isPureReactComponent=!0;var ie=Array.isArray;function te(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(j,J,le){var ce=le.ref;return{$$typeof:n,type:j,key:J,ref:ce!==void 0?ce:null,props:le}}function U(j,J){return I(j.type,J,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function B(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(le){return J[le]})}var O=/\/+/g;function be(j,J){return typeof j=="object"&&j!==null&&j.key!=null?B(""+j.key):J.toString(36)}function Re(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(te,te):(j.status="pending",j.then(function(J){j.status==="pending"&&(j.status="fulfilled",j.value=J)},function(J){j.status==="pending"&&(j.status="rejected",j.reason=J)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,J,le,ce,ve){var ye=typeof j;(ye==="undefined"||ye==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(ye){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case n:case e:xe=!0;break;case v:return xe=j._init,Z(xe(j._payload),J,le,ce,ve)}}if(xe)return ve=ve(j),xe=ce===""?"."+be(j,0):ce,ie(ve)?(le="",xe!=null&&(le=xe.replace(O,"$&/")+"/"),Z(ve,J,le,"",function(Ne){return Ne})):ve!=null&&(M(ve)&&(ve=U(ve,le+(ve.key==null||j&&j.key===ve.key?"":(""+ve.key).replace(O,"$&/")+"/")+xe)),J.push(ve)),1;xe=0;var Qe=ce===""?".":ce+":";if(ie(j))for(var Ve=0;Ve<j.length;Ve++)ce=j[Ve],ye=Qe+be(ce,Ve),xe+=Z(ce,J,le,ye,ve);else if(Ve=A(j),typeof Ve=="function")for(j=Ve.call(j),Ve=0;!(ce=j.next()).done;)ce=ce.value,ye=Qe+be(ce,Ve++),xe+=Z(ce,J,le,ye,ve);else if(ye==="object"){if(typeof j.then=="function")return Z(Re(j),J,le,ce,ve);throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return xe}function oe(j,J,le){if(j==null)return j;var ce=[],ve=0;return Z(j,ce,"","",function(ye){return J.call(le,ye,ve++)}),ce}function pe(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(le){(j._status===0||j._status===-1)&&(j._status=1,j._result=le)},function(le){(j._status===0||j._status===-1)&&(j._status=2,j._result=le)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var ge=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ue={map:oe,forEach:function(j,J,le){oe(j,function(){J.apply(this,arguments)},le)},count:function(j){var J=0;return oe(j,function(){J++}),J},toArray:function(j){return oe(j,function(J){return J})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return De.Activity=_,De.Children=Ue,De.Component=G,De.Fragment=t,De.Profiler=s,De.PureComponent=F,De.StrictMode=r,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,De.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},De.cache=function(j){return function(){return j.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(j,J,le){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ce=P({},j.props),ve=j.key;if(J!=null)for(ye in J.key!==void 0&&(ve=""+J.key),J)!S.call(J,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&J.ref===void 0||(ce[ye]=J[ye]);var ye=arguments.length-2;if(ye===1)ce.children=le;else if(1<ye){for(var xe=Array(ye),Qe=0;Qe<ye;Qe++)xe[Qe]=arguments[Qe+2];ce.children=xe}return I(j.type,ve,ce)},De.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},De.createElement=function(j,J,le){var ce,ve={},ye=null;if(J!=null)for(ce in J.key!==void 0&&(ye=""+J.key),J)S.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ve[ce]=J[ce]);var xe=arguments.length-2;if(xe===1)ve.children=le;else if(1<xe){for(var Qe=Array(xe),Ve=0;Ve<xe;Ve++)Qe[Ve]=arguments[Ve+2];ve.children=Qe}if(j&&j.defaultProps)for(ce in xe=j.defaultProps,xe)ve[ce]===void 0&&(ve[ce]=xe[ce]);return I(j,ye,ve)},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:h,render:j}},De.isValidElement=M,De.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:pe}},De.memo=function(j,J){return{$$typeof:g,type:j,compare:J===void 0?null:J}},De.startTransition=function(j){var J=C.T,le={};C.T=le;try{var ce=j(),ve=C.S;ve!==null&&ve(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(te,ge)}catch(ye){ge(ye)}finally{J!==null&&le.types!==null&&(J.types=le.types),C.T=J}},De.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},De.use=function(j){return C.H.use(j)},De.useActionState=function(j,J,le){return C.H.useActionState(j,J,le)},De.useCallback=function(j,J){return C.H.useCallback(j,J)},De.useContext=function(j){return C.H.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j,J){return C.H.useDeferredValue(j,J)},De.useEffect=function(j,J){return C.H.useEffect(j,J)},De.useEffectEvent=function(j){return C.H.useEffectEvent(j)},De.useId=function(){return C.H.useId()},De.useImperativeHandle=function(j,J,le){return C.H.useImperativeHandle(j,J,le)},De.useInsertionEffect=function(j,J){return C.H.useInsertionEffect(j,J)},De.useLayoutEffect=function(j,J){return C.H.useLayoutEffect(j,J)},De.useMemo=function(j,J){return C.H.useMemo(j,J)},De.useOptimistic=function(j,J){return C.H.useOptimistic(j,J)},De.useReducer=function(j,J,le){return C.H.useReducer(j,J,le)},De.useRef=function(j){return C.H.useRef(j)},De.useState=function(j){return C.H.useState(j)},De.useSyncExternalStore=function(j,J,le){return C.H.useSyncExternalStore(j,J,le)},De.useTransition=function(){return C.H.useTransition()},De.version="19.2.4",De}var r0;function cv(){return r0||(r0=1,Bm.exports=BC()),Bm.exports}var x=cv();const It=lv(x);var Fm={exports:{}},Ic={},qm={exports:{}},Hm={};var a0;function FC(){return a0||(a0=1,(function(n){function e(Z,oe){var pe=Z.length;Z.push(oe);e:for(;0<pe;){var ge=pe-1>>>1,Ue=Z[ge];if(0<s(Ue,oe))Z[ge]=oe,Z[pe]=Ue,pe=ge;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var oe=Z[0],pe=Z.pop();if(pe!==oe){Z[0]=pe;e:for(var ge=0,Ue=Z.length,j=Ue>>>1;ge<j;){var J=2*(ge+1)-1,le=Z[J],ce=J+1,ve=Z[ce];if(0>s(le,pe))ce<Ue&&0>s(ve,le)?(Z[ge]=ve,Z[ce]=pe,ge=ce):(Z[ge]=le,Z[J]=pe,ge=J);else if(ce<Ue&&0>s(ve,pe))Z[ge]=ve,Z[ce]=pe,ge=ce;else break e}}return oe}function s(Z,oe){var pe=Z.sortIndex-oe.sortIndex;return pe!==0?pe:Z.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],g=[],v=1,_=null,T=3,A=!1,N=!1,P=!1,k=!1,G=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Q(Z){for(var oe=t(g);oe!==null;){if(oe.callback===null)r(g);else if(oe.startTime<=Z)r(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=t(g)}}function ie(Z){if(P=!1,Q(Z),!N)if(t(m)!==null)N=!0,te||(te=!0,B());else{var oe=t(g);oe!==null&&Re(ie,oe.startTime-Z)}}var te=!1,C=-1,S=5,I=-1;function U(){return k?!0:!(n.unstable_now()-I<S)}function M(){if(k=!1,te){var Z=n.unstable_now();I=Z;var oe=!0;try{e:{N=!1,P&&(P=!1,L(C),C=-1),A=!0;var pe=T;try{t:{for(Q(Z),_=t(m);_!==null&&!(_.expirationTime>Z&&U());){var ge=_.callback;if(typeof ge=="function"){_.callback=null,T=_.priorityLevel;var Ue=ge(_.expirationTime<=Z);if(Z=n.unstable_now(),typeof Ue=="function"){_.callback=Ue,Q(Z),oe=!0;break t}_===t(m)&&r(m),Q(Z)}else r(m);_=t(m)}if(_!==null)oe=!0;else{var j=t(g);j!==null&&Re(ie,j.startTime-Z),oe=!1}}break e}finally{_=null,T=pe,A=!1}oe=void 0}}finally{oe?B():te=!1}}}var B;if(typeof F=="function")B=function(){F(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,be=O.port2;O.port1.onmessage=M,B=function(){be.postMessage(null)}}else B=function(){G(M,0)};function Re(Z,oe){C=G(function(){Z(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var pe=T;T=oe;try{return Z()}finally{T=pe}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=T;T=Z;try{return oe()}finally{T=pe}},n.unstable_scheduleCallback=function(Z,oe,pe){var ge=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ge+pe:ge):pe=ge,Z){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=pe+Ue,Z={id:v++,callback:oe,priorityLevel:Z,startTime:pe,expirationTime:Ue,sortIndex:-1},pe>ge?(Z.sortIndex=pe,e(g,Z),t(m)===null&&Z===t(g)&&(P?(L(C),C=-1):P=!0,Re(ie,pe-ge))):(Z.sortIndex=Ue,e(m,Z),N||A||(N=!0,te||(te=!0,B()))),Z},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(Z){var oe=T;return function(){var pe=T;T=oe;try{return Z.apply(this,arguments)}finally{T=pe}}}})(Hm)),Hm}var s0;function qC(){return s0||(s0=1,qm.exports=FC()),qm.exports}var Gm={exports:{}},Vn={};var o0;function HC(){if(o0)return Vn;o0=1;var n=cv();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:m,containerInfo:g,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},Vn.flushSync=function(m){var g=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=g,r.p=v,r.d.f()}},Vn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},Vn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Vn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:A}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},Vn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},Vn.requestFormReset=function(m){r.d.r(m)},Vn.unstable_batchedUpdates=function(m,g){return m(g)},Vn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},Vn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Vn.version="19.2.4",Vn}var l0;function Yw(){if(l0)return Gm.exports;l0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gm.exports=HC(),Gm.exports}var c0;function GC(){if(c0)return Ic;c0=1;var n=qC(),e=cv(),t=Yw();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function g(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var o=i,c=a;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===c)return m(f),a;p=p.sibling}throw Error(r(188))}if(o.return!==c.return)o=f,c=p;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,c=p;break}if(w===c){b=!0,c=f,o=p;break}w=w.sibling}if(!b){for(w=p.child;w;){if(w===o){b=!0,o=p,c=f;break}if(w===c){b=!0,c=p,o=f;break}w=w.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case G:return"Profiler";case k:return"StrictMode";case ie:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case F:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case Q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return a=i.displayName||null,a!==null?a:be(i.type)||"Memo";case S:a=i._payload,i=i._init;try{return be(i(a))}catch{}}return null}var Re=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ge=[],Ue=-1;function j(i){return{current:i}}function J(i){0>Ue||(i.current=ge[Ue],ge[Ue]=null,Ue--)}function le(i,a){Ue++,ge[Ue]=i.current,i.current=a}var ce=j(null),ve=j(null),ye=j(null),xe=j(null);function Qe(i,a){switch(le(ye,a),le(ve,i),le(ce,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?xE(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=xE(a),i=SE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(ce),le(ce,i)}function Ve(){J(ce),J(ve),J(ye)}function Ne(i){i.memoizedState!==null&&le(xe,i);var a=ce.current,o=SE(a,i.type);a!==o&&(le(ve,i),le(ce,o))}function Yt(i){ve.current===i&&(J(ce),J(ve)),xe.current===i&&(J(xe),xc._currentValue=pe)}var _t,Ut;function at(i){if(_t===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);_t=a&&a[1]||"",Ut=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+i+Ut}var fn=!1;function $t(i,a){if(!i||fn)return"";fn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var K=W}Reflect.construct(i,[],re)}else{try{re.call()}catch(W){K=W}i.call(re.prototype)}}else{try{throw Error()}catch(W){K=W}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],w=p[1];if(b&&w){var V=b.split(`
`),$=w.split(`
`);for(f=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(c===V.length||f===$.length)for(c=V.length-1,f=$.length-1;1<=c&&0<=f&&V[c]!==$[f];)f--;for(;1<=c&&0<=f;c--,f--)if(V[c]!==$[f]){if(c!==1||f!==1)do if(c--,f--,0>f||V[c]!==$[f]){var ee=`
`+V[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=f);break}}}finally{fn=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?at(o):""}function hn(i,a){switch(i.tag){case 26:case 27:case 5:return at(i.type);case 16:return at("Lazy");case 13:return i.child!==a&&a!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return $t(i.type,!1);case 11:return $t(i.type.render,!1);case 1:return $t(i.type,!0);case 31:return at("Activity");default:return""}}function ln(i){try{var a="",o=null;do a+=hn(i,o),o=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Xe=Object.prototype.hasOwnProperty,Je=n.unstable_scheduleCallback,pn=n.unstable_cancelCallback,Zi=n.unstable_shouldYield,Dr=n.unstable_requestPaint,Kt=n.unstable_now,ue=n.unstable_getCurrentPriorityLevel,Ee=n.unstable_ImmediatePriority,Be=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,mt=n.unstable_LowPriority,mn=n.unstable_IdlePriority,Dt=n.log,Vi=n.unstable_setDisableYieldValue,Tn=null,Ot=null;function Lt(i){if(typeof Dt=="function"&&Vi(i),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Tn,i)}catch{}}var ut=Math.clz32?Math.clz32:tr,er=Math.log,si=Math.LN2;function tr(i){return i>>>=0,i===0?32:31-(er(i)/si|0)|0}var Kn=256,Or=262144,Le=4194304;function St(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function At(i,a,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?f=St(c):(b&=w,b!==0?f=St(b):o||(o=w&~i,o!==0&&(f=St(o))))):(w=c&~p,w!==0?f=St(w):b!==0?f=St(b):o||(o=c&~i,o!==0&&(f=St(o)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:f}function Qt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function kn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var i=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),i}function jt(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function Qn(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function zt(i,a,o,c,f,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,V=i.expirationTimes,$=i.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-ut(o),re=1<<ee;w[ee]=0,V[ee]=-1;var K=$[ee];if(K!==null)for($[ee]=null,ee=0;ee<K.length;ee++){var W=K[ee];W!==null&&(W.lane&=-536870913)}o&=~re}c!==0&&Mn(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~a))}function Mn(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-ut(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Pn(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var c=31-ut(o),f=1<<c;f&a|i[c]&a&&(i[c]|=a),o&=~f}}function Bn(i,a){var o=a&-a;return o=(o&42)!==0?1:oi(o),(o&(i.suspendedLanes|a))!==0?0:o}function oi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Fn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function li(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:KE(i.type))}function wn(i,a){var o=oe.p;try{return oe.p=i,a()}finally{oe.p=o}}var qn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+qn,vn="__reactProps$"+qn,nr="__reactContainer$"+qn,oo="__reactEvents$"+qn,Yh="__reactListeners$"+qn,ju="__reactHandles$"+qn,zu="__reactResources$"+qn,ir="__reactMarker$"+qn;function lo(i){delete i[Xt],delete i[vn],delete i[oo],delete i[Yh],delete i[ju]}function rr(i){var a=i[Xt];if(a)return a;for(var o=i.parentNode;o;){if(a=o[nr]||o[Xt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=NE(i);i!==null;){if(o=i[Xt])return o;i=NE(i)}return a}i=o,o=i.parentNode}return null}function bi(i){if(i=i[Xt]||i[nr]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function ci(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ar(i){var a=i[zu];return a||(a=i[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Wt(i){i[ir]=!0}var Ol=new Set,Nl={};function sr(i,a){or(i,a),or(i+"Capture",a)}function or(i,a){for(Nl[i]=a,i=0;i<a.length;i++)Ol.add(a[i])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Pl={};function Bu(i){return Xe.call(Pl,i)?!0:Xe.call(Ml,i)?!1:kl.test(i)?Pl[i]=!0:(Ml[i]=!0,!1)}function co(i,a,o){if(Bu(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function ui(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Jt(i,a,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+c)}}function yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oa(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vl(i,a,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,p=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function st(i){if(!i._valueTracker){var a=oa(i)?"checked":"value";i._valueTracker=Vl(i,a,""+i[a])}}function ms(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return i&&(c=oa(i)?i.checked?"true":"false":i.value),i=c,i!==o?(a.setValue(i),!0):!1}function lr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gs=/[\n"\\]/g;function Xn(i){return i.replace(gs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function uo(i,a,o,c,f,p,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),a!=null?b==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+yn(a)):i.value!==""+yn(a)&&(i.value=""+yn(a)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),a!=null?Ul(i,b,yn(a)):o!=null?Ul(i,b,yn(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+yn(w):i.removeAttribute("name")}function Fu(i,a,o,c,f,p,b,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){st(i);return}o=o!=null?""+yn(o):"",a=a!=null?""+yn(a):o,w||a===i.value||(i.value=a),i.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),st(i)}function Ul(i,a,o){a==="number"&&lr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function la(i,a,o,c){if(i=i.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=a.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+yn(o),a=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}a!==null||i[f].disabled||(a=i[f])}a!==null&&(a.selected=!0)}}function qu(i,a,o){if(a!=null&&(a=""+yn(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+yn(o):""}function ca(i,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(r(92));if(Re(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=yn(a),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),st(i)}function Wn(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(i,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,o):typeof o!="number"||o===0||Hu.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function jl(i,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&o[f]!==c&&Ll(i,f,c)}else for(var p in a)a.hasOwnProperty(p)&&Ll(i,p,a[p])}function fo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(i){return ua.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ui(){}var zl=null;function Ei(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var da=null,cr=null;function vs(i){var a=bi(i);if(a&&(i=a.stateNode)){var o=i[vn]||null;e:switch(i=a.stateNode,a.type){case"input":if(uo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Xn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==i&&c.form===i.form){var f=c[vn]||null;if(!f)throw Error(r(90));uo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===i.form&&ms(c)}break e;case"textarea":qu(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&la(i,!!o.multiple,a,!1)}}}var po=!1;function fa(i,a,o){if(po)return i(a,o);po=!0;try{var c=i(a);return c}finally{if(po=!1,(da!==null||cr!==null)&&(Ld(),da&&(a=da,i=cr,cr=da=null,vs(a),i)))for(a=0;a<i.length;a++)vs(i[a])}}function Li(i,a){var o=i.stateNode;if(o===null)return null;var c=o[vn]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(Ti)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){ys=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{ys=!1}var ur=null,Bl=null,_s=null;function Fl(){if(_s)return _s;var i,a=Bl,o=a.length,c,f="value"in ur?ur.value:ur.textContent,p=f.length;for(i=0;i<o&&a[i]===f[i];i++);var b=o-i;for(c=1;c<=b&&a[o-c]===f[p-c];c++);return _s=f.slice(i,1<c?1-c:void 0)}function bs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Nr(){return!0}function ji(){return!1}function xn(i){function a(o,c,f,p,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Nr:ji,this.isPropagationStopped=ji,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),a}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=xn(kr),ha=_({},kr,{view:0,detail:0}),ql=xn(ha),pa,mo,fr,go=_({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fr&&(fr&&i.type==="mousemove"?(pa=i.screenX-fr.screenX,mo=i.screenY-fr.screenY):mo=pa=0,fr=i),pa)},movementY:function(i){return"movementY"in i?i.movementY:mo}}),Hl=xn(go),Es=_({},go,{dataTransfer:0}),Yu=xn(Es),$u=_({},ha,{relatedTarget:0}),Ts=xn($u),Gl=_({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ku=xn(Gl),vo=_({},kr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qu=xn(vo),Xu=_({},kr,{data:0}),hr=xn(Xu),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Zu[i])?!!a[i]:!1}function ma(){return ed}var Hn=_({},ha,{key:function(i){if(i.key){var a=Wu[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=bs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ju[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(i){return i.type==="keypress"?bs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),td=xn(Hn),nd=_({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mr=xn(nd),d=_({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),y=xn(d),E=_({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=xn(E),H=_({},go,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=xn(H),de=_({},kr,{newState:0,oldState:0}),ke=xn(de),Bt=[9,13,27,32],tt=Ti&&"CompositionEvent"in window,Rt=null;Ti&&"documentMode"in document&&(Rt=document.documentMode);var wi=Ti&&"TextEvent"in window&&!Rt,pr=Ti&&(!tt||Rt&&8<Rt&&11>=Rt),zi=" ",Bi=!1;function ws(i,a){switch(i){case"keyup":return Bt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _o=!1;function cR(i,a){switch(i){case"compositionend":return yo(a);case"keypress":return a.which!==32?null:(Bi=!0,zi);case"textInput":return i=a.data,i===zi&&Bi?null:i;default:return null}}function uR(i,a){if(_o)return i==="compositionend"||!tt&&ws(i,a)?(i=Fl(),_s=Bl=ur=null,_o=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return pr&&a.locale!=="ko"?null:a.data;default:return null}}var dR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!dR[i.type]:a==="textarea"}function Vy(i,a,o,c){da?cr?cr.push(c):cr=[c]:da=c,a=Gd(a,"onChange"),0<a.length&&(o=new dr("onChange","change",null,o,c),i.push({event:o,listeners:a}))}var Yl=null,$l=null;function fR(i){yE(i,0)}function id(i){var a=ci(i);if(ms(a))return i}function Uy(i,a){if(i==="change")return a}var Ly=!1;if(Ti){var $h;if(Ti){var Kh="oninput"in document;if(!Kh){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Kh=typeof jy.oninput=="function"}$h=Kh}else $h=!1;Ly=$h&&(!document.documentMode||9<document.documentMode)}function zy(){Yl&&(Yl.detachEvent("onpropertychange",By),$l=Yl=null)}function By(i){if(i.propertyName==="value"&&id($l)){var a=[];Vy(a,$l,i,Ei(i)),fa(fR,a)}}function hR(i,a,o){i==="focusin"?(zy(),Yl=a,$l=o,Yl.attachEvent("onpropertychange",By)):i==="focusout"&&zy()}function pR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return id($l)}function mR(i,a){if(i==="click")return id(a)}function gR(i,a){if(i==="input"||i==="change")return id(a)}function vR(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var di=typeof Object.is=="function"?Object.is:vR;function Kl(i,a){if(di(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Xe.call(a,f)||!di(i[f],a[f]))return!1}return!0}function Fy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qy(i,a){var o=Fy(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=a&&c>=a)return{node:o,offset:a-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Fy(o)}}function Hy(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Hy(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Gy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=lr(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=lr(i.document)}return a}function Qh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var yR=Ti&&"documentMode"in document&&11>=document.documentMode,bo=null,Xh=null,Ql=null,Wh=!1;function Yy(i,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wh||bo==null||bo!==lr(c)||(c=bo,"selectionStart"in c&&Qh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ql&&Kl(Ql,c)||(Ql=c,c=Gd(Xh,"onSelect"),0<c.length&&(a=new dr("onSelect","select",null,a,o),i.push({event:a,listeners:c}),a.target=bo)))}function xs(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Eo={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Jh={},$y={};Ti&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Ss(i){if(Jh[i])return Jh[i];if(!Eo[i])return i;var a=Eo[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in $y)return Jh[i]=a[o];return i}var Ky=Ss("animationend"),Qy=Ss("animationiteration"),Xy=Ss("animationstart"),_R=Ss("transitionrun"),bR=Ss("transitionstart"),ER=Ss("transitioncancel"),Wy=Ss("transitionend"),Jy=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Fi(i,a){Jy.set(i,a),sr(a,[i])}var rd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xi=[],To=0,ep=0;function ad(){for(var i=To,a=ep=To=0;a<i;){var o=xi[a];xi[a++]=null;var c=xi[a];xi[a++]=null;var f=xi[a];xi[a++]=null;var p=xi[a];if(xi[a++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}p!==0&&Zy(o,f,p)}}function sd(i,a,o,c){xi[To++]=i,xi[To++]=a,xi[To++]=o,xi[To++]=c,ep|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function tp(i,a,o,c){return sd(i,a,o,c),od(i)}function As(i,a){return sd(i,null,null,a),od(i)}function Zy(i,a,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&a!==null&&(f=31-ut(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[a]:c.push(a),a.lane=o|536870912),p):null}function od(i){if(50<vc)throw vc=0,um=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var wo={};function TR(i,a,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(i,a,o,c){return new TR(i,a,o,c)}function np(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pr(i,a){var o=i.alternate;return o===null?(o=fi(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function e_(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function ld(i,a,o,c,f,p){var b=0;if(c=i,typeof i=="function")np(i)&&(b=1);else if(typeof i=="string")b=RC(i,o,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=fi(31,o,a,f),i.elementType=I,i.lanes=p,i;case P:return Rs(o.children,f,p,a);case k:b=8,f|=24;break;case G:return i=fi(12,o,a,f|2),i.elementType=G,i.lanes=p,i;case ie:return i=fi(13,o,a,f),i.elementType=ie,i.lanes=p,i;case te:return i=fi(19,o,a,f),i.elementType=te,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:b=10;break e;case L:b=9;break e;case Q:b=11;break e;case C:b=14;break e;case S:b=16,c=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=fi(b,o,a,f),a.elementType=i,a.type=c,a.lanes=p,a}function Rs(i,a,o,c){return i=fi(7,i,c,a),i.lanes=o,i}function ip(i,a,o){return i=fi(6,i,null,a),i.lanes=o,i}function t_(i){var a=fi(18,null,null,0);return a.stateNode=i,a}function rp(i,a,o){return a=fi(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var n_=new WeakMap;function Si(i,a){if(typeof i=="object"&&i!==null){var o=n_.get(i);return o!==void 0?o:(a={value:i,source:a,stack:ln(a)},n_.set(i,a),a)}return{value:i,source:a,stack:ln(a)}}var xo=[],So=0,cd=null,Xl=0,Ai=[],Ri=0,ga=null,mr=1,gr="";function Vr(i,a){xo[So++]=Xl,xo[So++]=cd,cd=i,Xl=a}function i_(i,a,o){Ai[Ri++]=mr,Ai[Ri++]=gr,Ai[Ri++]=ga,ga=i;var c=mr;i=gr;var f=32-ut(c)-1;c&=~(1<<f),o+=1;var p=32-ut(a)+f;if(30<p){var b=f-f%5;p=(c&(1<<b)-1).toString(32),c>>=b,f-=b,mr=1<<32-ut(a)+f|o<<f|c,gr=p+i}else mr=1<<p|o<<f|c,gr=i}function ap(i){i.return!==null&&(Vr(i,1),i_(i,1,0))}function sp(i){for(;i===cd;)cd=xo[--So],xo[So]=null,Xl=xo[--So],xo[So]=null;for(;i===ga;)ga=Ai[--Ri],Ai[Ri]=null,gr=Ai[--Ri],Ai[Ri]=null,mr=Ai[--Ri],Ai[Ri]=null}function r_(i,a){Ai[Ri++]=mr,Ai[Ri++]=gr,Ai[Ri++]=ga,mr=a.id,gr=a.overflow,ga=i}var Sn=null,bt=null,Ke=!1,va=null,Ci=!1,op=Error(r(519));function ya(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Si(a,i)),op}function a_(i){var a=i.stateNode,o=i.type,c=i.memoizedProps;switch(a[Xt]=i,a[vn]=c,o){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(o=0;o<_c.length;o++)ze(_c[o],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":ze("invalid",a),Fu(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",a);break;case"textarea":ze("invalid",a),ca(a,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||TE(a.textContent,o)?(c.popover!=null&&(ze("beforetoggle",a),ze("toggle",a)),c.onScroll!=null&&ze("scroll",a),c.onScrollEnd!=null&&ze("scrollend",a),c.onClick!=null&&(a.onclick=Ui),a=!0):a=!1,a||ya(i,!0)}function s_(i){for(Sn=i.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Sn=Sn.return}}function Ao(i){if(i!==Sn)return!1;if(!Ke)return s_(i),Ke=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Sm(i.type,i.memoizedProps)),o=!o),o&&bt&&ya(i),s_(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));bt=OE(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));bt=OE(i)}else a===27?(a=bt,Na(i.type)?(i=Dm,Dm=null,bt=i):bt=a):bt=Sn?Di(i.stateNode.nextSibling):null;return!0}function Cs(){bt=Sn=null,Ke=!1}function lp(){var i=va;return i!==null&&(ti===null?ti=i:ti.push.apply(ti,i),va=null),i}function Wl(i){va===null?va=[i]:va.push(i)}var cp=j(null),Is=null,Ur=null;function _a(i,a,o){le(cp,a._currentValue),a._currentValue=o}function Lr(i){i._currentValue=cp.current,J(cp)}function up(i,a,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===o)break;i=i.return}}function dp(i,a,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=f;for(var V=0;V<a.length;V++)if(w.context===a[V]){p.lanes|=o,w=p.alternate,w!==null&&(w.lanes|=o),up(p.return,o,i),c||(b=null);break e}p=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),up(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ro(i,a,o,c){i=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var w=f.type;di(f.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(f===xe.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(xc):i=[xc])}f=f.return}i!==null&&dp(a,i,o,c),a.flags|=262144}function ud(i){for(i=i.firstContext;i!==null;){if(!di(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ds(i){Is=i,Ur=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function An(i){return o_(Is,i)}function dd(i,a){return Is===null&&Ds(i),o_(i,a)}function o_(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Ur===null){if(i===null)throw Error(r(308));Ur=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ur=Ur.next=a;return o}var wR=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},xR=n.unstable_scheduleCallback,SR=n.unstable_NormalPriority,Zt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fp(){return{controller:new wR,data:new Map,refCount:0}}function Jl(i){i.refCount--,i.refCount===0&&xR(SR,function(){i.controller.abort()})}var Zl=null,hp=0,Co=0,Io=null;function AR(i,a){if(Zl===null){var o=Zl=[];hp=0,Co=gm(),Io={status:"pending",value:void 0,then:function(c){o.push(c)}}}return hp++,a.then(l_,l_),a}function l_(){if(--hp===0&&Zl!==null){Io!==null&&(Io.status="fulfilled");var i=Zl;Zl=null,Co=0,Io=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function RR(i,a){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var c_=Z.S;Z.S=function(i,a){Yb=Kt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&AR(i,a),c_!==null&&c_(i,a)};var Os=j(null);function pp(){var i=Os.current;return i!==null?i:gt.pooledCache}function fd(i,a){a===null?le(Os,Os.current):le(Os,a.pool)}function u_(){var i=pp();return i===null?null:{parent:Zt._currentValue,pool:i}}var Do=Error(r(460)),mp=Error(r(474)),hd=Error(r(542)),pd={then:function(){}};function d_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function f_(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(Ui,Ui),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,p_(i),i;default:if(typeof a.status=="string")a.then(Ui,Ui);else{if(i=gt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,p_(i),i}throw ks=a,Do}}function Ns(i){try{var a=i._init;return a(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ks=o,Do):o}}var ks=null;function h_(){if(ks===null)throw Error(r(459));var i=ks;return ks=null,i}function p_(i){if(i===Do||i===hd)throw Error(r(483))}var Oo=null,ec=0;function md(i){var a=ec;return ec+=1,Oo===null&&(Oo=[]),f_(Oo,i,a)}function tc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function gd(i,a){throw a.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function m_(i){function a(q,z){if(i){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)a(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=Pr(q,z),q.index=0,q.sibling=null,q}function p(q,z,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,z,Y,ne){return z===null||z.tag!==6?(z=ip(Y,q.mode,ne),z.return=q,z):(z=f(z,Y),z.return=q,z)}function V(q,z,Y,ne){var Te=Y.type;return Te===P?ee(q,z,Y.props.children,ne,Y.key):z!==null&&(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&Ns(Te)===z.type)?(z=f(z,Y.props),tc(z,Y),z.return=q,z):(z=ld(Y.type,Y.key,Y.props,null,q.mode,ne),tc(z,Y),z.return=q,z)}function $(q,z,Y,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=rp(Y,q.mode,ne),z.return=q,z):(z=f(z,Y.children||[]),z.return=q,z)}function ee(q,z,Y,ne,Te){return z===null||z.tag!==7?(z=Rs(Y,q.mode,ne,Te),z.return=q,z):(z=f(z,Y),z.return=q,z)}function re(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ip(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return Y=ld(z.type,z.key,z.props,null,q.mode,Y),tc(Y,z),Y.return=q,Y;case N:return z=rp(z,q.mode,Y),z.return=q,z;case S:return z=Ns(z),re(q,z,Y)}if(Re(z)||B(z))return z=Rs(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return re(q,md(z),Y);if(z.$$typeof===F)return re(q,dd(q,z),Y);gd(q,z)}return null}function K(q,z,Y,ne){var Te=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Te!==null?null:w(q,z,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return Y.key===Te?V(q,z,Y,ne):null;case N:return Y.key===Te?$(q,z,Y,ne):null;case S:return Y=Ns(Y),K(q,z,Y,ne)}if(Re(Y)||B(Y))return Te!==null?null:ee(q,z,Y,ne,null);if(typeof Y.then=="function")return K(q,z,md(Y),ne);if(Y.$$typeof===F)return K(q,z,dd(q,Y),ne);gd(q,Y)}return null}function W(q,z,Y,ne,Te){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(Y)||null,w(z,q,""+ne,Te);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return q=q.get(ne.key===null?Y:ne.key)||null,V(z,q,ne,Te);case N:return q=q.get(ne.key===null?Y:ne.key)||null,$(z,q,ne,Te);case S:return ne=Ns(ne),W(q,z,Y,ne,Te)}if(Re(ne)||B(ne))return q=q.get(Y)||null,ee(z,q,ne,Te,null);if(typeof ne.then=="function")return W(q,z,Y,md(ne),Te);if(ne.$$typeof===F)return W(q,z,Y,dd(z,ne),Te);gd(z,ne)}return null}function me(q,z,Y,ne){for(var Te=null,Ze=null,_e=z,Pe=z=0,He=null;_e!==null&&Pe<Y.length;Pe++){_e.index>Pe?(He=_e,_e=null):He=_e.sibling;var et=K(q,_e,Y[Pe],ne);if(et===null){_e===null&&(_e=He);break}i&&_e&&et.alternate===null&&a(q,_e),z=p(et,z,Pe),Ze===null?Te=et:Ze.sibling=et,Ze=et,_e=He}if(Pe===Y.length)return o(q,_e),Ke&&Vr(q,Pe),Te;if(_e===null){for(;Pe<Y.length;Pe++)_e=re(q,Y[Pe],ne),_e!==null&&(z=p(_e,z,Pe),Ze===null?Te=_e:Ze.sibling=_e,Ze=_e);return Ke&&Vr(q,Pe),Te}for(_e=c(_e);Pe<Y.length;Pe++)He=W(_e,q,Pe,Y[Pe],ne),He!==null&&(i&&He.alternate!==null&&_e.delete(He.key===null?Pe:He.key),z=p(He,z,Pe),Ze===null?Te=He:Ze.sibling=He,Ze=He);return i&&_e.forEach(function(Ua){return a(q,Ua)}),Ke&&Vr(q,Pe),Te}function Se(q,z,Y,ne){if(Y==null)throw Error(r(151));for(var Te=null,Ze=null,_e=z,Pe=z=0,He=null,et=Y.next();_e!==null&&!et.done;Pe++,et=Y.next()){_e.index>Pe?(He=_e,_e=null):He=_e.sibling;var Ua=K(q,_e,et.value,ne);if(Ua===null){_e===null&&(_e=He);break}i&&_e&&Ua.alternate===null&&a(q,_e),z=p(Ua,z,Pe),Ze===null?Te=Ua:Ze.sibling=Ua,Ze=Ua,_e=He}if(et.done)return o(q,_e),Ke&&Vr(q,Pe),Te;if(_e===null){for(;!et.done;Pe++,et=Y.next())et=re(q,et.value,ne),et!==null&&(z=p(et,z,Pe),Ze===null?Te=et:Ze.sibling=et,Ze=et);return Ke&&Vr(q,Pe),Te}for(_e=c(_e);!et.done;Pe++,et=Y.next())et=W(_e,q,Pe,et.value,ne),et!==null&&(i&&et.alternate!==null&&_e.delete(et.key===null?Pe:et.key),z=p(et,z,Pe),Ze===null?Te=et:Ze.sibling=et,Ze=et);return i&&_e.forEach(function(LC){return a(q,LC)}),Ke&&Vr(q,Pe),Te}function pt(q,z,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===P&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:e:{for(var Te=Y.key;z!==null;){if(z.key===Te){if(Te=Y.type,Te===P){if(z.tag===7){o(q,z.sibling),ne=f(z,Y.props.children),ne.return=q,q=ne;break e}}else if(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&Ns(Te)===z.type){o(q,z.sibling),ne=f(z,Y.props),tc(ne,Y),ne.return=q,q=ne;break e}o(q,z);break}else a(q,z);z=z.sibling}Y.type===P?(ne=Rs(Y.props.children,q.mode,ne,Y.key),ne.return=q,q=ne):(ne=ld(Y.type,Y.key,Y.props,null,q.mode,ne),tc(ne,Y),ne.return=q,q=ne)}return b(q);case N:e:{for(Te=Y.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(q,z.sibling),ne=f(z,Y.children||[]),ne.return=q,q=ne;break e}else{o(q,z);break}else a(q,z);z=z.sibling}ne=rp(Y,q.mode,ne),ne.return=q,q=ne}return b(q);case S:return Y=Ns(Y),pt(q,z,Y,ne)}if(Re(Y))return me(q,z,Y,ne);if(B(Y)){if(Te=B(Y),typeof Te!="function")throw Error(r(150));return Y=Te.call(Y),Se(q,z,Y,ne)}if(typeof Y.then=="function")return pt(q,z,md(Y),ne);if(Y.$$typeof===F)return pt(q,z,dd(q,Y),ne);gd(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(q,z.sibling),ne=f(z,Y),ne.return=q,q=ne):(o(q,z),ne=ip(Y,q.mode,ne),ne.return=q,q=ne),b(q)):o(q,z)}return function(q,z,Y,ne){try{ec=0;var Te=pt(q,z,Y,ne);return Oo=null,Te}catch(_e){if(_e===Do||_e===hd)throw _e;var Ze=fi(29,_e,null,q.mode);return Ze.lanes=ne,Ze.return=q,Ze}}}var Ms=m_(!0),g_=m_(!1),ba=!1;function gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vp(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ea(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ta(i,a,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=od(i),Zy(i,null,o),a}return sd(i,c,a,o),od(i)}function nc(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Pn(i,o)}}function yp(i,a){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=a:p=p.next=a}else f=p=a;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var _p=!1;function ic(){if(_p){var i=Io;if(i!==null)throw i}}function rc(i,a,o,c){_p=!1;var f=i.updateQueue;ba=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var V=w,$=V.next;V.next=null,b===null?p=$:b.next=$,b=V;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==b&&(w===null?ee.firstBaseUpdate=$:w.next=$,ee.lastBaseUpdate=V))}if(p!==null){var re=f.baseState;b=0,ee=$=V=null,w=p;do{var K=w.lane&-536870913,W=K!==w.lane;if(W?(qe&K)===K:(c&K)===K){K!==0&&K===Co&&(_p=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=i,Se=w;K=a;var pt=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){re=me.call(pt,re,K);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,K=typeof me=="function"?me.call(pt,re,K):me,K==null)break e;re=_({},re,K);break e;case 2:ba=!0}}K=w.callback,K!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[K]:W.push(K))}else W={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?($=ee=W,V=re):ee=ee.next=W,b|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;W=w,w=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);ee===null&&(V=re),f.baseState=V,f.firstBaseUpdate=$,f.lastBaseUpdate=ee,p===null&&(f.shared.lanes=0),Ra|=b,i.lanes=b,i.memoizedState=re}}function v_(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function y_(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)v_(o[i],a)}var No=j(null),vd=j(0);function __(i,a){i=$r,le(vd,i),le(No,a),$r=i|a.baseLanes}function bp(){le(vd,$r),le(No,No.current)}function Ep(){$r=vd.current,J(No),J(vd)}var hi=j(null),Ii=null;function wa(i){var a=i.alternate;le(Ft,Ft.current&1),le(hi,i),Ii===null&&(a===null||No.current!==null||a.memoizedState!==null)&&(Ii=i)}function Tp(i){le(Ft,Ft.current),le(hi,i),Ii===null&&(Ii=i)}function b_(i){i.tag===22?(le(Ft,Ft.current),le(hi,i),Ii===null&&(Ii=i)):xa()}function xa(){le(Ft,Ft.current),le(hi,hi.current)}function pi(i){J(hi),Ii===i&&(Ii=null),J(Ft)}var Ft=j(0);function yd(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cm(o)||Im(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var jr=0,Me=null,ft=null,en=null,_d=!1,ko=!1,Ps=!1,bd=0,ac=0,Mo=null,CR=0;function Pt(){throw Error(r(321))}function wp(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!di(i[o],a[o]))return!1;return!0}function xp(i,a,o,c,f,p){return jr=p,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=i===null||i.memoizedState===null?ib:jp,Ps=!1,p=o(c,f),Ps=!1,ko&&(p=T_(a,o,c,f)),E_(i),p}function E_(i){Z.H=lc;var a=ft!==null&&ft.next!==null;if(jr=0,en=ft=Me=null,_d=!1,ac=0,Mo=null,a)throw Error(r(300));i===null||tn||(i=i.dependencies,i!==null&&ud(i)&&(tn=!0))}function T_(i,a,o,c){Me=i;var f=0;do{if(ko&&(Mo=null),ac=0,ko=!1,25<=f)throw Error(r(301));if(f+=1,en=ft=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=rb,p=a(o,c)}while(ko);return p}function IR(){var i=Z.H,a=i.useState()[0];return a=typeof a.then=="function"?sc(a):a,i=i.useState()[0],(ft!==null?ft.memoizedState:null)!==i&&(Me.flags|=1024),a}function Sp(){var i=bd!==0;return bd=0,i}function Ap(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function Rp(i){if(_d){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}_d=!1}jr=0,en=ft=Me=null,ko=!1,ac=bd=0,Mo=null}function Gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Me.memoizedState=en=i:en=en.next=i,en}function qt(){if(ft===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=ft.next;var a=en===null?Me.memoizedState:en.next;if(a!==null)en=a,ft=i;else{if(i===null)throw Me.alternate===null?Error(r(467)):Error(r(310));ft=i,i={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},en===null?Me.memoizedState=en=i:en=en.next=i}return en}function Ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sc(i){var a=ac;return ac+=1,Mo===null&&(Mo=[]),i=f_(Mo,i,a),a=Me,(en===null?a.memoizedState:en.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?ib:jp),i}function Td(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return sc(i);if(i.$$typeof===F)return An(i)}throw Error(r(438,String(i)))}function Cp(i){var a=null,o=Me.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Ed(),Me.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),c=0;c<i;c++)o[c]=U;return a.index++,o}function zr(i,a){return typeof a=="function"?a(i):a}function wd(i){var a=qt();return Ip(a,ft,i)}function Ip(i,a,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}a.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{a=f.next;var w=b=null,V=null,$=a,ee=!1;do{var re=$.lane&-536870913;if(re!==$.lane?(qe&re)===re:(jr&re)===re){var K=$.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),re===Co&&(ee=!0);else if((jr&K)===K){$=$.next,K===Co&&(ee=!0);continue}else re={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(w=V=re,b=p):V=V.next=re,Me.lanes|=K,Ra|=K;re=$.action,Ps&&o(p,re),p=$.hasEagerState?$.eagerState:o(p,re)}else K={lane:re,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(w=V=K,b=p):V=V.next=K,Me.lanes|=re,Ra|=re;$=$.next}while($!==null&&$!==a);if(V===null?b=p:V.next=w,!di(p,i.memoizedState)&&(tn=!0,ee&&(o=Io,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=V,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Dp(i){var a=qt(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=a.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=i(p,b.action),b=b.next;while(b!==f);di(p,a.memoizedState)||(tn=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,c]}function w_(i,a,o){var c=Me,f=qt(),p=Ke;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=a();var b=!di((ft||f).memoizedState,o);if(b&&(f.memoizedState=o,tn=!0),f=f.queue,kp(A_.bind(null,c,f,i),[i]),f.getSnapshot!==a||b||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,Po(9,{destroy:void 0},S_.bind(null,c,f,o,a),null),gt===null)throw Error(r(349));p||(jr&127)!==0||x_(c,a,o)}return o}function x_(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=Me.updateQueue,a===null?(a=Ed(),Me.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function S_(i,a,o,c){a.value=o,a.getSnapshot=c,R_(a)&&C_(i)}function A_(i,a,o){return o(function(){R_(a)&&C_(i)})}function R_(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!di(i,o)}catch{return!0}}function C_(i){var a=As(i,2);a!==null&&ni(a,i,2)}function Op(i){var a=Gn();if(typeof i=="function"){var o=i;if(i=o(),Ps){Lt(!0);try{o()}finally{Lt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:i},a}function I_(i,a,o,c){return i.baseState=o,Ip(i,ft,typeof c=="function"?c:zr)}function DR(i,a,o,c,f){if(Ad(i))throw Error(r(485));if(i=a.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Z.T!==null?o(!0):p.isTransition=!1,c(p),o=a.pending,o===null?(p.next=a.pending=p,D_(a,p)):(p.next=o.next,a.pending=o.next=p)}}function D_(i,a){var o=a.action,c=a.payload,f=i.state;if(a.isTransition){var p=Z.T,b={};Z.T=b;try{var w=o(f,c),V=Z.S;V!==null&&V(b,w),O_(i,a,w)}catch($){Np(i,a,$)}finally{p!==null&&b.types!==null&&(p.types=b.types),Z.T=p}}else try{p=o(f,c),O_(i,a,p)}catch($){Np(i,a,$)}}function O_(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){N_(i,a,c)},function(c){return Np(i,a,c)}):N_(i,a,o)}function N_(i,a,o){a.status="fulfilled",a.value=o,k_(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,D_(i,o)))}function Np(i,a,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,k_(a),a=a.next;while(a!==c)}i.action=null}function k_(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function M_(i,a){return a}function P_(i,a){if(Ke){var o=gt.formState;if(o!==null){e:{var c=Me;if(Ke){if(bt){t:{for(var f=bt,p=Ci;f.nodeType!==8;){if(!p){f=null;break t}if(f=Di(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){bt=Di(f.nextSibling),c=f.data==="F!";break e}}ya(c)}c=!1}c&&(a=o[0])}}return o=Gn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M_,lastRenderedState:a},o.queue=c,o=eb.bind(null,Me,c),c.dispatch=o,c=Op(!1),p=Lp.bind(null,Me,!1,c.queue),c=Gn(),f={state:a,dispatch:null,action:i,pending:null},c.queue=f,o=DR.bind(null,Me,f,p,o),f.dispatch=o,c.memoizedState=i,[a,o,!1]}function V_(i){var a=qt();return U_(a,ft,i)}function U_(i,a,o){if(a=Ip(i,a,M_)[0],i=wd(zr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=sc(a)}catch(b){throw b===Do?hd:b}else c=a;a=qt();var f=a.queue,p=f.dispatch;return o!==a.memoizedState&&(Me.flags|=2048,Po(9,{destroy:void 0},OR.bind(null,f,o),null)),[c,p,i]}function OR(i,a){i.action=a}function L_(i){var a=qt(),o=ft;if(o!==null)return U_(a,o,i);qt(),a=a.memoizedState,o=qt();var c=o.queue.dispatch;return o.memoizedState=i,[a,c,!1]}function Po(i,a,o,c){return i={tag:i,create:o,deps:c,inst:a,next:null},a=Me.updateQueue,a===null&&(a=Ed(),Me.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,a.lastEffect=i),i}function j_(){return qt().memoizedState}function xd(i,a,o,c){var f=Gn();Me.flags|=i,f.memoizedState=Po(1|a,{destroy:void 0},o,c===void 0?null:c)}function Sd(i,a,o,c){var f=qt();c=c===void 0?null:c;var p=f.memoizedState.inst;ft!==null&&c!==null&&wp(c,ft.memoizedState.deps)?f.memoizedState=Po(a,p,o,c):(Me.flags|=i,f.memoizedState=Po(1|a,p,o,c))}function z_(i,a){xd(8390656,8,i,a)}function kp(i,a){Sd(2048,8,i,a)}function NR(i){Me.flags|=4;var a=Me.updateQueue;if(a===null)a=Ed(),Me.updateQueue=a,a.events=[i];else{var o=a.events;o===null?a.events=[i]:o.push(i)}}function B_(i){var a=qt().memoizedState;return NR({ref:a,nextImpl:i}),function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function F_(i,a){return Sd(4,2,i,a)}function q_(i,a){return Sd(4,4,i,a)}function H_(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function G_(i,a,o){o=o!=null?o.concat([i]):null,Sd(4,4,H_.bind(null,a,i),o)}function Mp(){}function Y_(i,a){var o=qt();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&wp(a,c[1])?c[0]:(o.memoizedState=[i,a],i)}function $_(i,a){var o=qt();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&wp(a,c[1]))return c[0];if(c=i(),Ps){Lt(!0);try{i()}finally{Lt(!1)}}return o.memoizedState=[c,a],c}function Pp(i,a,o){return o===void 0||(jr&1073741824)!==0&&(qe&261930)===0?i.memoizedState=a:(i.memoizedState=o,i=Kb(),Me.lanes|=i,Ra|=i,o)}function K_(i,a,o,c){return di(o,a)?o:No.current!==null?(i=Pp(i,o,c),di(i,a)||(tn=!0),i):(jr&42)===0||(jr&1073741824)!==0&&(qe&261930)===0?(tn=!0,i.memoizedState=o):(i=Kb(),Me.lanes|=i,Ra|=i,a)}function Q_(i,a,o,c,f){var p=oe.p;oe.p=p!==0&&8>p?p:8;var b=Z.T,w={};Z.T=w,Lp(i,!1,a,o);try{var V=f(),$=Z.S;if($!==null&&$(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ee=RR(V,c);oc(i,a,ee,vi(i))}else oc(i,a,c,vi(i))}catch(re){oc(i,a,{then:function(){},status:"rejected",reason:re},vi())}finally{oe.p=p,b!==null&&w.types!==null&&(b.types=w.types),Z.T=b}}function kR(){}function Vp(i,a,o,c){if(i.tag!==5)throw Error(r(476));var f=X_(i).queue;Q_(i,f,a,pe,o===null?kR:function(){return W_(i),o(c)})}function X_(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:pe},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function W_(i){var a=X_(i);a.next===null&&(a=i.alternate.memoizedState),oc(i,a.next.queue,{},vi())}function Up(){return An(xc)}function J_(){return qt().memoizedState}function Z_(){return qt().memoizedState}function MR(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=vi();i=Ea(o);var c=Ta(a,i,o);c!==null&&(ni(c,a,o),nc(c,a,o)),a={cache:fp()},i.payload=a;return}a=a.return}}function PR(i,a,o){var c=vi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ad(i)?tb(a,o):(o=tp(i,a,o,c),o!==null&&(ni(o,i,c),nb(o,a,c)))}function eb(i,a,o){var c=vi();oc(i,a,o,c)}function oc(i,a,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ad(i))tb(a,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,w=p(b,o);if(f.hasEagerState=!0,f.eagerState=w,di(w,b))return sd(i,a,f,0),gt===null&&ad(),!1}catch{}if(o=tp(i,a,f,c),o!==null)return ni(o,i,c),nb(o,a,c),!0}return!1}function Lp(i,a,o,c){if(c={lane:2,revertLane:gm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ad(i)){if(a)throw Error(r(479))}else a=tp(i,o,c,2),a!==null&&ni(a,i,2)}function Ad(i){var a=i.alternate;return i===Me||a!==null&&a===Me}function tb(i,a){ko=_d=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function nb(i,a,o){if((o&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Pn(i,o)}}var lc={readContext:An,use:Td,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};lc.useEffectEvent=Pt;var ib={readContext:An,use:Td,useCallback:function(i,a){return Gn().memoizedState=[i,a===void 0?null:a],i},useContext:An,useEffect:z_,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,xd(4194308,4,H_.bind(null,a,i),o)},useLayoutEffect:function(i,a){return xd(4194308,4,i,a)},useInsertionEffect:function(i,a){xd(4,2,i,a)},useMemo:function(i,a){var o=Gn();a=a===void 0?null:a;var c=i();if(Ps){Lt(!0);try{i()}finally{Lt(!1)}}return o.memoizedState=[c,a],c},useReducer:function(i,a,o){var c=Gn();if(o!==void 0){var f=o(a);if(Ps){Lt(!0);try{o(a)}finally{Lt(!1)}}}else f=a;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=PR.bind(null,Me,i),[c.memoizedState,i]},useRef:function(i){var a=Gn();return i={current:i},a.memoizedState=i},useState:function(i){i=Op(i);var a=i.queue,o=eb.bind(null,Me,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:Mp,useDeferredValue:function(i,a){var o=Gn();return Pp(o,i,a)},useTransition:function(){var i=Op(!1);return i=Q_.bind(null,Me,i.queue,!0,!1),Gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var c=Me,f=Gn();if(Ke){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),gt===null)throw Error(r(349));(qe&127)!==0||x_(c,a,o)}f.memoizedState=o;var p={value:o,getSnapshot:a};return f.queue=p,z_(A_.bind(null,c,p,i),[i]),c.flags|=2048,Po(9,{destroy:void 0},S_.bind(null,c,p,o,a),null),o},useId:function(){var i=Gn(),a=gt.identifierPrefix;if(Ke){var o=gr,c=mr;o=(c&~(1<<32-ut(c)-1)).toString(32)+o,a="_"+a+"R_"+o,o=bd++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=CR++,a="_"+a+"r_"+o.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Up,useFormState:P_,useActionState:P_,useOptimistic:function(i){var a=Gn();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Lp.bind(null,Me,!0,o),o.dispatch=a,[i,a]},useMemoCache:Cp,useCacheRefresh:function(){return Gn().memoizedState=MR.bind(null,Me)},useEffectEvent:function(i){var a=Gn(),o={impl:i};return a.memoizedState=o,function(){if((nt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},jp={readContext:An,use:Td,useCallback:Y_,useContext:An,useEffect:kp,useImperativeHandle:G_,useInsertionEffect:F_,useLayoutEffect:q_,useMemo:$_,useReducer:wd,useRef:j_,useState:function(){return wd(zr)},useDebugValue:Mp,useDeferredValue:function(i,a){var o=qt();return K_(o,ft.memoizedState,i,a)},useTransition:function(){var i=wd(zr)[0],a=qt().memoizedState;return[typeof i=="boolean"?i:sc(i),a]},useSyncExternalStore:w_,useId:J_,useHostTransitionStatus:Up,useFormState:V_,useActionState:V_,useOptimistic:function(i,a){var o=qt();return I_(o,ft,i,a)},useMemoCache:Cp,useCacheRefresh:Z_};jp.useEffectEvent=B_;var rb={readContext:An,use:Td,useCallback:Y_,useContext:An,useEffect:kp,useImperativeHandle:G_,useInsertionEffect:F_,useLayoutEffect:q_,useMemo:$_,useReducer:Dp,useRef:j_,useState:function(){return Dp(zr)},useDebugValue:Mp,useDeferredValue:function(i,a){var o=qt();return ft===null?Pp(o,i,a):K_(o,ft.memoizedState,i,a)},useTransition:function(){var i=Dp(zr)[0],a=qt().memoizedState;return[typeof i=="boolean"?i:sc(i),a]},useSyncExternalStore:w_,useId:J_,useHostTransitionStatus:Up,useFormState:L_,useActionState:L_,useOptimistic:function(i,a){var o=qt();return ft!==null?I_(o,ft,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Cp,useCacheRefresh:Z_};rb.useEffectEvent=B_;function zp(i,a,o,c){a=i.memoizedState,o=o(c,a),o=o==null?a:_({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Bp={enqueueSetState:function(i,a,o){i=i._reactInternals;var c=vi(),f=Ea(c);f.payload=a,o!=null&&(f.callback=o),a=Ta(i,f,c),a!==null&&(ni(a,i,c),nc(a,i,c))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var c=vi(),f=Ea(c);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=Ta(i,f,c),a!==null&&(ni(a,i,c),nc(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=vi(),c=Ea(o);c.tag=2,a!=null&&(c.callback=a),a=Ta(i,c,o),a!==null&&(ni(a,i,o),nc(a,i,o))}};function ab(i,a,o,c,f,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,b):a.prototype&&a.prototype.isPureReactComponent?!Kl(o,c)||!Kl(f,p):!0}function sb(i,a,o,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==i&&Bp.enqueueReplaceState(a,a.state,null)}function Vs(i,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(i=i.defaultProps){o===a&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function ob(i){rd(i)}function lb(i){console.error(i)}function cb(i){rd(i)}function Rd(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function ub(i,a,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fp(i,a,o){return o=Ea(o),o.tag=3,o.payload={element:null},o.callback=function(){Rd(i,a)},o}function db(i){return i=Ea(i),i.tag=3,i}function fb(i,a,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){ub(a,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){ub(a,o,c),typeof f!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function VR(i,a,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Ro(a,o,f,!0),o=hi.current,o!==null){switch(o.tag){case 31:case 13:return Ii===null?jd():o.alternate===null&&Vt===0&&(Vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===pd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),hm(i,c,f)),!1;case 22:return o.flags|=65536,c===pd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),hm(i,c,f)),!1}throw Error(r(435,o.tag))}return hm(i,c,f),jd(),!1}if(Ke)return a=hi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==op&&(i=Error(r(422),{cause:c}),Wl(Si(i,o)))):(c!==op&&(a=Error(r(423),{cause:c}),Wl(Si(a,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Si(c,o),f=Fp(i.stateNode,c,f),yp(i,f),Vt!==4&&(Vt=2)),!1;var p=Error(r(520),{cause:c});if(p=Si(p,o),gc===null?gc=[p]:gc.push(p),Vt!==4&&(Vt=2),a===null)return!0;c=Si(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Fp(o.stateNode,c,i),yp(o,i),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ca===null||!Ca.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=db(f),fb(f,i,o,c),yp(o,f),!1}o=o.return}while(o!==null);return!1}var qp=Error(r(461)),tn=!1;function Rn(i,a,o,c){a.child=i===null?g_(a,null,o,c):Ms(a,i.child,o,c)}function hb(i,a,o,c,f){o=o.render;var p=a.ref;if("ref"in c){var b={};for(var w in c)w!=="ref"&&(b[w]=c[w])}else b=c;return Ds(a),c=xp(i,a,o,b,p,f),w=Sp(),i!==null&&!tn?(Ap(i,a,f),Br(i,a,f)):(Ke&&w&&ap(a),a.flags|=1,Rn(i,a,c,f),a.child)}function pb(i,a,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!np(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,mb(i,a,p,c,f)):(i=ld(o.type,null,c,a,a.mode,f),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!Wp(i,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Kl,o(b,c)&&i.ref===a.ref)return Br(i,a,f)}return a.flags|=1,i=Pr(p,c),i.ref=a.ref,i.return=a,a.child=i}function mb(i,a,o,c,f){if(i!==null){var p=i.memoizedProps;if(Kl(p,c)&&i.ref===a.ref)if(tn=!1,a.pendingProps=c=p,Wp(i,f))(i.flags&131072)!==0&&(tn=!0);else return a.lanes=i.lanes,Br(i,a,f)}return Hp(i,a,o,c,f)}function gb(i,a,o,c){var f=c.children,p=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=a.child=i.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~p}else c=0,a.child=null;return vb(i,a,p,o,c)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&fd(a,p!==null?p.cachePool:null),p!==null?__(a,p):bp(),b_(a);else return c=a.lanes=536870912,vb(i,a,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(fd(a,p.cachePool),__(a,p),xa(),a.memoizedState=null):(i!==null&&fd(a,null),bp(),xa());return Rn(i,a,f,o),a.child}function cc(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function vb(i,a,o,c,f){var p=pp();return p=p===null?null:{parent:Zt._currentValue,pool:p},a.memoizedState={baseLanes:o,cachePool:p},i!==null&&fd(a,null),bp(),b_(a),i!==null&&Ro(i,a,c,!0),a.childLanes=f,null}function Cd(i,a){return a=Dd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function yb(i,a,o){return Ms(a,i.child,null,o),i=Cd(a,a.pendingProps),i.flags|=2,pi(a),a.memoizedState=null,i}function UR(i,a,o){var c=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Ke){if(c.mode==="hidden")return i=Cd(a,c),a.lanes=536870912,cc(null,i);if(Tp(a),(i=bt)?(i=DE(i,Ci),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ga!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},o=t_(i),o.return=a,a.child=o,Sn=a,bt=null)):i=null,i===null)throw ya(a);return a.lanes=536870912,null}return Cd(a,c)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(Tp(a),f)if(a.flags&256)a.flags&=-257,a=yb(i,a,o);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(tn||Ro(i,a,o,!1),f=(o&i.childLanes)!==0,tn||f){if(c=gt,c!==null&&(b=Bn(c,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,As(i,b),ni(c,i,b),qp;jd(),a=yb(i,a,o)}else i=p.treeContext,bt=Di(b.nextSibling),Sn=a,Ke=!0,va=null,Ci=!1,i!==null&&r_(a,i),a=Cd(a,c),a.flags|=4096;return a}return i=Pr(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Id(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function Hp(i,a,o,c,f){return Ds(a),o=xp(i,a,o,c,void 0,f),c=Sp(),i!==null&&!tn?(Ap(i,a,f),Br(i,a,f)):(Ke&&c&&ap(a),a.flags|=1,Rn(i,a,o,f),a.child)}function _b(i,a,o,c,f,p){return Ds(a),a.updateQueue=null,o=T_(a,c,o,f),E_(i),c=Sp(),i!==null&&!tn?(Ap(i,a,p),Br(i,a,p)):(Ke&&c&&ap(a),a.flags|=1,Rn(i,a,o,p),a.child)}function bb(i,a,o,c,f){if(Ds(a),a.stateNode===null){var p=wo,b=o.contextType;typeof b=="object"&&b!==null&&(p=An(b)),p=new o(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Bp,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},gp(a),b=o.contextType,p.context=typeof b=="object"&&b!==null?An(b):wo,p.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(zp(a,o,b,c),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Bp.enqueueReplaceState(p,p.state,null),rc(a,c,p,f),ic(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){p=a.stateNode;var w=a.memoizedProps,V=Vs(o,w);p.props=V;var $=p.context,ee=o.contextType;b=wo,typeof ee=="object"&&ee!==null&&(b=An(ee));var re=o.getDerivedStateFromProps;ee=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||$!==b)&&sb(a,p,c,b),ba=!1;var K=a.memoizedState;p.state=K,rc(a,c,p,f),ic(),$=a.memoizedState,w||K!==$||ba?(typeof re=="function"&&(zp(a,o,re,c),$=a.memoizedState),(V=ba||ab(a,o,V,c,K,$,b))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=$),p.props=c,p.state=$,p.context=b,c=V):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,vp(i,a),b=a.memoizedProps,ee=Vs(o,b),p.props=ee,re=a.pendingProps,K=p.context,$=o.contextType,V=wo,typeof $=="object"&&$!==null&&(V=An($)),w=o.getDerivedStateFromProps,($=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==re||K!==V)&&sb(a,p,c,V),ba=!1,K=a.memoizedState,p.state=K,rc(a,c,p,f),ic();var W=a.memoizedState;b!==re||K!==W||ba||i!==null&&i.dependencies!==null&&ud(i.dependencies)?(typeof w=="function"&&(zp(a,o,w,c),W=a.memoizedState),(ee=ba||ab(a,o,ee,c,K,W,V)||i!==null&&i.dependencies!==null&&ud(i.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,W,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,W,V)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=W),p.props=c,p.state=W,p.context=V,c=ee):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),c=!1)}return p=c,Id(i,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&c?(a.child=Ms(a,i.child,null,f),a.child=Ms(a,null,o,f)):Rn(i,a,o,f),a.memoizedState=p.state,i=a.child):i=Br(i,a,f),i}function Eb(i,a,o,c){return Cs(),a.flags|=256,Rn(i,a,o,c),a.child}var Gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yp(i){return{baseLanes:i,cachePool:u_()}}function $p(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=gi),i}function Tb(i,a,o){var c=a.pendingProps,f=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(Ft.current&2)!==0),b&&(f=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ke){if(f?wa(a):xa(),(i=bt)?(i=DE(i,Ci),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ga!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},o=t_(i),o.return=a,a.child=o,Sn=a,bt=null)):i=null,i===null)throw ya(a);return Im(i)?a.lanes=32:a.lanes=536870912,null}var w=c.children;return c=c.fallback,f?(xa(),f=a.mode,w=Dd({mode:"hidden",children:w},f),c=Rs(c,f,o,null),w.return=a,c.return=a,w.sibling=c,a.child=w,c=a.child,c.memoizedState=Yp(o),c.childLanes=$p(i,b,o),a.memoizedState=Gp,cc(null,c)):(wa(a),Kp(a,w))}var V=i.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(p)a.flags&256?(wa(a),a.flags&=-257,a=Qp(i,a,o)):a.memoizedState!==null?(xa(),a.child=i.child,a.flags|=128,a=null):(xa(),w=c.fallback,f=a.mode,c=Dd({mode:"visible",children:c.children},f),w=Rs(w,f,o,null),w.flags|=2,c.return=a,w.return=a,c.sibling=w,a.child=c,Ms(a,i.child,null,o),c=a.child,c.memoizedState=Yp(o),c.childLanes=$p(i,b,o),a.memoizedState=Gp,a=cc(null,c));else if(wa(a),Im(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var $=b.dgst;b=$,c=Error(r(419)),c.stack="",c.digest=b,Wl({value:c,source:null,stack:null}),a=Qp(i,a,o)}else if(tn||Ro(i,a,o,!1),b=(o&i.childLanes)!==0,tn||b){if(b=gt,b!==null&&(c=Bn(b,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,As(i,c),ni(b,i,c),qp;Cm(w)||jd(),a=Qp(i,a,o)}else Cm(w)?(a.flags|=192,a.child=i.child,a=null):(i=V.treeContext,bt=Di(w.nextSibling),Sn=a,Ke=!0,va=null,Ci=!1,i!==null&&r_(a,i),a=Kp(a,c.children),a.flags|=4096);return a}return f?(xa(),w=c.fallback,f=a.mode,V=i.child,$=V.sibling,c=Pr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,$!==null?w=Pr($,w):(w=Rs(w,f,o,null),w.flags|=2),w.return=a,c.return=a,c.sibling=w,a.child=c,cc(null,c),c=a.child,w=i.child.memoizedState,w===null?w=Yp(o):(f=w.cachePool,f!==null?(V=Zt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=u_(),w={baseLanes:w.baseLanes|o,cachePool:f}),c.memoizedState=w,c.childLanes=$p(i,b,o),a.memoizedState=Gp,cc(i.child,c)):(wa(a),o=i.child,i=o.sibling,o=Pr(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,i!==null&&(b=a.deletions,b===null?(a.deletions=[i],a.flags|=16):b.push(i)),a.child=o,a.memoizedState=null,o)}function Kp(i,a){return a=Dd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Dd(i,a){return i=fi(22,i,null,a),i.lanes=0,i}function Qp(i,a,o){return Ms(a,i.child,null,o),i=Kp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function wb(i,a,o){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),up(i.return,a,o)}function Xp(i,a,o,c,f,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=f,b.treeForkCount=p)}function xb(i,a,o){var c=a.pendingProps,f=c.revealOrder,p=c.tail;c=c.children;var b=Ft.current,w=(b&2)!==0;if(w?(b=b&1|2,a.flags|=128):b&=1,le(Ft,b),Rn(i,a,c,o),c=Ke?Xl:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wb(i,o,a);else if(i.tag===19)wb(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=a.child,f=null;o!==null;)i=o.alternate,i!==null&&yd(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),Xp(a,!1,f,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(i=f.alternate,i!==null&&yd(i)===null){a.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Xp(a,!0,o,null,p,c);break;case"together":Xp(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Br(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),Ra|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(Ro(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,o=Pr(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Pr(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function Wp(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&ud(i)))}function LR(i,a,o){switch(a.tag){case 3:Qe(a,a.stateNode.containerInfo),_a(a,Zt,i.memoizedState.cache),Cs();break;case 27:case 5:Ne(a);break;case 4:Qe(a,a.stateNode.containerInfo);break;case 10:_a(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Tp(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(wa(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Tb(i,a,o):(wa(a),i=Br(i,a,o),i!==null?i.sibling:null);wa(a);break;case 19:var f=(i.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Ro(i,a,o,!1),c=(o&a.childLanes)!==0),f){if(c)return xb(i,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Ft,Ft.current),c)break;return null;case 22:return a.lanes=0,gb(i,a,o,a.pendingProps);case 24:_a(a,Zt,i.memoizedState.cache)}return Br(i,a,o)}function Sb(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)tn=!0;else{if(!Wp(i,o)&&(a.flags&128)===0)return tn=!1,LR(i,a,o);tn=(i.flags&131072)!==0}else tn=!1,Ke&&(a.flags&1048576)!==0&&i_(a,Xl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(i=Ns(a.elementType),a.type=i,typeof i=="function")np(i)?(c=Vs(i,c),a.tag=1,a=bb(null,a,i,c,o)):(a.tag=0,a=Hp(null,a,i,c,o));else{if(i!=null){var f=i.$$typeof;if(f===Q){a.tag=11,a=hb(null,a,i,c,o);break e}else if(f===C){a.tag=14,a=pb(null,a,i,c,o);break e}}throw a=be(i)||i,Error(r(306,a,""))}}return a;case 0:return Hp(i,a,a.type,a.pendingProps,o);case 1:return c=a.type,f=Vs(c,a.pendingProps),bb(i,a,c,f,o);case 3:e:{if(Qe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var p=a.memoizedState;f=p.element,vp(i,a),rc(a,c,null,o);var b=a.memoizedState;if(c=b.cache,_a(a,Zt,c),c!==p.cache&&dp(a,[Zt],o,!0),ic(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Eb(i,a,c,o);break e}else if(c!==f){f=Si(Error(r(424)),a),Wl(f),a=Eb(i,a,c,o);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,bt=Di(i.firstChild),Sn=a,Ke=!0,va=null,Ci=!0,o=g_(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Cs(),c===f){a=Br(i,a,o);break e}Rn(i,a,c,o)}a=a.child}return a;case 26:return Id(i,a),i===null?(o=VE(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ke||(o=a.type,i=a.pendingProps,c=Yd(ye.current).createElement(o),c[Xt]=a,c[vn]=i,Cn(c,o,i),Wt(c),a.stateNode=c):a.memoizedState=VE(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ne(a),i===null&&Ke&&(c=a.stateNode=kE(a.type,a.pendingProps,ye.current),Sn=a,Ci=!0,f=bt,Na(a.type)?(Dm=f,bt=Di(c.firstChild)):bt=f),Rn(i,a,a.pendingProps.children,o),Id(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ke&&((f=c=bt)&&(c=pC(c,a.type,a.pendingProps,Ci),c!==null?(a.stateNode=c,Sn=a,bt=Di(c.firstChild),Ci=!1,f=!0):f=!1),f||ya(a)),Ne(a),f=a.type,p=a.pendingProps,b=i!==null?i.memoizedProps:null,c=p.children,Sm(f,p)?c=null:b!==null&&Sm(f,b)&&(a.flags|=32),a.memoizedState!==null&&(f=xp(i,a,IR,null,null,o),xc._currentValue=f),Id(i,a),Rn(i,a,c,o),a.child;case 6:return i===null&&Ke&&((i=o=bt)&&(o=mC(o,a.pendingProps,Ci),o!==null?(a.stateNode=o,Sn=a,bt=null,i=!0):i=!1),i||ya(a)),null;case 13:return Tb(i,a,o);case 4:return Qe(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Ms(a,null,c,o):Rn(i,a,c,o),a.child;case 11:return hb(i,a,a.type,a.pendingProps,o);case 7:return Rn(i,a,a.pendingProps,o),a.child;case 8:return Rn(i,a,a.pendingProps.children,o),a.child;case 12:return Rn(i,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,_a(a,a.type,c.value),Rn(i,a,c.children,o),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Ds(a),f=An(f),c=c(f),a.flags|=1,Rn(i,a,c,o),a.child;case 14:return pb(i,a,a.type,a.pendingProps,o);case 15:return mb(i,a,a.type,a.pendingProps,o);case 19:return xb(i,a,o);case 31:return UR(i,a,o);case 22:return gb(i,a,o,a.pendingProps);case 24:return Ds(a),c=An(Zt),i===null?(f=pp(),f===null&&(f=gt,p=fp(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),a.memoizedState={parent:c,cache:f},gp(a),_a(a,Zt,f)):((i.lanes&o)!==0&&(vp(i,a),rc(a,null,null,o),ic()),f=i.memoizedState,p=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),_a(a,Zt,c)):(c=p.cache,_a(a,Zt,c),c!==f.cache&&dp(a,[Zt],o,!0))),Rn(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Fr(i){i.flags|=4}function Jp(i,a,o,c,f){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Jb())i.flags|=8192;else throw ks=pd,mp}else i.flags&=-16777217}function Ab(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!BE(a))if(Jb())i.flags|=8192;else throw ks=pd,mp}function Od(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?gn():536870912,i.lanes|=a,jo|=a)}function uc(i,a){if(!Ke)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Et(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(a)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,a}function jR(i,a,o){var c=a.pendingProps;switch(sp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return o=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Lr(Zt),Ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ao(a)?Fr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,lp())),Et(a),null;case 26:var f=a.type,p=a.memoizedState;return i===null?(Fr(a),p!==null?(Et(a),Ab(a,p)):(Et(a),Jp(a,f,null,c,o))):p?p!==i.memoizedState?(Fr(a),Et(a),Ab(a,p)):(Et(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&Fr(a),Et(a),Jp(a,f,i,c,o)),null;case 27:if(Yt(a),o=ye.current,f=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Fr(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Et(a),null}i=ce.current,Ao(a)?a_(a):(i=kE(f,c,o),a.stateNode=i,Fr(a))}return Et(a),null;case 5:if(Yt(a),f=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Fr(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Et(a),null}if(p=ce.current,Ao(a))a_(a);else{var b=Yd(ye.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}p[Xt]=a,p[vn]=c;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;e:switch(Cn(p,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Fr(a)}}return Et(a),Jp(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,o),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Fr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=ye.current,Ao(a)){if(i=a.stateNode,o=a.memoizedProps,c=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Xt]=a,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||TE(i.nodeValue,o)),i||ya(a,!0)}else i=Yd(i).createTextNode(c),i[Xt]=a,a.stateNode=i}return Et(a),null;case 31:if(o=a.memoizedState,i===null||i.memoizedState!==null){if(c=Ao(a),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Xt]=a}else Cs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),i=!1}else o=lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return a.flags&256?(pi(a),a):(pi(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Et(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ao(a),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Xt]=a}else Cs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),f=!1}else f=lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(pi(a),a):(pi(a),null)}return pi(a),(a.flags&128)!==0?(a.lanes=o,a):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)),o!==i&&o&&(a.child.flags|=8192),Od(a,a.updateQueue),Et(a),null);case 4:return Ve(),i===null&&bm(a.stateNode.containerInfo),Et(a),null;case 10:return Lr(a.type),Et(a),null;case 19:if(J(Ft),c=a.memoizedState,c===null)return Et(a),null;if(f=(a.flags&128)!==0,p=c.rendering,p===null)if(f)uc(c,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=yd(i),p!==null){for(a.flags|=128,uc(c,!1),i=p.updateQueue,a.updateQueue=i,Od(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)e_(o,i),o=o.sibling;return le(Ft,Ft.current&1|2),Ke&&Vr(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&Kt()>Vd&&(a.flags|=128,f=!0,uc(c,!1),a.lanes=4194304)}else{if(!f)if(i=yd(p),i!==null){if(a.flags|=128,f=!0,i=i.updateQueue,a.updateQueue=i,Od(a,i),uc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Ke)return Et(a),null}else 2*Kt()-c.renderingStartTime>Vd&&o!==536870912&&(a.flags|=128,f=!0,uc(c,!1),a.lanes=4194304);c.isBackwards?(p.sibling=a.child,a.child=p):(i=c.last,i!==null?i.sibling=p:a.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Kt(),i.sibling=null,o=Ft.current,le(Ft,f?o&1|2:o&1),Ke&&Vr(a,c.treeForkCount),i):(Et(a),null);case 22:case 23:return pi(a),Ep(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),o=a.updateQueue,o!==null&&Od(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),i!==null&&J(Os),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Lr(Zt),Et(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function zR(i,a){switch(sp(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Lr(Zt),Ve(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Yt(a),null;case 31:if(a.memoizedState!==null){if(pi(a),a.alternate===null)throw Error(r(340));Cs()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(pi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Cs()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return J(Ft),null;case 4:return Ve(),null;case 10:return Lr(a.type),null;case 22:case 23:return pi(a),Ep(),i!==null&&J(Os),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Lr(Zt),null;case 25:return null;default:return null}}function Rb(i,a){switch(sp(a),a.tag){case 3:Lr(Zt),Ve();break;case 26:case 27:case 5:Yt(a);break;case 4:Ve();break;case 31:a.memoizedState!==null&&pi(a);break;case 13:pi(a);break;case 19:J(Ft);break;case 10:Lr(a.type);break;case 22:case 23:pi(a),Ep(),i!==null&&J(Os);break;case 24:Lr(Zt)}}function dc(i,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==f)}}catch(w){lt(a,a.return,w)}}function Sa(i,a,o){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var b=c.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=a;var V=o,$=w;try{$()}catch(ee){lt(f,V,ee)}}}c=c.next}while(c!==p)}}catch(ee){lt(a,a.return,ee)}}function Cb(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{y_(a,o)}catch(c){lt(i,i.return,c)}}}function Ib(i,a,o){o.props=Vs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){lt(i,a,c)}}function fc(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){lt(i,a,f)}}function vr(i,a){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){lt(i,a,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){lt(i,a,f)}else o.current=null}function Db(i){var a=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){lt(i,i.return,f)}}function Zp(i,a,o){try{var c=i.stateNode;lC(c,i.type,o,a),c[vn]=a}catch(f){lt(i,i.return,f)}}function Ob(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Na(i.type)||i.tag===4}function em(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ob(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Na(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tm(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Ui));else if(c!==4&&(c===27&&Na(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(tm(i,a,o),i=i.sibling;i!==null;)tm(i,a,o),i=i.sibling}function Nd(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(c!==4&&(c===27&&Na(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Nd(i,a,o),i=i.sibling;i!==null;)Nd(i,a,o),i=i.sibling}function Nb(i){var a=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Cn(a,c,o),a[Xt]=i,a[vn]=o}catch(p){lt(i,i.return,p)}}var qr=!1,nn=!1,nm=!1,kb=typeof WeakSet=="function"?WeakSet:Set,_n=null;function BR(i,a){if(i=i.containerInfo,wm=Zd,i=Gy(i),Qh(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,w=-1,V=-1,$=0,ee=0,re=i,K=null;t:for(;;){for(var W;re!==o||f!==0&&re.nodeType!==3||(w=b+f),re!==p||c!==0&&re.nodeType!==3||(V=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(W=re.firstChild)!==null;)K=re,re=W;for(;;){if(re===i)break t;if(K===o&&++$===f&&(w=b),K===p&&++ee===c&&(V=b),(W=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=W}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(xm={focusedElem:i,selectionRange:o},Zd=!1,_n=a;_n!==null;)if(a=_n,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,_n=i;else for(;_n!==null;){switch(a=_n,p=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=a,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var me=Vs(o.type,f);i=c.getSnapshotBeforeUpdate(me,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(Se){lt(o,o.return,Se)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)Rm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,_n=i;break}_n=a.return}}function Mb(i,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Gr(i,o),c&4&&dc(5,o);break;case 1:if(Gr(i,o),c&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(b){lt(o,o.return,b)}else{var f=Vs(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(f,a,i.__reactInternalSnapshotBeforeUpdate)}catch(b){lt(o,o.return,b)}}c&64&&Cb(o),c&512&&fc(o,o.return);break;case 3:if(Gr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{y_(i,a)}catch(b){lt(o,o.return,b)}}break;case 27:a===null&&c&4&&Nb(o);case 26:case 5:Gr(i,o),a===null&&c&4&&Db(o),c&512&&fc(o,o.return);break;case 12:Gr(i,o);break;case 31:Gr(i,o),c&4&&Ub(i,o);break;case 13:Gr(i,o),c&4&&Lb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=XR.bind(null,o),gC(i,o))));break;case 22:if(c=o.memoizedState!==null||qr,!c){a=a!==null&&a.memoizedState!==null||nn,f=qr;var p=nn;qr=c,(nn=a)&&!p?Yr(i,o,(o.subtreeFlags&8772)!==0):Gr(i,o),qr=f,nn=p}break;case 30:break;default:Gr(i,o)}}function Pb(i){var a=i.alternate;a!==null&&(i.alternate=null,Pb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&lo(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,Jn=!1;function Hr(i,a,o){for(o=o.child;o!==null;)Vb(i,a,o),o=o.sibling}function Vb(i,a,o){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Tn,o)}catch{}switch(o.tag){case 26:nn||vr(o,a),Hr(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:nn||vr(o,a);var c=Ct,f=Jn;Na(o.type)&&(Ct=o.stateNode,Jn=!1),Hr(i,a,o),Ec(o.stateNode),Ct=c,Jn=f;break;case 5:nn||vr(o,a);case 6:if(c=Ct,f=Jn,Ct=null,Hr(i,a,o),Ct=c,Jn=f,Ct!==null)if(Jn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(p){lt(o,a,p)}else try{Ct.removeChild(o.stateNode)}catch(p){lt(o,a,p)}break;case 18:Ct!==null&&(Jn?(i=Ct,CE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),$o(i)):CE(Ct,o.stateNode));break;case 4:c=Ct,f=Jn,Ct=o.stateNode.containerInfo,Jn=!0,Hr(i,a,o),Ct=c,Jn=f;break;case 0:case 11:case 14:case 15:Sa(2,o,a),nn||Sa(4,o,a),Hr(i,a,o);break;case 1:nn||(vr(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Ib(o,a,c)),Hr(i,a,o);break;case 21:Hr(i,a,o);break;case 22:nn=(c=nn)||o.memoizedState!==null,Hr(i,a,o),nn=c;break;default:Hr(i,a,o)}}function Ub(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{$o(i)}catch(o){lt(a,a.return,o)}}}function Lb(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$o(i)}catch(o){lt(a,a.return,o)}}function FR(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new kb),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new kb),a;default:throw Error(r(435,i.tag))}}function kd(i,a){var o=FR(i);a.forEach(function(c){if(!o.has(c)){o.add(c);var f=WR.bind(null,i,c);c.then(f,f)}})}function Zn(i,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,b=a,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Na(w.type)){Ct=w.stateNode,Jn=!1;break e}break;case 5:Ct=w.stateNode,Jn=!1;break e;case 3:case 4:Ct=w.stateNode.containerInfo,Jn=!0;break e}w=w.return}if(Ct===null)throw Error(r(160));Vb(p,b,f),Ct=null,Jn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)jb(a,i),a=a.sibling}var qi=null;function jb(i,a){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zn(a,i),ei(i),c&4&&(Sa(3,i,i.return),dc(3,i),Sa(5,i,i.return));break;case 1:Zn(a,i),ei(i),c&512&&(nn||o===null||vr(o,o.return)),c&64&&qr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=qi;if(Zn(a,i),ei(i),c&512&&(nn||o===null||vr(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ir]||p[Xt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),Cn(p,c,o),p[Xt]=i,Wt(p),c=p;break e;case"link":var b=jE("link","href",f).get(c+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(p=b[w],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}p=f.createElement(c),Cn(p,c,o),f.head.appendChild(p);break;case"meta":if(b=jE("meta","content",f).get(c+(o.content||""))){for(w=0;w<b.length;w++)if(p=b[w],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}p=f.createElement(c),Cn(p,c,o),f.head.appendChild(p);break;default:throw Error(r(468,c))}p[Xt]=i,Wt(p),c=p}i.stateNode=c}else zE(f,i.type,i.stateNode);else i.stateNode=LE(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?zE(f,i.type,i.stateNode):LE(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Zp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Zn(a,i),ei(i),c&512&&(nn||o===null||vr(o,o.return)),o!==null&&c&4&&Zp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Zn(a,i),ei(i),c&512&&(nn||o===null||vr(o,o.return)),i.flags&32){f=i.stateNode;try{Wn(f,"")}catch(me){lt(i,i.return,me)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Zp(i,f,o!==null?o.memoizedProps:f)),c&1024&&(nm=!0);break;case 6:if(Zn(a,i),ei(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(me){lt(i,i.return,me)}}break;case 3:if(Qd=null,f=qi,qi=$d(a.containerInfo),Zn(a,i),qi=f,ei(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{$o(a.containerInfo)}catch(me){lt(i,i.return,me)}nm&&(nm=!1,zb(i));break;case 4:c=qi,qi=$d(i.stateNode.containerInfo),Zn(a,i),ei(i),qi=c;break;case 12:Zn(a,i),ei(i);break;case 31:Zn(a,i),ei(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kd(i,c)));break;case 13:Zn(a,i),ei(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Pd=Kt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kd(i,c)));break;case 22:f=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=qr,ee=nn;if(qr=$||f,nn=ee||V,Zn(a,i),nn=ee,qr=$,ei(i),c&8192)e:for(a=i.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||V||qr||nn||Us(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){V=o=a;try{if(p=V.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=V.stateNode;var re=V.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){lt(V,V.return,me)}}}else if(a.tag===6){if(o===null){V=a;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(me){lt(V,V.return,me)}}}else if(a.tag===18){if(o===null){V=a;try{var W=V.stateNode;f?IE(W,!0):IE(V.stateNode,!1)}catch(me){lt(V,V.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,kd(i,o))));break;case 19:Zn(a,i),ei(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kd(i,c)));break;case 30:break;case 21:break;default:Zn(a,i),ei(i)}}function ei(i){var a=i.flags;if(a&2){try{for(var o,c=i.return;c!==null;){if(Ob(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,p=em(i);Nd(i,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(Wn(b,""),o.flags&=-33);var w=em(i);Nd(i,w,b);break;case 3:case 4:var V=o.stateNode.containerInfo,$=em(i);tm(i,$,V);break;default:throw Error(r(161))}}catch(ee){lt(i,i.return,ee)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function zb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;zb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Gr(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Mb(i,a.alternate,a),a=a.sibling}function Us(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Sa(4,a,a.return),Us(a);break;case 1:vr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Ib(a,a.return,o),Us(a);break;case 27:Ec(a.stateNode);case 26:case 5:vr(a,a.return),Us(a);break;case 22:a.memoizedState===null&&Us(a);break;case 30:Us(a);break;default:Us(a)}i=i.sibling}}function Yr(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=i,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:Yr(f,p,o),dc(4,p);break;case 1:if(Yr(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){lt(c,c.return,$)}if(c=p,f=c.updateQueue,f!==null){var w=c.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)v_(V[f],w)}catch($){lt(c,c.return,$)}}o&&b&64&&Cb(p),fc(p,p.return);break;case 27:Nb(p);case 26:case 5:Yr(f,p,o),o&&c===null&&b&4&&Db(p),fc(p,p.return);break;case 12:Yr(f,p,o);break;case 31:Yr(f,p,o),o&&b&4&&Ub(f,p);break;case 13:Yr(f,p,o),o&&b&4&&Lb(f,p);break;case 22:p.memoizedState===null&&Yr(f,p,o),fc(p,p.return);break;case 30:break;default:Yr(f,p,o)}a=a.sibling}}function im(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Jl(o))}function rm(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Jl(i))}function Hi(i,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bb(i,a,o,c),a=a.sibling}function Bb(i,a,o,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(i,a,o,c),f&2048&&dc(9,a);break;case 1:Hi(i,a,o,c);break;case 3:Hi(i,a,o,c),f&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Jl(i)));break;case 12:if(f&2048){Hi(i,a,o,c),i=a.stateNode;try{var p=a.memoizedProps,b=p.id,w=p.onPostCommit;typeof w=="function"&&w(b,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){lt(a,a.return,V)}}else Hi(i,a,o,c);break;case 31:Hi(i,a,o,c);break;case 13:Hi(i,a,o,c);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?Hi(i,a,o,c):hc(i,a):p._visibility&2?Hi(i,a,o,c):(p._visibility|=2,Vo(i,a,o,c,(a.subtreeFlags&10256)!==0||!1)),f&2048&&im(b,a);break;case 24:Hi(i,a,o,c),f&2048&&rm(a.alternate,a);break;default:Hi(i,a,o,c)}}function Vo(i,a,o,c,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=i,b=a,w=o,V=c,$=b.flags;switch(b.tag){case 0:case 11:case 15:Vo(p,b,w,V,f),dc(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Vo(p,b,w,V,f):hc(p,b):(ee._visibility|=2,Vo(p,b,w,V,f)),f&&$&2048&&im(b.alternate,b);break;case 24:Vo(p,b,w,V,f),f&&$&2048&&rm(b.alternate,b);break;default:Vo(p,b,w,V,f)}a=a.sibling}}function hc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,c=a,f=c.flags;switch(c.tag){case 22:hc(o,c),f&2048&&im(c.alternate,c);break;case 24:hc(o,c),f&2048&&rm(c.alternate,c);break;default:hc(o,c)}a=a.sibling}}var pc=8192;function Uo(i,a,o){if(i.subtreeFlags&pc)for(i=i.child;i!==null;)Fb(i,a,o),i=i.sibling}function Fb(i,a,o){switch(i.tag){case 26:Uo(i,a,o),i.flags&pc&&i.memoizedState!==null&&CC(o,qi,i.memoizedState,i.memoizedProps);break;case 5:Uo(i,a,o);break;case 3:case 4:var c=qi;qi=$d(i.stateNode.containerInfo),Uo(i,a,o),qi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=pc,pc=16777216,Uo(i,a,o),pc=c):Uo(i,a,o));break;default:Uo(i,a,o)}}function qb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function mc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];_n=c,Gb(c,i)}qb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hb(i),i=i.sibling}function Hb(i){switch(i.tag){case 0:case 11:case 15:mc(i),i.flags&2048&&Sa(9,i,i.return);break;case 3:mc(i);break;case 12:mc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Md(i)):mc(i);break;default:mc(i)}}function Md(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];_n=c,Gb(c,i)}qb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Sa(8,a,a.return),Md(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Md(a));break;default:Md(a)}i=i.sibling}}function Gb(i,a){for(;_n!==null;){var o=_n;switch(o.tag){case 0:case 11:case 15:Sa(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Jl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,_n=c;else e:for(o=i;_n!==null;){c=_n;var f=c.sibling,p=c.return;if(Pb(c),c===o){_n=null;break e}if(f!==null){f.return=p,_n=f;break e}_n=p}}}var qR={getCacheForType:function(i){var a=An(Zt),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o},cacheSignal:function(){return An(Zt).controller.signal}},HR=typeof WeakMap=="function"?WeakMap:Map,nt=0,gt=null,je=null,qe=0,ot=0,mi=null,Aa=!1,Lo=!1,am=!1,$r=0,Vt=0,Ra=0,Ls=0,sm=0,gi=0,jo=0,gc=null,ti=null,om=!1,Pd=0,Yb=0,Vd=1/0,Ud=null,Ca=null,cn=0,Ia=null,zo=null,Kr=0,lm=0,cm=null,$b=null,vc=0,um=null;function vi(){return(nt&2)!==0&&qe!==0?qe&-qe:Z.T!==null?gm():li()}function Kb(){if(gi===0)if((qe&536870912)===0||Ke){var i=Or;Or<<=1,(Or&3932160)===0&&(Or=262144),gi=i}else gi=536870912;return i=hi.current,i!==null&&(i.flags|=32),gi}function ni(i,a,o){(i===gt&&(ot===2||ot===9)||i.cancelPendingCommit!==null)&&(Bo(i,0),Da(i,qe,gi,!1)),Qn(i,o),((nt&2)===0||i!==gt)&&(i===gt&&((nt&2)===0&&(Ls|=o),Vt===4&&Da(i,qe,gi,!1)),yr(i))}function Qb(i,a,o){if((nt&6)!==0)throw Error(r(327));var c=!o&&(a&127)===0&&(a&i.expiredLanes)===0||Qt(i,a),f=c?$R(i,a):fm(i,a,!0),p=c;do{if(f===0){Lo&&!c&&Da(i,a,0,!1);break}else{if(o=i.current.alternate,p&&!GR(o)){f=fm(i,a,!1),p=!1;continue}if(f===2){if(p=a,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var w=i;f=gc;var V=w.current.memoizedState.isDehydrated;if(V&&(Bo(w,b).flags|=256),b=fm(w,b,!1),b!==2){if(am&&!V){w.errorRecoveryDisabledLanes|=p,Ls|=p,f=4;break e}p=ti,ti=f,p!==null&&(ti===null?ti=p:ti.push.apply(ti,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){Bo(i,0),Da(i,a,0,!0);break}e:{switch(c=i,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Da(c,a,gi,!Aa);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=Pd+300-Kt(),10<f)){if(Da(c,a,gi,!Aa),At(c,0,!0)!==0)break e;Kr=a,c.timeoutHandle=AE(Xb.bind(null,c,o,ti,Ud,om,a,gi,Ls,jo,Aa,p,"Throttled",-0,0),f);break e}Xb(c,o,ti,Ud,om,a,gi,Ls,jo,Aa,p,null,-0,0)}}break}while(!0);yr(i)}function Xb(i,a,o,c,f,p,b,w,V,$,ee,re,K,W){if(i.timeoutHandle=-1,re=a.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},Fb(a,p,re);var me=(p&62914560)===p?Pd-Kt():(p&4194048)===p?Yb-Kt():0;if(me=IC(re,me),me!==null){Kr=p,i.cancelPendingCommit=me(rE.bind(null,i,a,p,o,c,f,b,w,V,ee,re,null,K,W)),Da(i,p,b,!$);return}}rE(i,a,p,o,c,f,b,w,V)}function GR(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!di(p(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Da(i,a,o,c){a&=~sm,a&=~Ls,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var f=a;0<f;){var p=31-ut(f),b=1<<p;c[p]=-1,f&=~b}o!==0&&Mn(i,o,a)}function Ld(){return(nt&6)===0?(yc(0),!1):!0}function dm(){if(je!==null){if(ot===0)var i=je.return;else i=je,Ur=Is=null,Rp(i),Oo=null,ec=0,i=je;for(;i!==null;)Rb(i.alternate,i),i=i.return;je=null}}function Bo(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,dC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Kr=0,dm(),gt=i,je=o=Pr(i.current,null),qe=a,ot=0,mi=null,Aa=!1,Lo=Qt(i,a),am=!1,jo=gi=sm=Ls=Ra=Vt=0,ti=gc=null,om=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var f=31-ut(c),p=1<<f;a|=i[f],c&=~p}return $r=a,ad(),o}function Wb(i,a){Me=null,Z.H=lc,a===Do||a===hd?(a=h_(),ot=3):a===mp?(a=h_(),ot=4):ot=a===qp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,mi=a,je===null&&(Vt=1,Rd(i,Si(a,i.current)))}function Jb(){var i=hi.current;return i===null?!0:(qe&4194048)===qe?Ii===null:(qe&62914560)===qe||(qe&536870912)!==0?i===Ii:!1}function Zb(){var i=Z.H;return Z.H=lc,i===null?lc:i}function eE(){var i=Z.A;return Z.A=qR,i}function jd(){Vt=4,Aa||(qe&4194048)!==qe&&hi.current!==null||(Lo=!0),(Ra&134217727)===0&&(Ls&134217727)===0||gt===null||Da(gt,qe,gi,!1)}function fm(i,a,o){var c=nt;nt|=2;var f=Zb(),p=eE();(gt!==i||qe!==a)&&(Ud=null,Bo(i,a)),a=!1;var b=Vt;e:do try{if(ot!==0&&je!==null){var w=je,V=mi;switch(ot){case 8:dm(),b=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(a=!0);var $=ot;if(ot=0,mi=null,Fo(i,w,V,$),o&&Lo){b=0;break e}break;default:$=ot,ot=0,mi=null,Fo(i,w,V,$)}}YR(),b=Vt;break}catch(ee){Wb(i,ee)}while(!0);return a&&i.shellSuspendCounter++,Ur=Is=null,nt=c,Z.H=f,Z.A=p,je===null&&(gt=null,qe=0,ad()),b}function YR(){for(;je!==null;)tE(je)}function $R(i,a){var o=nt;nt|=2;var c=Zb(),f=eE();gt!==i||qe!==a?(Ud=null,Vd=Kt()+500,Bo(i,a)):Lo=Qt(i,a);e:do try{if(ot!==0&&je!==null){a=je;var p=mi;t:switch(ot){case 1:ot=0,mi=null,Fo(i,a,p,1);break;case 2:case 9:if(d_(p)){ot=0,mi=null,nE(a);break}a=function(){ot!==2&&ot!==9||gt!==i||(ot=7),yr(i)},p.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:d_(p)?(ot=0,mi=null,nE(a)):(ot=0,mi=null,Fo(i,a,p,7));break;case 5:var b=null;switch(je.tag){case 26:b=je.memoizedState;case 5:case 27:var w=je;if(b?BE(b):w.stateNode.complete){ot=0,mi=null;var V=w.sibling;if(V!==null)je=V;else{var $=w.return;$!==null?(je=$,zd($)):je=null}break t}}ot=0,mi=null,Fo(i,a,p,5);break;case 6:ot=0,mi=null,Fo(i,a,p,6);break;case 8:dm(),Vt=6;break e;default:throw Error(r(462))}}KR();break}catch(ee){Wb(i,ee)}while(!0);return Ur=Is=null,Z.H=c,Z.A=f,nt=o,je!==null?0:(gt=null,qe=0,ad(),Vt)}function KR(){for(;je!==null&&!Zi();)tE(je)}function tE(i){var a=Sb(i.alternate,i,$r);i.memoizedProps=i.pendingProps,a===null?zd(i):je=a}function nE(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=_b(o,a,a.pendingProps,a.type,void 0,qe);break;case 11:a=_b(o,a,a.pendingProps,a.type.render,a.ref,qe);break;case 5:Rp(a);default:Rb(o,a),a=je=e_(a,$r),a=Sb(o,a,$r)}i.memoizedProps=i.pendingProps,a===null?zd(i):je=a}function Fo(i,a,o,c){Ur=Is=null,Rp(a),Oo=null,ec=0;var f=a.return;try{if(VR(i,f,a,o,qe)){Vt=1,Rd(i,Si(o,i.current)),je=null;return}}catch(p){if(f!==null)throw je=f,p;Vt=1,Rd(i,Si(o,i.current)),je=null;return}a.flags&32768?(Ke||c===1?i=!0:Lo||(qe&536870912)!==0?i=!1:(Aa=i=!0,(c===2||c===9||c===3||c===6)&&(c=hi.current,c!==null&&c.tag===13&&(c.flags|=16384))),iE(a,i)):zd(a)}function zd(i){var a=i;do{if((a.flags&32768)!==0){iE(a,Aa);return}i=a.return;var o=jR(a.alternate,a,$r);if(o!==null){je=o;return}if(a=a.sibling,a!==null){je=a;return}je=a=i}while(a!==null);Vt===0&&(Vt=5)}function iE(i,a){do{var o=zR(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);Vt=6,je=null}function rE(i,a,o,c,f,p,b,w,V){i.cancelPendingCommit=null;do Bd();while(cn!==0);if((nt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(p=a.lanes|a.childLanes,p|=ep,zt(i,o,p,b,w,V),i===gt&&(je=gt=null,qe=0),zo=a,Ia=i,Kr=o,lm=p,cm=f,$b=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,JR(Fe,function(){return cE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,f=oe.p,oe.p=2,b=nt,nt|=4;try{BR(i,a,o)}finally{nt=b,oe.p=f,Z.T=c}}cn=1,aE(),sE(),oE()}}function aE(){if(cn===1){cn=0;var i=Ia,a=zo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=oe.p;oe.p=2;var f=nt;nt|=4;try{jb(a,i);var p=xm,b=Gy(i.containerInfo),w=p.focusedElem,V=p.selectionRange;if(b!==w&&w&&w.ownerDocument&&Hy(w.ownerDocument.documentElement,w)){if(V!==null&&Qh(w)){var $=V.start,ee=V.end;if(ee===void 0&&(ee=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(ee,w.value.length);else{var re=w.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var W=K.getSelection(),me=w.textContent.length,Se=Math.min(V.start,me),pt=V.end===void 0?Se:Math.min(V.end,me);!W.extend&&Se>pt&&(b=pt,pt=Se,Se=b);var q=qy(w,Se),z=qy(w,pt);if(q&&z&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var Y=re.createRange();Y.setStart(q.node,q.offset),W.removeAllRanges(),Se>pt?(W.addRange(Y),W.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),W.addRange(Y))}}}}for(re=[],W=w;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var ne=re[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Zd=!!wm,xm=wm=null}finally{nt=f,oe.p=c,Z.T=o}}i.current=a,cn=2}}function sE(){if(cn===2){cn=0;var i=Ia,a=zo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=oe.p;oe.p=2;var f=nt;nt|=4;try{Mb(i,a.alternate,a)}finally{nt=f,oe.p=c,Z.T=o}}cn=3}}function oE(){if(cn===4||cn===3){cn=0,Dr();var i=Ia,a=zo,o=Kr,c=$b;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?cn=5:(cn=0,zo=Ia=null,lE(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ca=null),Fn(o),a=a.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Tn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Z.T,f=oe.p,oe.p=2,Z.T=null;try{for(var p=i.onRecoverableError,b=0;b<c.length;b++){var w=c[b];p(w.value,{componentStack:w.stack})}}finally{Z.T=a,oe.p=f}}(Kr&3)!==0&&Bd(),yr(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===um?vc++:(vc=0,um=i):vc=0,yc(0)}}function lE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Jl(a)))}function Bd(){return aE(),sE(),oE(),cE()}function cE(){if(cn!==5)return!1;var i=Ia,a=lm;lm=0;var o=Fn(Kr),c=Z.T,f=oe.p;try{oe.p=32>o?32:o,Z.T=null,o=cm,cm=null;var p=Ia,b=Kr;if(cn=0,zo=Ia=null,Kr=0,(nt&6)!==0)throw Error(r(331));var w=nt;if(nt|=4,Hb(p.current),Bb(p,p.current,b,o),nt=w,yc(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Tn,p)}catch{}return!0}finally{oe.p=f,Z.T=c,lE(i,a)}}function uE(i,a,o){a=Si(o,a),a=Fp(i.stateNode,a,2),i=Ta(i,a,2),i!==null&&(Qn(i,2),yr(i))}function lt(i,a,o){if(i.tag===3)uE(i,i,o);else for(;a!==null;){if(a.tag===3){uE(a,i,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ca===null||!Ca.has(c))){i=Si(o,i),o=db(2),c=Ta(a,o,2),c!==null&&(fb(o,c,a,i),Qn(c,2),yr(c));break}}a=a.return}}function hm(i,a,o){var c=i.pingCache;if(c===null){c=i.pingCache=new HR;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(o)||(am=!0,f.add(o),i=QR.bind(null,i,a,o),a.then(i,i))}function QR(i,a,o){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,gt===i&&(qe&o)===o&&(Vt===4||Vt===3&&(qe&62914560)===qe&&300>Kt()-Pd?(nt&2)===0&&Bo(i,0):sm|=o,jo===qe&&(jo=0)),yr(i)}function dE(i,a){a===0&&(a=gn()),i=As(i,a),i!==null&&(Qn(i,a),yr(i))}function XR(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),dE(i,o)}function WR(i,a){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),dE(i,o)}function JR(i,a){return Je(i,a)}var Fd=null,qo=null,pm=!1,qd=!1,mm=!1,Oa=0;function yr(i){i!==qo&&i.next===null&&(qo===null?Fd=qo=i:qo=qo.next=i),qd=!0,pm||(pm=!0,eC())}function yc(i,a){if(!mm&&qd){mm=!0;do for(var o=!1,c=Fd;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var b=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-ut(42|i)+1)-1,p&=f&~(b&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,mE(c,p))}else p=qe,p=At(c,c===gt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Qt(c,p)||(o=!0,mE(c,p));c=c.next}while(o);mm=!1}}function ZR(){fE()}function fE(){qd=pm=!1;var i=0;Oa!==0&&uC()&&(i=Oa);for(var a=Kt(),o=null,c=Fd;c!==null;){var f=c.next,p=hE(c,a);p===0?(c.next=null,o===null?Fd=f:o.next=f,f===null&&(qo=o)):(o=c,(i!==0||(p&3)!==0)&&(qd=!0)),c=f}cn!==0&&cn!==5||yc(i),Oa!==0&&(Oa=0)}function hE(i,a){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-ut(p),w=1<<b,V=f[b];V===-1?((w&o)===0||(w&c)!==0)&&(f[b]=kn(w,a)):V<=a&&(i.expiredLanes|=w),p&=~w}if(a=gt,o=qe,o=At(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===a&&(ot===2||ot===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&pn(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Qt(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(c!==null&&pn(c),Fn(o)){case 2:case 8:o=Be;break;case 32:o=Fe;break;case 268435456:o=mn;break;default:o=Fe}return c=pE.bind(null,i),o=Je(o,c),i.callbackPriority=a,i.callbackNode=o,a}return c!==null&&c!==null&&pn(c),i.callbackPriority=2,i.callbackNode=null,2}function pE(i,a){if(cn!==0&&cn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Bd()&&i.callbackNode!==o)return null;var c=qe;return c=At(i,i===gt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Qb(i,c,a),hE(i,Kt()),i.callbackNode!=null&&i.callbackNode===o?pE.bind(null,i):null)}function mE(i,a){if(Bd())return null;Qb(i,a,!0)}function eC(){fC(function(){(nt&6)!==0?Je(Ee,ZR):fE()})}function gm(){if(Oa===0){var i=Co;i===0&&(i=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),Oa=i}return Oa}function gE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ho(""+i)}function vE(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function tC(i,a,o,c,f){if(a==="submit"&&o&&o.stateNode===f){var p=gE((f[vn]||null).action),b=c.submitter;b&&(a=(a=b[vn]||null)?gE(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var w=new dr("action","action",null,c,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oa!==0){var V=b?vE(f,b):new FormData(f);Vp(o,{pending:!0,data:V,method:f.method,action:p},null,V)}}else typeof p=="function"&&(w.preventDefault(),V=b?vE(f,b):new FormData(f),Vp(o,{pending:!0,data:V,method:f.method,action:p},p,V))},currentTarget:f}]})}}for(var vm=0;vm<Zh.length;vm++){var ym=Zh[vm],nC=ym.toLowerCase(),iC=ym[0].toUpperCase()+ym.slice(1);Fi(nC,"on"+iC)}Fi(Ky,"onAnimationEnd"),Fi(Qy,"onAnimationIteration"),Fi(Xy,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(_R,"onTransitionRun"),Fi(bR,"onTransitionStart"),Fi(ER,"onTransitionCancel"),Fi(Wy,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function yE(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;e:{var p=void 0;if(a)for(var b=c.length-1;0<=b;b--){var w=c[b],V=w.instance,$=w.currentTarget;if(w=w.listener,V!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=$;try{p(f)}catch(ee){rd(ee)}f.currentTarget=null,p=V}else for(b=0;b<c.length;b++){if(w=c[b],V=w.instance,$=w.currentTarget,w=w.listener,V!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=$;try{p(f)}catch(ee){rd(ee)}f.currentTarget=null,p=V}}}}function ze(i,a){var o=a[oo];o===void 0&&(o=a[oo]=new Set);var c=i+"__bubble";o.has(c)||(_E(a,i,2,!1),o.add(c))}function _m(i,a,o){var c=0;a&&(c|=4),_E(o,i,c,a)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function bm(i){if(!i[Hd]){i[Hd]=!0,Ol.forEach(function(o){o!=="selectionchange"&&(rC.has(o)||_m(o,!1,i),_m(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Hd]||(a[Hd]=!0,_m("selectionchange",!1,a))}}function _E(i,a,o,c){switch(KE(a)){case 2:var f=NC;break;case 8:f=kC;break;default:f=Pm}o=f.bind(null,a,o,i),f=void 0,!ys||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(a,o,{capture:!0,passive:f}):i.addEventListener(a,o,!0):f!==void 0?i.addEventListener(a,o,{passive:f}):i.addEventListener(a,o,!1)}function Em(i,a,o,c,f){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var w=c.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=c.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=rr(w),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){c=p=b;continue e}w=w.parentNode}}c=c.return}fa(function(){var $=p,ee=Ei(o),re=[];e:{var K=Jy.get(i);if(K!==void 0){var W=dr,me=i;switch(i){case"keypress":if(bs(o)===0)break e;case"keydown":case"keyup":W=td;break;case"focusin":me="focus",W=Ts;break;case"focusout":me="blur",W=Ts;break;case"beforeblur":case"afterblur":W=Ts;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=y;break;case Ky:case Qy:case Xy:W=Ku;break;case Wy:W=R;break;case"scroll":case"scrollend":W=ql;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Mr;break;case"toggle":case"beforetoggle":W=ke}var Se=(a&4)!==0,pt=!Se&&(i==="scroll"||i==="scrollend"),q=Se?K!==null?K+"Capture":null:K;Se=[];for(var z=$,Y;z!==null;){var ne=z;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||q===null||(ne=Li(z,q),ne!=null&&Se.push(bc(z,ne,Y))),pt)break;z=z.return}0<Se.length&&(K=new W(K,me,null,o,ee),re.push({event:K,listeners:Se}))}}if((a&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",K&&o!==zl&&(me=o.relatedTarget||o.fromElement)&&(rr(me)||me[nr]))break e;if((W||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=$,me=me?rr(me):null,me!==null&&(pt=l(me),Se=me.tag,me!==pt||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(W=null,me=$),W!==me)){if(Se=Hl,ne="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Mr,ne="onPointerLeave",q="onPointerEnter",z="pointer"),pt=W==null?K:ci(W),Y=me==null?K:ci(me),K=new Se(ne,z+"leave",W,o,ee),K.target=pt,K.relatedTarget=Y,ne=null,rr(ee)===$&&(Se=new Se(q,z+"enter",me,o,ee),Se.target=Y,Se.relatedTarget=pt,ne=Se),pt=ne,W&&me)t:{for(Se=aC,q=W,z=me,Y=0,ne=q;ne;ne=Se(ne))Y++;ne=0;for(var Te=z;Te;Te=Se(Te))ne++;for(;0<Y-ne;)q=Se(q),Y--;for(;0<ne-Y;)z=Se(z),ne--;for(;Y--;){if(q===z||z!==null&&q===z.alternate){Se=q;break t}q=Se(q),z=Se(z)}Se=null}else Se=null;W!==null&&bE(re,K,W,Se,!1),me!==null&&pt!==null&&bE(re,pt,me,Se,!0)}}e:{if(K=$?ci($):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Ze=Uy;else if(Py(K))if(Ly)Ze=gR;else{Ze=pR;var _e=hR}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&fo($.elementType)&&(Ze=Uy):Ze=mR;if(Ze&&(Ze=Ze(i,$))){Vy(re,Ze,o,ee);break e}_e&&_e(i,K,$),i==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Ul(K,"number",K.value)}switch(_e=$?ci($):window,i){case"focusin":(Py(_e)||_e.contentEditable==="true")&&(bo=_e,Xh=$,Ql=null);break;case"focusout":Ql=Xh=bo=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Yy(re,o,ee);break;case"selectionchange":if(yR)break;case"keydown":case"keyup":Yy(re,o,ee)}var Pe;if(tt)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else _o?ws(i,o)&&(He="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(He="onCompositionStart");He&&(pr&&o.locale!=="ko"&&(_o||He!=="onCompositionStart"?He==="onCompositionEnd"&&_o&&(Pe=Fl()):(ur=ee,Bl="value"in ur?ur.value:ur.textContent,_o=!0)),_e=Gd($,He),0<_e.length&&(He=new hr(He,i,null,o,ee),re.push({event:He,listeners:_e}),Pe?He.data=Pe:(Pe=yo(o),Pe!==null&&(He.data=Pe)))),(Pe=wi?cR(i,o):uR(i,o))&&(He=Gd($,"onBeforeInput"),0<He.length&&(_e=new hr("onBeforeInput","beforeinput",null,o,ee),re.push({event:_e,listeners:He}),_e.data=Pe)),tC(re,i,$,o,ee)}yE(re,a)})}function bc(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Gd(i,a){for(var o=a+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Li(i,o),f!=null&&c.unshift(bc(i,f,p)),f=Li(i,a),f!=null&&c.push(bc(i,f,p))),i.tag===3)return c;i=i.return}return[]}function aC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function bE(i,a,o,c,f){for(var p=a._reactName,b=[];o!==null&&o!==c;){var w=o,V=w.alternate,$=w.stateNode;if(w=w.tag,V!==null&&V===c)break;w!==5&&w!==26&&w!==27||$===null||(V=$,f?($=Li(o,p),$!=null&&b.unshift(bc(o,$,V))):f||($=Li(o,p),$!=null&&b.push(bc(o,$,V)))),o=o.return}b.length!==0&&i.push({event:a,listeners:b})}var sC=/\r\n?/g,oC=/\u0000|\uFFFD/g;function EE(i){return(typeof i=="string"?i:""+i).replace(sC,`
`).replace(oC,"")}function TE(i,a){return a=EE(a),EE(i)===a}function ht(i,a,o,c,f,p){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Wn(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Wn(i,""+c);break;case"className":ui(i,"class",c);break;case"tabIndex":ui(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(i,o,c);break;case"style":jl(i,c,p);break;case"data":if(a!=="object"){ui(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=ho(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&ht(i,a,"name",f.name,f,null),ht(i,a,"formEncType",f.formEncType,f,null),ht(i,a,"formMethod",f.formMethod,f,null),ht(i,a,"formTarget",f.formTarget,f,null)):(ht(i,a,"encType",f.encType,f,null),ht(i,a,"method",f.method,f,null),ht(i,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=ho(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ui);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=ho(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),co(i,"popover",c);break;case"xlinkActuate":Jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Jt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Jt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Jt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Jt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":co(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gu.get(o)||o,co(i,o,c))}}function Tm(i,a,o,c,f,p){switch(o){case"style":jl(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Wn(i,c):(typeof c=="number"||typeof c=="bigint")&&Wn(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),p=i[vn]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(a,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,c,f);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):co(i,o,c)}}}function Cn(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(i,a,p,b,o,null)}}f&&ht(i,a,"srcSet",o.srcSet,o,null),c&&ht(i,a,"src",o.src,o,null);return;case"input":ze("invalid",i);var w=p=b=f=null,V=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":f=ee;break;case"type":b=ee;break;case"checked":V=ee;break;case"defaultChecked":$=ee;break;case"value":p=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:ht(i,a,c,ee,o,null)}}Fu(i,p,w,V,$,b,f,!1);return;case"select":ze("invalid",i),c=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":b=w;break;case"multiple":c=w;default:ht(i,a,f,w,o,null)}a=p,o=b,i.multiple=!!c,a!=null?la(i,!!c,a,!1):o!=null&&la(i,!!c,o,!0);return;case"textarea":ze("invalid",i),p=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":c=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:ht(i,a,b,w,o,null)}ca(i,c,f,p);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":ht(i,a,V,c,o,null));return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<_c.length;c++)ze(_c[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(i,a,$,c,o,null)}return;default:if(fo(a)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&Tm(i,a,ee,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&ht(i,a,w,c,o,null))}function lC(i,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,w=null,V=null,$=null,ee=null;for(W in o){var re=o[W];if(o.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=re;default:c.hasOwnProperty(W)||ht(i,a,W,null,c,re)}}for(var K in c){var W=c[K];if(re=o[K],c.hasOwnProperty(K)&&(W!=null||re!=null))switch(K){case"type":p=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":ee=W;break;case"value":b=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:W!==re&&ht(i,a,K,W,c,re)}}uo(i,b,w,V,$,ee,p,f);return;case"select":W=b=w=K=null;for(p in o)if(V=o[p],o.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":W=V;default:c.hasOwnProperty(p)||ht(i,a,p,null,c,V)}for(f in c)if(p=c[f],V=o[f],c.hasOwnProperty(f)&&(p!=null||V!=null))switch(f){case"value":K=p;break;case"defaultValue":w=p;break;case"multiple":b=p;default:p!==V&&ht(i,a,f,p,c,V)}a=w,o=b,c=W,K!=null?la(i,!!o,K,!1):!!c!=!!o&&(a!=null?la(i,!!o,a,!0):la(i,!!o,o?[]:"",!1));return;case"textarea":W=K=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ht(i,a,w,null,c,f)}for(b in c)if(f=c[b],p=o[b],c.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":K=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&ht(i,a,b,f,c,p)}qu(i,K,W);return;case"option":for(var me in o)K=o[me],o.hasOwnProperty(me)&&K!=null&&!c.hasOwnProperty(me)&&(me==="selected"?i.selected=!1:ht(i,a,me,null,c,K));for(V in c)K=c[V],W=o[V],c.hasOwnProperty(V)&&K!==W&&(K!=null||W!=null)&&(V==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":ht(i,a,V,K,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!c.hasOwnProperty(Se)&&ht(i,a,Se,null,c,K);for($ in c)if(K=c[$],W=o[$],c.hasOwnProperty($)&&K!==W&&(K!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:ht(i,a,$,K,c,W)}return;default:if(fo(a)){for(var pt in o)K=o[pt],o.hasOwnProperty(pt)&&K!==void 0&&!c.hasOwnProperty(pt)&&Tm(i,a,pt,void 0,c,K);for(ee in c)K=c[ee],W=o[ee],!c.hasOwnProperty(ee)||K===W||K===void 0&&W===void 0||Tm(i,a,ee,K,c,W);return}}for(var q in o)K=o[q],o.hasOwnProperty(q)&&K!=null&&!c.hasOwnProperty(q)&&ht(i,a,q,null,c,K);for(re in c)K=c[re],W=o[re],!c.hasOwnProperty(re)||K===W||K==null&&W==null||ht(i,a,re,K,c,W)}function wE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],p=f.transferSize,b=f.initiatorType,w=f.duration;if(p&&w&&wE(b)){for(b=0,w=f.responseEnd,c+=1;c<o.length;c++){var V=o[c],$=V.startTime;if($>w)break;var ee=V.transferSize,re=V.initiatorType;ee&&wE(re)&&(V=V.responseEnd,b+=ee*(V<w?1:(w-$)/(V-$)))}if(--c,a+=8*(p+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var wm=null,xm=null;function Yd(i){return i.nodeType===9?i:i.ownerDocument}function xE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Sm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Am=null;function uC(){var i=window.event;return i&&i.type==="popstate"?i===Am?!1:(Am=i,!0):(Am=null,!1)}var AE=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,RE=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof RE<"u"?function(i){return RE.resolve(null).then(i).catch(hC)}:AE;function hC(i){setTimeout(function(){throw i})}function Na(i){return i==="head"}function CE(i,a){var o=a,c=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(f),$o(a);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ec(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ec(o);for(var p=o.firstChild;p;){var b=p.nextSibling,w=p.nodeName;p[ir]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&Ec(i.ownerDocument.body);o=f}while(o);$o(a)}function IE(i,a){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Rm(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rm(o),lo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function pC(i,a,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ir])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Di(i.nextSibling),i===null)break}return null}function mC(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Di(i.nextSibling),i===null))return null;return i}function DE(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Di(i.nextSibling),i===null))return null;return i}function Cm(i){return i.data==="$?"||i.data==="$~"}function Im(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function gC(i,a){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||o.readyState!=="loading")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Di(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Dm=null;function OE(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(a===0)return Di(i.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}i=i.nextSibling}return null}function NE(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return i;a--}else o!=="/$"&&o!=="/&"||a++}i=i.previousSibling}return null}function kE(i,a,o){switch(a=Yd(o),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ec(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);lo(i)}var Oi=new Map,ME=new Set;function $d(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Qr=oe.d;oe.d={f:vC,r:yC,D:_C,C:bC,L:EC,m:TC,X:xC,S:wC,M:SC};function vC(){var i=Qr.f(),a=Ld();return i||a}function yC(i){var a=bi(i);a!==null&&a.tag===5&&a.type==="form"?W_(a):Qr.r(i)}var Ho=typeof document>"u"?null:document;function PE(i,a,o){var c=Ho;if(c&&typeof a=="string"&&a){var f=Xn(a);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),ME.has(f)||(ME.add(f),i={rel:i,crossOrigin:o,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),Cn(a,"link",i),Wt(a),c.head.appendChild(a)))}}function _C(i){Qr.D(i),PE("dns-prefetch",i,null)}function bC(i,a){Qr.C(i,a),PE("preconnect",i,a)}function EC(i,a,o){Qr.L(i,a,o);var c=Ho;if(c&&i&&a){var f='link[rel="preload"][as="'+Xn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Xn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Xn(o.imageSizes)+'"]')):f+='[href="'+Xn(i)+'"]';var p=f;switch(a){case"style":p=Go(i);break;case"script":p=Yo(i)}Oi.has(p)||(i=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),Oi.set(p,i),c.querySelector(f)!==null||a==="style"&&c.querySelector(Tc(p))||a==="script"&&c.querySelector(wc(p))||(a=c.createElement("link"),Cn(a,"link",i),Wt(a),c.head.appendChild(a)))}}function TC(i,a){Qr.m(i,a);var o=Ho;if(o&&i){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Xn(c)+'"][href="'+Xn(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Yo(i)}if(!Oi.has(p)&&(i=_({rel:"modulepreload",href:i},a),Oi.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wc(p)))return}c=o.createElement("link"),Cn(c,"link",i),Wt(c),o.head.appendChild(c)}}}function wC(i,a,o){Qr.S(i,a,o);var c=Ho;if(c&&i){var f=ar(c).hoistableStyles,p=Go(i);a=a||"default";var b=f.get(p);if(!b){var w={loading:0,preload:null};if(b=c.querySelector(Tc(p)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},o),(o=Oi.get(p))&&Om(i,o);var V=b=c.createElement("link");Wt(V),Cn(V,"link",i),V._p=new Promise(function($,ee){V.onload=$,V.onerror=ee}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Kd(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(p,b)}}}function xC(i,a){Qr.X(i,a);var o=Ho;if(o&&i){var c=ar(o).hoistableScripts,f=Yo(i),p=c.get(f);p||(p=o.querySelector(wc(f)),p||(i=_({src:i,async:!0},a),(a=Oi.get(f))&&Nm(i,a),p=o.createElement("script"),Wt(p),Cn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function SC(i,a){Qr.M(i,a);var o=Ho;if(o&&i){var c=ar(o).hoistableScripts,f=Yo(i),p=c.get(f);p||(p=o.querySelector(wc(f)),p||(i=_({src:i,async:!0,type:"module"},a),(a=Oi.get(f))&&Nm(i,a),p=o.createElement("script"),Wt(p),Cn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function VE(i,a,o,c){var f=(f=ye.current)?$d(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Go(o.href),o=ar(f).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Go(o.href);var p=ar(f).hoistableStyles,b=p.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=f.querySelector(Tc(i)))&&!p._p&&(b.instance=p,b.state.loading=5),Oi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Oi.set(i,o),p||AC(f,i,o,b.state))),a&&c===null)throw Error(r(528,""));return b}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Yo(o),o=ar(f).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Go(i){return'href="'+Xn(i)+'"'}function Tc(i){return'link[rel="stylesheet"]['+i+"]"}function UE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function AC(i,a,o,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Cn(a,"link",o),Wt(a),i.head.appendChild(a))}function Yo(i){return'[src="'+Xn(i)+'"]'}function wc(i){return"script[async]"+i}function LE(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Xn(o.href)+'"]');if(c)return a.instance=c,Wt(c),c;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Wt(c),Cn(c,"style",f),Kd(c,o.precedence,i),a.instance=c;case"stylesheet":f=Go(o.href);var p=i.querySelector(Tc(f));if(p)return a.state.loading|=4,a.instance=p,Wt(p),p;c=UE(o),(f=Oi.get(f))&&Om(c,f),p=(i.ownerDocument||i).createElement("link"),Wt(p);var b=p;return b._p=new Promise(function(w,V){b.onload=w,b.onerror=V}),Cn(p,"link",c),a.state.loading|=4,Kd(p,o.precedence,i),a.instance=p;case"script":return p=Yo(o.src),(f=i.querySelector(wc(p)))?(a.instance=f,Wt(f),f):(c=o,(f=Oi.get(p))&&(c=_({},o),Nm(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),Wt(f),Cn(f,"link",c),i.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Kd(c,o.precedence,i));return a.instance}function Kd(i,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,b=0;b<c.length;b++){var w=c[b];if(w.dataset.precedence===a)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function Om(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Nm(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Qd=null;function jE(i,a,o){if(Qd===null){var c=new Map,f=Qd=new Map;f.set(o,c)}else f=Qd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[ir]||p[Xt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=i+b;var w=c.get(b);w?w.push(p):c.set(b,[p])}}return c}function zE(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function RC(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function BE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function CC(i,a,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Go(c.href),p=a.querySelector(Tc(f));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Xd.bind(i),a.then(i,i)),o.state.loading|=4,o.instance=p,Wt(p);return}p=a.ownerDocument||a,c=UE(c),(f=Oi.get(f))&&Om(c,f),p=p.createElement("link"),Wt(p);var b=p;b._p=new Promise(function(w,V){b.onload=w,b.onerror=V}),Cn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Xd.bind(i),a.addEventListener("load",o),a.addEventListener("error",o))}}var km=0;function IC(i,a){return i.stylesheets&&i.count===0&&Jd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Jd(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+a);0<i.imgBytes&&km===0&&(km=62500*cC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Jd(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>km?50:800)+a);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Xd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wd=null;function Jd(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wd=new Map,a.forEach(DC,i),Wd=null,Xd.call(i))}function DC(i,a){if(!(a.state.loading&4)){var o=Wd.get(i);if(o)var c=o.get(null);else{o=new Map,Wd.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=a.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,f),o.set(b,f),this.count++,c=Xd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),a.state.loading|=4}}var xc={$$typeof:F,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function OC(i,a,o,c,f,p,b,w,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.hiddenUpdates=jt(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function FE(i,a,o,c,f,p,b,w,V,$,ee,re){return i=new OC(i,a,o,b,V,$,ee,re,w),a=1,p===!0&&(a|=24),p=fi(3,null,null,a),i.current=p,p.stateNode=i,a=fp(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:a},gp(p),i}function qE(i){return i?(i=wo,i):wo}function HE(i,a,o,c,f,p){f=qE(f),c.context===null?c.context=f:c.pendingContext=f,c=Ea(a),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Ta(i,c,a),o!==null&&(ni(o,i,a),nc(o,i,a))}function GE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function Mm(i,a){GE(i,a),(i=i.alternate)&&GE(i,a)}function YE(i){if(i.tag===13||i.tag===31){var a=As(i,67108864);a!==null&&ni(a,i,67108864),Mm(i,67108864)}}function $E(i){if(i.tag===13||i.tag===31){var a=vi();a=oi(a);var o=As(i,a);o!==null&&ni(o,i,a),Mm(i,a)}}var Zd=!0;function NC(i,a,o,c){var f=Z.T;Z.T=null;var p=oe.p;try{oe.p=2,Pm(i,a,o,c)}finally{oe.p=p,Z.T=f}}function kC(i,a,o,c){var f=Z.T;Z.T=null;var p=oe.p;try{oe.p=8,Pm(i,a,o,c)}finally{oe.p=p,Z.T=f}}function Pm(i,a,o,c){if(Zd){var f=Vm(c);if(f===null)Em(i,a,c,ef,o),QE(i,c);else if(PC(f,i,a,o,c))c.stopPropagation();else if(QE(i,c),a&4&&-1<MC.indexOf(i)){for(;f!==null;){var p=bi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=St(p.pendingLanes);if(b!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var V=1<<31-ut(b);w.entanglements[1]|=V,b&=~V}yr(p),(nt&6)===0&&(Vd=Kt()+500,yc(0))}}break;case 31:case 13:w=As(p,2),w!==null&&ni(w,p,2),Ld(),Mm(p,2)}if(p=Vm(c),p===null&&Em(i,a,c,ef,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Em(i,a,c,null,o)}}function Vm(i){return i=Ei(i),Um(i)}var ef=null;function Um(i){if(ef=null,i=rr(i),i!==null){var a=l(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=u(a),i!==null)return i;i=null}else if(o===31){if(i=h(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return ef=i,null}function KE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case Ee:return 2;case Be:return 8;case Fe:case mt:return 32;case mn:return 268435456;default:return 32}default:return 32}}var Lm=!1,ka=null,Ma=null,Pa=null,Sc=new Map,Ac=new Map,Va=[],MC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(i,a){switch(i){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Sc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(a.pointerId)}}function Rc(i,a,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},a!==null&&(a=bi(a),a!==null&&YE(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),i)}function PC(i,a,o,c,f){switch(a){case"focusin":return ka=Rc(ka,i,a,o,c,f),!0;case"dragenter":return Ma=Rc(Ma,i,a,o,c,f),!0;case"mouseover":return Pa=Rc(Pa,i,a,o,c,f),!0;case"pointerover":var p=f.pointerId;return Sc.set(p,Rc(Sc.get(p)||null,i,a,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Ac.set(p,Rc(Ac.get(p)||null,i,a,o,c,f)),!0}return!1}function XE(i){var a=rr(i.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){i.blockedOn=a,wn(i.priority,function(){$E(o)});return}}else if(a===31){if(a=h(o),a!==null){i.blockedOn=a,wn(i.priority,function(){$E(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=Vm(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);zl=c,o.target.dispatchEvent(c),zl=null}else return a=bi(o),a!==null&&YE(a),i.blockedOn=o,!1;a.shift()}return!0}function WE(i,a,o){tf(i)&&o.delete(a)}function VC(){Lm=!1,ka!==null&&tf(ka)&&(ka=null),Ma!==null&&tf(Ma)&&(Ma=null),Pa!==null&&tf(Pa)&&(Pa=null),Sc.forEach(WE),Ac.forEach(WE)}function nf(i,a){i.blockedOn===a&&(i.blockedOn=null,Lm||(Lm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,VC)))}var rf=null;function JE(i){rf!==i&&(rf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rf===i&&(rf=null);for(var a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],f=i[a+2];if(typeof c!="function"){if(Um(c||o)===null)continue;break}var p=bi(o);p!==null&&(i.splice(a,3),a-=3,Vp(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function $o(i){function a(V){return nf(V,i)}ka!==null&&nf(ka,i),Ma!==null&&nf(Ma,i),Pa!==null&&nf(Pa,i),Sc.forEach(a),Ac.forEach(a);for(var o=0;o<Va.length;o++){var c=Va[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Va.length&&(o=Va[0],o.blockedOn===null);)XE(o),o.blockedOn===null&&Va.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],b=f[vn]||null;if(typeof p=="function")b||JE(o);else if(b){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[vn]||null)w=b.formAction;else if(Um(f)!==null)continue}else w=b.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),JE(o)}}}function ZE(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function jm(i){this._internalRoot=i}af.prototype.render=jm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,c=vi();HE(o,c,i,a,null,null)},af.prototype.unmount=jm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;HE(i.current,2,null,i,null,null),Ld(),a[nr]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var a=li();i={blockedOn:null,target:i,priority:a};for(var o=0;o<Va.length&&a!==0&&a<Va[o].priority;o++);Va.splice(o,0,i),o===0&&XE(i)}};var e0=e.version;if(e0!=="19.2.4")throw Error(r(527,e0,"19.2.4"));oe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var UC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Tn=sf.inject(UC),Ot=sf}catch{}}return Ic.createRoot=function(i,a){if(!s(i))throw Error(r(299));var o=!1,c="",f=ob,p=lb,b=cb;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=FE(i,1,!1,null,null,o,c,null,f,p,b,ZE),i[nr]=a.current,bm(i),new jm(a)},Ic.hydrateRoot=function(i,a,o){if(!s(i))throw Error(r(299));var c=!1,f="",p=ob,b=lb,w=cb,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),a=FE(i,1,!0,a,o??null,c,f,V,p,b,w,ZE),a.context=qE(null),o=a.current,c=vi(),c=oi(c),f=Ea(c),f.callback=null,Ta(o,f,c),o=c,a.current.lanes=o,Qn(a,o),yr(a),i[nr]=a.current,bm(i),new af(a)},Ic.version="19.2.4",Ic}var u0;function YC(){if(u0)return Fm.exports;u0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fm.exports=GC(),Fm.exports}var $C=YC();var d0="popstate";function KC(n={}){function e(s,l){let{pathname:u="/",search:h="",hash:m=""}=to(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),wg("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let m=s.location.href,g=m.indexOf("#");h=g===-1?m:m.slice(0,g)}return h+"#"+(typeof l=="string"?l:Jc(l))}function r(s,l){Ki(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return XC(e,t,r,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QC(){return Math.random().toString(36).substring(2,10)}function f0(n,e){return{usr:n.state,key:n.key,idx:e}}function wg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:t,key:e&&e.key||r||QC()}}function Jc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function to(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XC(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,u=s.history,h="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function _(){h="POP";let k=v(),G=k==null?null:k-g;g=k,m&&m({action:h,location:P.location,delta:G})}function T(k,G){h="PUSH";let L=wg(P.location,k,G);t&&t(L,k),g=v()+1;let F=f0(L,g),Q=P.createHref(L);try{u.pushState(F,"",Q)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign(Q)}l&&m&&m({action:h,location:P.location,delta:1})}function A(k,G){h="REPLACE";let L=wg(P.location,k,G);t&&t(L,k),g=v();let F=f0(L,g),Q=P.createHref(L);u.replaceState(F,"",Q),l&&m&&m({action:h,location:P.location,delta:0})}function N(k){return WC(k)}let P={get action(){return h},get location(){return n(s,u)},listen(k){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(d0,_),m=k,()=>{s.removeEventListener(d0,_),m=null}},createHref(k){return e(s,k)},createURL:N,encodeLocation(k){let G=N(k);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:A,go(k){return u.go(k)}};return P}function WC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Jc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function $w(n,e,t="/"){return JC(n,e,t,!1)}function JC(n,e,t,r){let s=typeof e=="string"?to(e):e,l=ea(s.pathname||"/",t);if(l==null)return null;let u=Kw(n);ZC(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let g=uI(l);h=lI(u[m],g,r)}return h}function Kw(n,e=[],t=[],r="",s=!1){let l=(u,h,m=s,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;Nt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Jr([r,v.relativePath]),T=t.concat(v);u.children&&u.children.length>0&&(Nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Kw(u.children,e,T,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:sI(_,u.index),routesMeta:T})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let m of Qw(u.path))l(u,h,!0,m)}),e}function Qw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let u=Qw(r.join("/")),h=[];return h.push(...u.map(m=>m===""?l:[l,m].join("/"))),s&&h.push(...u),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function ZC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:oI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var eI=/^:[\w-]+$/,tI=3,nI=2,iI=1,rI=10,aI=-2,h0=n=>n==="*";function sI(n,e){let t=n.split("/"),r=t.length;return t.some(h0)&&(r+=aI),e&&(r+=nI),t.filter(s=>!h0(s)).reduce((s,l)=>s+(eI.test(l)?tI:l===""?iI:rI),r)}function oI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function lI(n,e,t=!1){let{routesMeta:r}=n,s={},l="/",u=[];for(let h=0;h<r.length;++h){let m=r[h],g=h===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Vf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!_&&g&&t&&!r[r.length-1].route.index&&(_=Vf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Jr([l,_.pathname]),pathnameBase:pI(Jr([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=Jr([l,_.pathnameBase]))}return u}function Vf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:_},T)=>{if(v==="*"){let N=h[T]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const A=h[T];return _&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:n}}function cI(n,e=!1,t=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function uI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ea(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var dI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function fI(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?to(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=p0(t.substring(1),"/"):l=p0(t,e)):l=e,{pathname:l,search:mI(r),hash:gI(s)}}function p0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ym(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xw(n){let e=hI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ww(n,e,t,r=!1){let s;typeof n=="string"?s=to(n):(s={...n},Nt(!s.pathname||!s.pathname.includes("?"),Ym("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),Ym("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),Ym("#","search","hash",s)));let l=n===""||s.pathname==="",u=l?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}h=_>=0?e[_]:"/"}let m=fI(s,h),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),pI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,vI=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function yI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function _I(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zw(n,e){let t=n;if(typeof t!="string"||!dI.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,s=!1;if(Jw)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),h=ea(u.pathname,e);u.origin===l.origin&&h!=null?t=h+u.search+u.hash:s=!0}catch{Ki(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ex=["POST","PUT","PATCH","DELETE"];new Set(ex);var bI=["GET",...ex];new Set(bI);var _l=x.createContext(null);_l.displayName="DataRouter";var ph=x.createContext(null);ph.displayName="DataRouterState";var EI=x.createContext(!1),tx=x.createContext({isTransitioning:!1});tx.displayName="ViewTransition";var TI=x.createContext(new Map);TI.displayName="Fetchers";var wI=x.createContext(null);wI.displayName="Await";var Pi=x.createContext(null);Pi.displayName="Navigation";var pu=x.createContext(null);pu.displayName="Location";var sa=x.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var uv=x.createContext(null);uv.displayName="RouteError";var nx="REACT_ROUTER_ERROR",xI="REDIRECT",SI="ROUTE_ERROR_RESPONSE";function AI(n){if(n.startsWith(`${nx}:${xI}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function RI(n){if(n.startsWith(`${nx}:${SI}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new vI(e.status,e.statusText,e.data)}catch{}}function CI(n,{relative:e}={}){Nt(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=x.useContext(Pi),{hash:s,pathname:l,search:u}=gu(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Jr([t,l])),r.createHref({pathname:h,search:u,hash:s})}function mu(){return x.useContext(pu)!=null}function ds(){return Nt(mu(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(pu).location}var ix="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rx(n){x.useContext(Pi).static||x.useLayoutEffect(n)}function II(){let{isDataRoute:n}=x.useContext(sa);return n?FI():DI()}function DI(){Nt(mu(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(_l),{basename:e,navigator:t}=x.useContext(Pi),{matches:r}=x.useContext(sa),{pathname:s}=ds(),l=JSON.stringify(Xw(r)),u=x.useRef(!1);return rx(()=>{u.current=!0}),x.useCallback((m,g={})=>{if(Ki(u.current,ix),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=Ww(m,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Jr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}x.createContext(null);function gu(n,{relative:e}={}){let{matches:t}=x.useContext(sa),{pathname:r}=ds(),s=JSON.stringify(Xw(t));return x.useMemo(()=>Ww(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function OI(n,e){return ax(n,e)}function ax(n,e,t,r,s){Nt(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(Pi),{matches:u}=x.useContext(sa),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let L=_&&_.path||"";ox(g,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let T=ds(),A;if(e){let L=typeof e=="string"?to(e):e;Nt(v==="/"||L.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),A=L}else A=T;let N=A.pathname||"/",P=N;if(v!=="/"){let L=v.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=$w(n,{pathname:P});Ki(_||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ki(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=VI(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:Jr([v,l.encodeLocation?l.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:Jr([v,l.encodeLocation?l.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),u,t,r,s);return e&&G?x.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},G):G}function NI(){let n=BI(),e=yI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:s},t):null,u)}var kI=x.createElement(NI,null),sx=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=RI(n.digest);t&&(n=t)}let e=n!==void 0?x.createElement(sa.Provider,{value:this.props.routeContext},x.createElement(uv.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?x.createElement(MI,{error:n},e):e}};sx.contextType=EI;var $m=new WeakMap;function MI({children:n,error:e}){let{basename:t}=x.useContext(Pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=AI(e.digest);if(r){let s=$m.get(e);if(s)throw s;let l=Zw(r.location,t);if(Jw&&!$m.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw $m.set(e,u),u}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function PI({routeContext:n,match:e,children:t}){let r=x.useContext(_l);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(sa.Provider,{value:n},t)}function VI(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t?.errors;if(u!=null){let v=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Nt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:T,errors:A}=t,N=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||N){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&r?(v,_)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:_I(t.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,T)=>{let A,N=!1,P=null,k=null;t&&(A=u&&_.route.id?u[_.route.id]:void 0,P=_.route.errorElement||kI,h&&(m<0&&T===0?(ox("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):m===T&&(N=!0,k=_.route.hydrateFallbackElement||null)));let G=e.concat(l.slice(0,T+1)),L=()=>{let F;return A?F=P:N?F=k:_.route.Component?F=x.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=v,x.createElement(PI,{match:_,routeContext:{outlet:v,matches:G,isDataRoute:t!=null},children:F})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?x.createElement(sx,{location:t.location,revalidation:t.revalidation,component:P,error:A,children:L(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:g}):L()},null)}function dv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UI(n){let e=x.useContext(_l);return Nt(e,dv(n)),e}function LI(n){let e=x.useContext(ph);return Nt(e,dv(n)),e}function jI(n){let e=x.useContext(sa);return Nt(e,dv(n)),e}function fv(n){let e=jI(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zI(){return fv("useRouteId")}function BI(){let n=x.useContext(uv),e=LI("useRouteError"),t=fv("useRouteError");return n!==void 0?n:e.errors?.[t]}function FI(){let{router:n}=UI("useNavigate"),e=fv("useNavigate"),t=x.useRef(!1);return rx(()=>{t.current=!0}),x.useCallback(async(s,l={})=>{Ki(t.current,ix),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var m0={};function ox(n,e,t){!e&&!m0[n]&&(m0[n]=!0,Ki(!1,t))}x.memo(qI);function qI({routes:n,future:e,state:t,onError:r}){return ax(n,void 0,t,r,e)}function Ef(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:l=!1,unstable_useTransitions:u}){Nt(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=x.useMemo(()=>({basename:h,navigator:s,static:l,unstable_useTransitions:u,future:{}}),[h,s,l,u]);typeof t=="string"&&(t=to(t));let{pathname:g="/",search:v="",hash:_="",state:T=null,key:A="default"}=t,N=x.useMemo(()=>{let P=ea(g,h);return P==null?null:{location:{pathname:P,search:v,hash:_,state:T,key:A},navigationType:r}},[h,g,v,_,T,A,r]);return Ki(N!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:x.createElement(Pi.Provider,{value:m},x.createElement(pu.Provider,{children:e,value:N}))}function GI({children:n,location:e}){return OI(xg(n),e)}function xg(n,e=[]){let t=[];return x.Children.forEach(n,(r,s)=>{if(!x.isValidElement(r))return;let l=[...e,s];if(r.type===x.Fragment){t.push.apply(t,xg(r.props.children,l));return}Nt(r.type===Ef,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=xg(r.props.children,l)),t.push(u)}),t}var Tf="get",wf="application/x-www-form-urlencoded";function mh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function YI(n){return mh(n)&&n.tagName.toLowerCase()==="button"}function $I(n){return mh(n)&&n.tagName.toLowerCase()==="form"}function KI(n){return mh(n)&&n.tagName.toLowerCase()==="input"}function QI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XI(n,e){return n.button===0&&(!e||e==="_self")&&!QI(n)}var of=null;function WI(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var JI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(n){return n!=null&&!JI.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):n}function ZI(n,e){let t,r,s,l,u;if($I(n)){let h=n.getAttribute("action");r=h?ea(h,e):null,t=n.getAttribute("method")||Tf,s=Km(n.getAttribute("enctype"))||wf,l=new FormData(n)}else if(YI(n)||KI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(r=m?ea(m,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Tf,s=Km(n.getAttribute("formenctype"))||Km(h.getAttribute("enctype"))||wf,l=new FormData(h,n),!WI()){let{name:g,type:v,value:_}=n;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,_)}}else{if(mh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tf,r=null,s=wf,u=n}return l&&s==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function eD(n,e,t,r){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&ea(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function tD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iD(n,e,t){let r=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let u=await tD(l,t);return u.links?u.links():[]}return[]}));return oD(r.flat(1).filter(nD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function g0(n,e,t,r,s,l){let u=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,h=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>u(m,g)||h(m,g)):l==="data"?e.filter((m,g)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function rD(n,e,{includeHydrateFallback:t}={}){return aD(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function aD(n){return[...new Set(n)]}function sD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function oD(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let l=JSON.stringify(sD(s));return t.has(l)||(t.add(l),r.push({key:l,link:s})),r},[])}function lx(){let n=x.useContext(_l);return hv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lD(){let n=x.useContext(ph);return hv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pv=x.createContext(void 0);pv.displayName="FrameworkContext";function cx(){let n=x.useContext(pv);return hv(n,"You must render this element inside a <HydratedRouter> element"),n}function cD(n,e){let t=x.useContext(pv),[r,s]=x.useState(!1),[l,u]=x.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,T=x.useRef(null);x.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=G=>{G.forEach(L=>{u(L.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[n]),x.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let A=()=>{s(!0)},N=()=>{s(!1),u(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Dc(h,A),onBlur:Dc(m,N),onMouseEnter:Dc(g,A),onMouseLeave:Dc(v,N),onTouchStart:Dc(_,A)}]:[!1,T,{}]}function Dc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uD({page:n,...e}){let{router:t}=lx(),r=x.useMemo(()=>$w(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?x.createElement(fD,{page:n,matches:r,...e}):null}function dD(n){let{manifest:e,routeModules:t}=cx(),[r,s]=x.useState([]);return x.useEffect(()=>{let l=!1;return iD(n,e,t).then(u=>{l||s(u)}),()=>{l=!0}},[n,e,t]),r}function fD({page:n,matches:e,...t}){let r=ds(),{future:s,manifest:l,routeModules:u}=cx(),{basename:h}=lx(),{loaderData:m,matches:g}=lD(),v=x.useMemo(()=>g0(n,e,g,l,r,"data"),[n,e,g,l,r]),_=x.useMemo(()=>g0(n,e,g,l,r,"assets"),[n,e,g,l,r]),T=x.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let P=new Set,k=!1;if(e.forEach(L=>{let F=l.routes[L.route.id];!F||!F.hasLoader||(!v.some(Q=>Q.route.id===L.route.id)&&L.route.id in m&&u[L.route.id]?.shouldRevalidate||F.hasClientLoader?k=!0:P.add(L.route.id))}),P.size===0)return[];let G=eD(n,h,s.unstable_trailingSlashAwareDataRequests,"data");return k&&P.size>0&&G.searchParams.set("_routes",e.filter(L=>P.has(L.route.id)).map(L=>L.route.id).join(",")),[G.pathname+G.search]},[h,s.unstable_trailingSlashAwareDataRequests,m,r,l,v,e,n,u]),A=x.useMemo(()=>rD(_,l),[_,l]),N=dD(_);return x.createElement(x.Fragment,null,T.map(P=>x.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),A.map(P=>x.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),N.map(({key:P,link:k})=>x.createElement("link",{key:P,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function hD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var pD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pD&&(window.__reactRouterVersion="7.13.0")}catch{}function mD({basename:n,children:e,unstable_useTransitions:t,window:r}){let s=x.useRef();s.current==null&&(s.current=KC({window:r,v5Compat:!0}));let l=s.current,[u,h]=x.useState({action:l.action,location:l.location}),m=x.useCallback(g=>{t===!1?h(g):x.startTransition(()=>h(g))},[t]);return x.useLayoutEffect(()=>l.listen(m),[l,m]),x.createElement(HI,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mv=x.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:l,replace:u,state:h,target:m,to:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:T,...A},N){let{basename:P,unstable_useTransitions:k}=x.useContext(Pi),G=typeof g=="string"&&ux.test(g),L=Zw(g,P);g=L.to;let F=CI(g,{relative:s}),[Q,ie,te]=cD(r,A),C=_D(g,{replace:u,state:h,target:m,preventScrollReset:v,relative:s,viewTransition:_,unstable_defaultShouldRevalidate:T,unstable_useTransitions:k});function S(U){e&&e(U),U.defaultPrevented||C(U)}let I=x.createElement("a",{...A,...te,href:L.absoluteURL||F,onClick:L.isExternal||l?e:S,ref:hD(N,ie),target:m,"data-discover":!G&&t==="render"?"true":void 0});return Q&&!G?x.createElement(x.Fragment,null,I,x.createElement(uD,{page:F})):I});mv.displayName="Link";var gD=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:l,to:u,viewTransition:h,children:m,...g},v){let _=gu(u,{relative:g.relative}),T=ds(),A=x.useContext(ph),{navigator:N,basename:P}=x.useContext(Pi),k=A!=null&&xD(_)&&h===!0,G=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,L=T.pathname,F=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(L=L.toLowerCase(),F=F?F.toLowerCase():null,G=G.toLowerCase()),F&&P&&(F=ea(F,P)||F);const Q=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ie=L===G||!s&&L.startsWith(G)&&L.charAt(Q)==="/",te=F!=null&&(F===G||!s&&F.startsWith(G)&&F.charAt(G.length)==="/"),C={isActive:ie,isPending:te,isTransitioning:k},S=ie?e:void 0,I;typeof r=="function"?I=r(C):I=[r,ie?"active":null,te?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(C):l;return x.createElement(mv,{...g,"aria-current":S,className:I,ref:v,style:U,to:u,viewTransition:h},typeof m=="function"?m(C):m)});gD.displayName="NavLink";var vD=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:l,method:u=Tf,action:h,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:T,...A},N)=>{let{unstable_useTransitions:P}=x.useContext(Pi),k=TD(),G=wD(h,{relative:g}),L=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&ux.test(h),Q=ie=>{if(m&&m(ie),ie.defaultPrevented)return;ie.preventDefault();let te=ie.nativeEvent.submitter,C=te?.getAttribute("formmethod")||u,S=()=>k(te||ie.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:T});P&&t!==!1?x.startTransition(()=>S()):S()};return x.createElement("form",{ref:N,method:L,action:G,onSubmit:r?m:Q,...A,"data-discover":!F&&n==="render"?"true":void 0})});vD.displayName="Form";function yD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dx(n){let e=x.useContext(_l);return Nt(e,yD(n)),e}function _D(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let g=II(),v=ds(),_=gu(n,{relative:l});return x.useCallback(T=>{if(XI(T,e)){T.preventDefault();let A=t!==void 0?t:Jc(v)===Jc(_),N=()=>g(n,{replace:A,state:r,preventScrollReset:s,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});m?x.startTransition(()=>N()):N()}},[v,g,_,t,r,e,n,s,l,u,h,m])}var bD=0,ED=()=>`__${String(++bD)}__`;function TD(){let{router:n}=dx("useSubmit"),{basename:e}=x.useContext(Pi),t=zI(),r=n.fetch,s=n.navigate;return x.useCallback(async(l,u={})=>{let{action:h,method:m,encType:g,formData:v,body:_}=ZI(l,e);if(u.navigate===!1){let T=u.fetcherKey||ED();await r(T,t,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await s(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,s,e,t])}function wD(n,{relative:e}={}){let{basename:t}=x.useContext(Pi),r=x.useContext(sa);Nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...gu(n||".",{relative:e})},u=ds();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Jr([t,l.pathname])),Jc(l)}function xD(n,{relative:e}={}){let t=x.useContext(tx);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dx("useViewTransitionState"),s=gu(n,{relative:e});if(!t.isTransitioning)return!1;let l=ea(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ea(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Vf(s.pathname,u)!=null||Vf(s.pathname,l)!=null}var Uc=Yw();const fx=x.createContext(),SD=()=>{const n=x.useContext(fx);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n},AD=({children:n})=>{const[e,t]=x.useState(()=>localStorage.getItem("plandala_theme")||"dark");x.useEffect(()=>{const l=document.documentElement;e==="light"?l.classList.add("light"):l.classList.remove("light"),localStorage.setItem("plandala_theme",e)},[e]);const s={theme:e,setTheme:t,toggleTheme:()=>{t(l=>l==="dark"?"light":"dark")},isDark:e==="dark",isLight:e==="light"};return D.jsx(fx.Provider,{value:s,children:n})},RD=()=>{};var v0={};const hx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},CD=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],u=n[t++],h=n[t++],m=((s&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|u&63)}}return e.join("")},px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const l=n[s],u=s+1<n.length,h=u?n[s+1]:0,m=s+2<n.length,g=m?n[s+2]:0,v=l>>2,_=(l&3)<<4|h>>4;let T=(h&15)<<2|g>>6,A=g&63;m||(A=64,u||(T=64)),r.push(t[v],t[_],t[T],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||h==null||g==null||_==null)throw new ID;const T=l<<2|h>>4;if(r.push(T),g!==64){const A=h<<4&240|g>>2;if(r.push(A),_!==64){const N=g<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ID extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DD=function(n){const e=hx(n);return px.encodeByteArray(e,!0)},Uf=function(n){return DD(n).replace(/\./g,"")},mx=function(n){try{return px.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ND=()=>OD().__FIREBASE_DEFAULTS__,kD=()=>{if(typeof process>"u"||typeof v0>"u")return;const n=v0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mx(n[1]);return e&&JSON.parse(e)},gh=()=>{try{return RD()||ND()||kD()||MD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gx=n=>gh()?.emulatorHosts?.[n],vx=n=>{const e=gx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yx=()=>gh()?.config,_x=n=>gh()?.[`_${n}`];class PD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function fs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gv(n){return(await fetch(n,{credentials:"include"})).ok}function bx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Uf(JSON.stringify(t)),Uf(JSON.stringify(u)),""].join(".")}const Fc={};function VD(){const n={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?n.emulator.push(e):n.prod.push(e);return n}function UD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let y0=!1;function vv(n,e){if(typeof window>"u"||typeof document>"u"||!fs(window.location.host)||Fc[n]===e||Fc[n]||y0)return;Fc[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=VD().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{y0=!0,u()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=UD(r),A=t("text"),N=document.getElementById(A)||document.createElement("span"),P=t("learnmore"),k=document.getElementById(P)||document.createElement("a"),G=t("preprendIcon"),L=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),v(k,P);const Q=g();m(L,G),F.append(L,N,k,Q),document.body.appendChild(F)}l?(N.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function jD(){const n=gh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qD(){const n=zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HD(){return!jD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GD(){try{return typeof indexedDB=="object"}catch{return!1}}function YD(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const $D="FirebaseError";class Ir extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$D,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],u=l?KD(l,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Ir(s,h,r)}}function KD(n,e){return n.replace(QD,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QD=/\{\$([^}]+)}/g;function XD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $s(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const l=n[s],u=e[s];if(_0(l)&&_0(u)){if(!$s(l,u))return!1}else if(l!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function _0(n){return n!==null&&typeof n=="object"}function yu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WD(n,e){const t=new JD(n,e);return t.subscribe.bind(t)}class JD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ZD(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Qm),s.error===void 0&&(s.error=Qm),s.complete===void 0&&(s.complete=Qm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qm(){}function Gt(n){return n&&n._delegate?n._delegate:n}class Za{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zs="[DEFAULT]";class e2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new PD;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n2(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&e(l,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t2(n){return n===zs?void 0:n}function n2(n){return n.instantiationMode==="EAGER"}class i2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new e2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ge||(Ge={}));const r2={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},a2=Ge.INFO,s2={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},o2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=s2[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yv{constructor(e){this.name=e,this._logLevel=a2,this._logHandler=o2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const l2=(n,e)=>e.some(t=>n instanceof t);let b0,E0;function c2(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ex=new WeakMap,Sg=new WeakMap,Tx=new WeakMap,Xm=new WeakMap,_v=new WeakMap;function d2(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t($a(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Ex.set(t,n)}).catch(()=>{}),_v.set(e,n),e}function f2(n){if(Sg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Sg.set(n,e)}let Ag={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $a(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function h2(n){Ag=n(Ag)}function p2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Wm(this),e,...t);return Tx.set(r,e.sort?e.sort():[e]),$a(r)}:u2().includes(n)?function(...e){return n.apply(Wm(this),e),$a(Ex.get(this))}:function(...e){return $a(n.apply(Wm(this),e))}}function m2(n){return typeof n=="function"?p2(n):(n instanceof IDBTransaction&&f2(n),l2(n,c2())?new Proxy(n,Ag):n)}function $a(n){if(n instanceof IDBRequest)return d2(n);if(Xm.has(n))return Xm.get(n);const e=m2(n);return e!==n&&(Xm.set(n,e),_v.set(e,n)),e}const Wm=n=>_v.get(n);function g2(n,e,{blocked:t,upgrade:r,blocking:s,terminated:l}={}){const u=indexedDB.open(n,e),h=$a(u);return r&&u.addEventListener("upgradeneeded",m=>{r($a(u.result),m.oldVersion,m.newVersion,$a(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const v2=["get","getKey","getAll","getAllKeys","count"],y2=["put","add","delete","clear"],Jm=new Map;function T0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=y2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||v2.includes(t)))return;const l=async function(u,...h){const m=this.transaction(u,s?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),s&&m.done]))[0]};return Jm.set(e,l),l}h2(n=>({...n,get:(e,t,r)=>T0(e,t)||n.get(e,t,r),has:(e,t)=>!!T0(e,t)||n.has(e,t)}));class _2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function b2(n){return n.getComponent()?.type==="VERSION"}const Rg="@firebase/app",w0="0.14.8";const ta=new yv("@firebase/app"),E2="@firebase/app-compat",T2="@firebase/analytics-compat",w2="@firebase/analytics",x2="@firebase/app-check-compat",S2="@firebase/app-check",A2="@firebase/auth",R2="@firebase/auth-compat",C2="@firebase/database",I2="@firebase/data-connect",D2="@firebase/database-compat",O2="@firebase/functions",N2="@firebase/functions-compat",k2="@firebase/installations",M2="@firebase/installations-compat",P2="@firebase/messaging",V2="@firebase/messaging-compat",U2="@firebase/performance",L2="@firebase/performance-compat",j2="@firebase/remote-config",z2="@firebase/remote-config-compat",B2="@firebase/storage",F2="@firebase/storage-compat",q2="@firebase/firestore",H2="@firebase/ai",G2="@firebase/firestore-compat",Y2="firebase",$2="12.9.0";const Cg="[DEFAULT]",K2={[Rg]:"fire-core",[E2]:"fire-core-compat",[w2]:"fire-analytics",[T2]:"fire-analytics-compat",[S2]:"fire-app-check",[x2]:"fire-app-check-compat",[A2]:"fire-auth",[R2]:"fire-auth-compat",[C2]:"fire-rtdb",[I2]:"fire-data-connect",[D2]:"fire-rtdb-compat",[O2]:"fire-fn",[N2]:"fire-fn-compat",[k2]:"fire-iid",[M2]:"fire-iid-compat",[P2]:"fire-fcm",[V2]:"fire-fcm-compat",[U2]:"fire-perf",[L2]:"fire-perf-compat",[j2]:"fire-rc",[z2]:"fire-rc-compat",[B2]:"fire-gcs",[F2]:"fire-gcs-compat",[q2]:"fire-fst",[G2]:"fire-fst-compat",[H2]:"fire-vertex","fire-js":"fire-js",[Y2]:"fire-js-all"};const Lf=new Map,Q2=new Map,Ig=new Map;function x0(n,e){try{n.container.addComponent(e)}catch(t){ta.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ks(n){const e=n.name;if(Ig.has(e))return ta.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,n);for(const t of Lf.values())x0(t,n);for(const t of Q2.values())x0(t,n);return!0}function vh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ki(n){return n==null?!1:n.settings!==void 0}const X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new vu("app","Firebase",X2);class W2{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}const no=$2;function wx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Cg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ka.create("bad-app-name",{appName:String(s)});if(t||(t=yx()),!t)throw Ka.create("no-options");const l=Lf.get(s);if(l){if($s(t,l.options)&&$s(r,l.config))return l;throw Ka.create("duplicate-app",{appName:s})}const u=new i2(s);for(const m of Ig.values())u.addComponent(m);const h=new W2(t,r,u);return Lf.set(s,h),h}function bv(n=Cg){const e=Lf.get(n);if(!e&&n===Cg&&yx())return wx();if(!e)throw Ka.create("no-app",{appName:n});return e}function Tr(n,e,t){let r=K2[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ta.warn(u.join(" "));return}Ks(new Za(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const J2="firebase-heartbeat-database",Z2=1,Zc="firebase-heartbeat-store";let Zm=null;function xx(){return Zm||(Zm=g2(J2,Z2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ka.create("idb-open",{originalErrorMessage:n.message})})),Zm}async function eO(n){try{const t=(await xx()).transaction(Zc),r=await t.objectStore(Zc).get(Sx(n));return await t.done,r}catch(e){if(e instanceof Ir)ta.warn(e.message);else{const t=Ka.create("idb-get",{originalErrorMessage:e?.message});ta.warn(t.message)}}}async function S0(n,e){try{const r=(await xx()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,Sx(n)),await r.done}catch(t){if(t instanceof Ir)ta.warn(t.message);else{const r=Ka.create("idb-set",{originalErrorMessage:t?.message});ta.warn(r.message)}}}function Sx(n){return`${n.name}!${n.options.appId}`}const tO=1024,nO=30;class iO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>nO){const s=sO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ta.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:t,unsentEntries:r}=rO(this._heartbeatsCache.heartbeats),s=Uf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ta.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function rO(n,e=tO){const t=[];let r=n.slice();for(const s of n){const l=t.find(u=>u.agent===s.agent);if(l){if(l.dates.push(s.date),R0(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),R0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class aO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GD()?YD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function R0(n){return Uf(JSON.stringify({version:2,heartbeats:n})).length}function sO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function oO(n){Ks(new Za("platform-logger",e=>new _2(e),"PRIVATE")),Ks(new Za("heartbeat",e=>new iO(e),"PRIVATE")),Tr(Rg,w0,n),Tr(Rg,w0,"esm2020"),Tr("fire-js","")}oO("");function Ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lO=Ax,Rx=new vu("auth","Firebase",Ax());const jf=new yv("@firebase/auth");function cO(n,...e){jf.logLevel<=Ge.WARN&&jf.warn(`Auth (${no}): ${n}`,...e)}function xf(n,...e){jf.logLevel<=Ge.ERROR&&jf.error(`Auth (${no}): ${n}`,...e)}function na(n,...e){throw Ev(n,...e)}function wr(n,...e){return Ev(n,...e)}function Cx(n,e,t){const r={...lO(),[e]:t};return new vu("auth","Firebase",r).create(e,{appName:n.name})}function Qa(n){return Cx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ev(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Rx.create(n,...e)}function Ce(n,e,...t){if(!n)throw Ev(e,...t)}function Xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xf(e),new Error(e)}function ia(n,e){n||Xr(e)}function Dg(){return typeof self<"u"&&self.location?.href||""}function uO(){return C0()==="http:"||C0()==="https:"}function C0(){return typeof self<"u"&&self.location?.protocol||null}function dO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uO()||BD()||"connection"in navigator)?navigator.onLine:!0}function fO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class _u{constructor(e,t){this.shortDelay=e,this.longDelay=t,ia(t>e,"Short delay should be less than long delay!"),this.isMobile=LD()||FD()}get(){return dO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tv(n,e){ia(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Ix{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mO=new _u(3e4,6e4);function yh(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function bl(n,e,t,r,s={}){return Dx(n,s,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=yu({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return zD()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&fs(n.emulatorConfig.host)&&(g.credentials="include"),Ix.fetch()(await Nx(n,n.config.apiHost,t,h),g)})}async function Dx(n,e,t){n._canInitEmulator=!1;const r={...hO,...e};try{const s=new gO(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw lf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw lf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw lf(n,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Cx(n,v,g);na(n,v)}}catch(s){if(s instanceof Ir)throw s;na(n,"network-request-failed",{message:String(s)})}}async function Ox(n,e,t,r,s={}){const l=await bl(n,e,t,r,s);return"mfaPendingCredential"in l&&na(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Nx(n,e,t,r){const s=`${e}${t}?${r}`,l=n,u=l.config.emulator?Tv(n.config,s):`${n.config.apiScheme}://${s}`;return pO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class gO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),mO.get())})}}function lf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=wr(n,e,r);return s.customData._tokenResponse=t,s}async function vO(n,e){return bl(n,"POST","/v1/accounts:delete",e)}async function zf(n,e){return bl(n,"POST","/v1/accounts:lookup",e)}function qc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yO(n,e=!1){const t=Gt(n),r=await t.getIdToken(e),s=wv(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,u=l?.sign_in_provider;return{claims:s,token:r,authTime:qc(eg(s.auth_time)),issuedAtTime:qc(eg(s.iat)),expirationTime:qc(eg(s.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function eg(n){return Number(n)*1e3}function wv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xf("JWT malformed, contained fewer than 3 sections"),null;try{const s=mx(t);return s?JSON.parse(s):(xf("Failed to decode base64 JWT payload"),null)}catch(s){return xf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function I0(n){const e=wv(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function eu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ir&&_O(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function _O({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class bO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Og{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bf(n){const e=n.auth,t=await n.getIdToken(),r=await eu(n,zf(e,{idToken:t}));Ce(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const l=s.providerUserInfo?.length?kx(s.providerUserInfo):[],u=TO(n.providerData,l),h=n.isAnonymous,m=!(n.email&&s.passwordHash)&&!u?.length,g=h?m:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function EO(n){const e=Gt(n);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TO(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function wO(n,e){const t=await Dx(n,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,u=await Nx(n,s,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return n.emulatorConfig&&fs(n.emulatorConfig.host)&&(m.credentials="include"),Ix.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xO(n,e){return bl(n,"POST","/v2/accounts:revokeToken",yh(n,e))}class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=I0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:l}=await wO(e,t);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:l}=t,u=new nl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),l&&(Ce(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return Xr("not implemented")}}function La(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gi{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new bO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Og(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yO(this,e)}reload(){return EO(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await eu(this,vO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:A,providerData:N,stsTokenManager:P}=t;Ce(_&&P,e,"internal-error");const k=nl.fromJSON(this.name,P);Ce(typeof _=="string",e,"internal-error"),La(r,e.name),La(s,e.name),Ce(typeof T=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),La(l,e.name),La(u,e.name),La(h,e.name),La(m,e.name),La(g,e.name),La(v,e.name);const G=new Gi({uid:_,auth:e,email:s,emailVerified:T,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:k,createdAt:g,lastLoginAt:v});return N&&Array.isArray(N)&&(G.providerData=N.map(L=>({...L}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(e,t,r=!1){const s=new nl;s.updateFromServerResponse(t);const l=new Gi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Bf(l),l}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?kx(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!l?.length,h=new nl;h.updateFromIdToken(r);const m=new Gi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const D0=new Map;function Wr(n){ia(n instanceof Function,"Expected a class definition");let e=D0.get(n);return e?(ia(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,D0.set(n,e),e)}class Mx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mx.type="NONE";const O0=Mx;function Sf(n,e,t){return`firebase:${n}:${e}:${t}`}class il{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=Sf(this.userKey,s.apiKey,l),this.fullPersistenceKey=Sf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zf(this.auth,{idToken:e}).catch(()=>{});return t?Gi._fromGetAccountInfoResponse(this.auth,t,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new il(Wr(O0),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||Wr(O0);const u=Sf(r,e.config.apiKey,e.name);let h=null;for(const g of t)try{const v=await g._get(u);if(v){let _;if(typeof v=="string"){const T=await zf(e,{idToken:v}).catch(()=>{});if(!T)break;_=await Gi._fromGetAccountInfoResponse(e,T,v)}else _=Gi._fromJSON(e,v);g!==l&&(h=_),l=g;break}}catch{}const m=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new il(l,e,r):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new il(l,e,r))}}function N0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zx(e))return"Blackberry";if(Bx(e))return"Webos";if(Vx(e))return"Safari";if((e.includes("chrome/")||Ux(e))&&!e.includes("edge/"))return"Chrome";if(jx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Px(n=zn()){return/firefox\//i.test(n)}function Vx(n=zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ux(n=zn()){return/crios\//i.test(n)}function Lx(n=zn()){return/iemobile/i.test(n)}function jx(n=zn()){return/android/i.test(n)}function zx(n=zn()){return/blackberry/i.test(n)}function Bx(n=zn()){return/webos/i.test(n)}function xv(n=zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SO(n=zn()){return xv(n)&&!!window.navigator?.standalone}function AO(){return qD()&&document.documentMode===10}function Fx(n=zn()){return xv(n)||jx(n)||Bx(n)||zx(n)||/windows phone/i.test(n)||Lx(n)}function qx(n,e=[]){let t;switch(n){case"Browser":t=N0(zn());break;case"Worker":t=`${N0(zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${no}/${r}`}class RO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,h)=>{try{const m=e(l);u(m)}catch(m){h(m)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function CO(n,e={}){return bl(n,"GET","/v2/passwordPolicy",yh(n,e))}const IO=6;class DO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??IO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class OO{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new RO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zf(this,{idToken:e}),r=await Gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ki(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ki(this.app))return Promise.reject(Qa(this));const t=e?Gt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ki(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CO(this),t=new DO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await xO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,s);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _h(n){return Gt(n)}class k0{constructor(e){this.auth=e,this.observer=null,this.addObserver=WD(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NO(n){Sv=n}function kO(n){return Sv.loadJS(n)}function MO(){return Sv.gapiScript}function PO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function VO(n,e){const t=vh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if($s(l,e??{}))return s;na(s,"already-initialized")}return t.initialize({options:e})}function UO(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Wr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function LO(n,e,t){const r=_h(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=Hx(e),{host:u,port:h}=jO(e),m=h===null?"":`:${h}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce($s(g,r.config.emulator)&&$s(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,fs(u)?(gv(`${l}//${u}${m}`),vv("Auth",!0)):zO()}function Hx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jO(n){const e=Hx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:M0(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:M0(u)}}}function M0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Gx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function rl(n,e){return Ox(n,"POST","/v1/accounts:signInWithIdp",yh(n,e))}const BO="http://localhost";class Qs extends Gx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):na("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...l}=t;if(!r||!s)return null;const u=new Qs(r,s);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return rl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,rl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rl(e,t)}buildRequest(){const e={requestUri:BO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yu(t)}return e}}class Yx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bu extends Yx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ba extends bu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ba.PROVIDER_ID="facebook.com";class Fa extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fa.credential(t,r)}catch{return null}}}Fa.GOOGLE_SIGN_IN_METHOD="google.com";Fa.PROVIDER_ID="google.com";class qa extends bu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com";qa.PROVIDER_ID="github.com";class Ha extends bu{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ha.credential(t,r)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";async function FO(n,e){return Ox(n,"POST","/v1/accounts:signUp",yh(n,e))}class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const l=await Gi._fromIdTokenResponse(e,r,s),u=P0(r);return new es({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=P0(r);return new es({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function P0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function qO(n){if(ki(n.app))return Promise.reject(Qa(n));const e=_h(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new es({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await FO(e,{returnSecureToken:!0}),r=await es._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class Ff extends Ir{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Ff(e,t,r,s)}}function $x(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(n,l,e,r):l})}async function HO(n,e,t=!1){const r=await eu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return es._forOperation(n,"link",r)}async function GO(n,e,t=!1){const{auth:r}=n;if(ki(r.app))return Promise.reject(Qa(r));const s="reauthenticate";try{const l=await eu(n,$x(r,s,e,n),t);Ce(l.idToken,r,"internal-error");const u=wv(l.idToken);Ce(u,r,"internal-error");const{sub:h}=u;return Ce(n.uid===h,r,"user-mismatch"),es._forOperation(n,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&na(r,"user-mismatch"),l}}async function YO(n,e,t=!1){if(ki(n.app))return Promise.reject(Qa(n));const r="signIn",s=await $x(n,r,e),l=await es._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(l.user),l}function $O(n,e,t,r){return Gt(n).onIdTokenChanged(e,t,r)}function KO(n,e,t){return Gt(n).beforeAuthStateChanged(e,t)}function QO(n,e,t,r){return Gt(n).onAuthStateChanged(e,t,r)}const qf="__sak";class Kx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const XO=1e3,WO=10;class Qx extends Kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);AO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,WO):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},XO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qx.type="LOCAL";const JO=Qx;class Xx extends Kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xx.type="SESSION";const Wx=Xx;function ZO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:l}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async g=>g(t.origin,l)),m=await ZO(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function Av(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class eN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const g=Av("",20);s.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function xr(){return window}function tN(n){xr().location.href=n}function Jx(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function nN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){return navigator?.serviceWorker?.controller||null}function rN(){return Jx()?self:null}const Zx="firebaseLocalStorageDb",aN=1,Hf="firebaseLocalStorage",eS="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Eh(n,e){return n.transaction([Hf],e?"readwrite":"readonly").objectStore(Hf)}function sN(){const n=indexedDB.deleteDatabase(Zx);return new Eu(n).toPromise()}function Ng(){const n=indexedDB.open(Zx,aN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hf,{keyPath:eS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hf)?e(r):(r.close(),await sN(),e(await Ng()))})})}async function V0(n,e,t){const r=Eh(n,!0).put({[eS]:e,value:t});return new Eu(r).toPromise()}async function oN(n,e){const t=Eh(n,!1).get(e),r=await new Eu(t).toPromise();return r===void 0?null:r.value}function U0(n,e){const t=Eh(n,!0).delete(e);return new Eu(t).toPromise()}const lN=800,cN=3;class tS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(rN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nN(),!this.activeServiceWorker)return;this.sender=new eN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await V0(e,qf,"1"),await U0(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>oN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>U0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Eh(s,!1).getAll();return new Eu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tS.type="LOCAL";const uN=tS;new _u(3e4,6e4);function dN(n,e){return e?Wr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Rv extends Gx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fN(n){return YO(n.auth,new Rv(n),n.bypassAuthState)}function hN(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),GO(t,new Rv(n),n.bypassAuthState)}async function pN(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),HO(t,new Rv(n),n.bypassAuthState)}class nS{constructor(e,t,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fN;case"linkViaPopup":case"linkViaRedirect":return pN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:na(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mN=new _u(2e3,1e4);class tl extends nS{constructor(e,t,r,s,l){super(e,t,s,l),this.provider=r,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const e=Av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mN.get())};e()}}tl.currentPopupAction=null;const gN="pendingRedirect",Af=new Map;class vN extends nS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await yN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yN(n,e){const t=EN(e),r=bN(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function _N(n,e){Af.set(n._key(),e)}function bN(n){return Wr(n._redirectPersistence)}function EN(n){return Sf(gN,n.config.apiKey,n.name)}async function TN(n,e,t=!1){if(ki(n.app))return Promise.reject(Qa(n));const r=_h(n),s=dN(r,e),u=await new vN(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const wN=600*1e3;class xN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!iS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(wr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function SN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iS(n);default:return!1}}async function AN(n,e={}){return bl(n,"GET","/v1/projects",e)}const RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CN=/^https?/;async function IN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AN(n);for(const t of e)try{if(DN(t))return}catch{}na(n,"unauthorized-domain")}function DN(n){const e=Dg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!CN.test(t))return!1;if(RN.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const ON=new _u(3e4,6e4);function j0(){const n=xr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function NN(n){return new Promise((e,t)=>{function r(){j0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j0(),t(wr(n,"network-request-failed"))},timeout:ON.get()})}if(xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xr().gapi?.load)r();else{const s=PO("iframefcb");return xr()[s]=()=>{gapi.load?r():t(wr(n,"network-request-failed"))},kO(`${MO()}?onload=${s}`).catch(l=>t(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function kN(n){return Rf=Rf||NN(n),Rf}const MN=new _u(5e3,15e3),PN="__/auth/iframe",VN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jN(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tv(e,VN):`https://${n.config.authDomain}/${PN}`,r={apiKey:e.apiKey,appName:n.name,v:no},s=LN.get(n.config.apiHost);s&&(r.eid=s);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${yu(r).slice(1)}`}async function zN(n){const e=await kN(n),t=xr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:jN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const u=wr(n,"network-request-failed"),h=xr().setTimeout(()=>{l(u)},MN.get());function m(){xr().clearTimeout(h),s(r)}r.ping(m).then(m,()=>{l(u)})}))}const BN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,qN=600,HN="_blank",GN="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(n,e,t,r=FN,s=qN){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...BN,width:r.toString(),height:s.toString(),top:l,left:u},g=zn().toLowerCase();t&&(h=Ux(g)?HN:t),Px(g)&&(e=e||GN,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[A,N])=>`${T}${A}=${N},`,"");if(SO(g)&&h!=="_self")return $N(e||"",h),new z0(null);const _=window.open(e||"",h,v);Ce(_,n,"popup-blocked");try{_.focus()}catch{}return new z0(_)}function $N(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const KN="__/auth/handler",QN="emulator/auth/handler",XN=encodeURIComponent("fac");async function B0(n,e,t,r,s,l){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:no,eventId:s};if(e instanceof Yx){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",XD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof bu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await n._getAppCheckToken(),g=m?`#${XN}=${encodeURIComponent(m)}`:"";return`${WN(n)}?${yu(h).slice(1)}${g}`}function WN({config:n}){return n.emulator?Tv(n,QN):`https://${n.authDomain}/${KN}`}const tg="webStorageSupport";class JN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wx,this._completeRedirectFn=TN,this._overrideRedirectResult=_N}async _openPopup(e,t,r,s){ia(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await B0(e,t,r,Dg(),s);return YN(e,l,Av())}async _openRedirect(e,t,r,s){await this._originValidation(e);const l=await B0(e,t,r,Dg(),s);return tN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(ia(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await zN(e),r=new xN(e);return t.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tg,{type:tg},s=>{const l=s?.[0]?.[tg];l!==void 0&&t(!!l),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fx()||Vx()||xv()}}const ZN=JN;var F0="@firebase/auth",q0="1.12.0";class ek{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nk(n){Ks(new Za("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qx(n)},g=new OO(r,s,l,m);return UO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ks(new Za("auth-internal",e=>{const t=_h(e.getProvider("auth").getImmediate());return(r=>new ek(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(F0,q0,tk(n)),Tr(F0,q0,"esm2020")}const ik=300,rk=_x("authIdTokenMaxAge")||ik;let H0=null;const ak=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rk)return;const s=t?.token;H0!==s&&(H0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sk(n=bv()){const e=vh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VO(n,{popupRedirectResolver:ZN,persistence:[uN,JO,Wx]}),r=_x("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=ak(l.toString());KO(t,u,()=>u(t.currentUser)),$O(t,h=>u(h))}}const s=gx("auth");return s&&LO(t,`http://${s}`),t}function ok(){return document.getElementsByTagName("head")?.[0]??document}NO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const l=wr("internal-error");l.customData=s,t(l)},r.type="text/javascript",r.charset="UTF-8",ok().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nk("Browser");var lk="firebase",ck="12.9.0";Tr(lk,ck,"app");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xa,rS;(function(){var n;function e(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(U,M,B){for(var O=Array(arguments.length-2),be=2;be<arguments.length;be++)O[be-2]=arguments[be];return S.prototype[M].apply(U,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);const U=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)U[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;M<16;++M)U[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],M=C.g[2];let B=C.g[3],O;O=S+(B^I&(M^B))+U[0]+3614090360&4294967295,S=I+(O<<7&4294967295|O>>>25),O=B+(M^S&(I^M))+U[1]+3905402710&4294967295,B=S+(O<<12&4294967295|O>>>20),O=M+(I^B&(S^I))+U[2]+606105819&4294967295,M=B+(O<<17&4294967295|O>>>15),O=I+(S^M&(B^S))+U[3]+3250441966&4294967295,I=M+(O<<22&4294967295|O>>>10),O=S+(B^I&(M^B))+U[4]+4118548399&4294967295,S=I+(O<<7&4294967295|O>>>25),O=B+(M^S&(I^M))+U[5]+1200080426&4294967295,B=S+(O<<12&4294967295|O>>>20),O=M+(I^B&(S^I))+U[6]+2821735955&4294967295,M=B+(O<<17&4294967295|O>>>15),O=I+(S^M&(B^S))+U[7]+4249261313&4294967295,I=M+(O<<22&4294967295|O>>>10),O=S+(B^I&(M^B))+U[8]+1770035416&4294967295,S=I+(O<<7&4294967295|O>>>25),O=B+(M^S&(I^M))+U[9]+2336552879&4294967295,B=S+(O<<12&4294967295|O>>>20),O=M+(I^B&(S^I))+U[10]+4294925233&4294967295,M=B+(O<<17&4294967295|O>>>15),O=I+(S^M&(B^S))+U[11]+2304563134&4294967295,I=M+(O<<22&4294967295|O>>>10),O=S+(B^I&(M^B))+U[12]+1804603682&4294967295,S=I+(O<<7&4294967295|O>>>25),O=B+(M^S&(I^M))+U[13]+4254626195&4294967295,B=S+(O<<12&4294967295|O>>>20),O=M+(I^B&(S^I))+U[14]+2792965006&4294967295,M=B+(O<<17&4294967295|O>>>15),O=I+(S^M&(B^S))+U[15]+1236535329&4294967295,I=M+(O<<22&4294967295|O>>>10),O=S+(M^B&(I^M))+U[1]+4129170786&4294967295,S=I+(O<<5&4294967295|O>>>27),O=B+(I^M&(S^I))+U[6]+3225465664&4294967295,B=S+(O<<9&4294967295|O>>>23),O=M+(S^I&(B^S))+U[11]+643717713&4294967295,M=B+(O<<14&4294967295|O>>>18),O=I+(B^S&(M^B))+U[0]+3921069994&4294967295,I=M+(O<<20&4294967295|O>>>12),O=S+(M^B&(I^M))+U[5]+3593408605&4294967295,S=I+(O<<5&4294967295|O>>>27),O=B+(I^M&(S^I))+U[10]+38016083&4294967295,B=S+(O<<9&4294967295|O>>>23),O=M+(S^I&(B^S))+U[15]+3634488961&4294967295,M=B+(O<<14&4294967295|O>>>18),O=I+(B^S&(M^B))+U[4]+3889429448&4294967295,I=M+(O<<20&4294967295|O>>>12),O=S+(M^B&(I^M))+U[9]+568446438&4294967295,S=I+(O<<5&4294967295|O>>>27),O=B+(I^M&(S^I))+U[14]+3275163606&4294967295,B=S+(O<<9&4294967295|O>>>23),O=M+(S^I&(B^S))+U[3]+4107603335&4294967295,M=B+(O<<14&4294967295|O>>>18),O=I+(B^S&(M^B))+U[8]+1163531501&4294967295,I=M+(O<<20&4294967295|O>>>12),O=S+(M^B&(I^M))+U[13]+2850285829&4294967295,S=I+(O<<5&4294967295|O>>>27),O=B+(I^M&(S^I))+U[2]+4243563512&4294967295,B=S+(O<<9&4294967295|O>>>23),O=M+(S^I&(B^S))+U[7]+1735328473&4294967295,M=B+(O<<14&4294967295|O>>>18),O=I+(B^S&(M^B))+U[12]+2368359562&4294967295,I=M+(O<<20&4294967295|O>>>12),O=S+(I^M^B)+U[5]+4294588738&4294967295,S=I+(O<<4&4294967295|O>>>28),O=B+(S^I^M)+U[8]+2272392833&4294967295,B=S+(O<<11&4294967295|O>>>21),O=M+(B^S^I)+U[11]+1839030562&4294967295,M=B+(O<<16&4294967295|O>>>16),O=I+(M^B^S)+U[14]+4259657740&4294967295,I=M+(O<<23&4294967295|O>>>9),O=S+(I^M^B)+U[1]+2763975236&4294967295,S=I+(O<<4&4294967295|O>>>28),O=B+(S^I^M)+U[4]+1272893353&4294967295,B=S+(O<<11&4294967295|O>>>21),O=M+(B^S^I)+U[7]+4139469664&4294967295,M=B+(O<<16&4294967295|O>>>16),O=I+(M^B^S)+U[10]+3200236656&4294967295,I=M+(O<<23&4294967295|O>>>9),O=S+(I^M^B)+U[13]+681279174&4294967295,S=I+(O<<4&4294967295|O>>>28),O=B+(S^I^M)+U[0]+3936430074&4294967295,B=S+(O<<11&4294967295|O>>>21),O=M+(B^S^I)+U[3]+3572445317&4294967295,M=B+(O<<16&4294967295|O>>>16),O=I+(M^B^S)+U[6]+76029189&4294967295,I=M+(O<<23&4294967295|O>>>9),O=S+(I^M^B)+U[9]+3654602809&4294967295,S=I+(O<<4&4294967295|O>>>28),O=B+(S^I^M)+U[12]+3873151461&4294967295,B=S+(O<<11&4294967295|O>>>21),O=M+(B^S^I)+U[15]+530742520&4294967295,M=B+(O<<16&4294967295|O>>>16),O=I+(M^B^S)+U[2]+3299628645&4294967295,I=M+(O<<23&4294967295|O>>>9),O=S+(M^(I|~B))+U[0]+4096336452&4294967295,S=I+(O<<6&4294967295|O>>>26),O=B+(I^(S|~M))+U[7]+1126891415&4294967295,B=S+(O<<10&4294967295|O>>>22),O=M+(S^(B|~I))+U[14]+2878612391&4294967295,M=B+(O<<15&4294967295|O>>>17),O=I+(B^(M|~S))+U[5]+4237533241&4294967295,I=M+(O<<21&4294967295|O>>>11),O=S+(M^(I|~B))+U[12]+1700485571&4294967295,S=I+(O<<6&4294967295|O>>>26),O=B+(I^(S|~M))+U[3]+2399980690&4294967295,B=S+(O<<10&4294967295|O>>>22),O=M+(S^(B|~I))+U[10]+4293915773&4294967295,M=B+(O<<15&4294967295|O>>>17),O=I+(B^(M|~S))+U[1]+2240044497&4294967295,I=M+(O<<21&4294967295|O>>>11),O=S+(M^(I|~B))+U[8]+1873313359&4294967295,S=I+(O<<6&4294967295|O>>>26),O=B+(I^(S|~M))+U[15]+4264355552&4294967295,B=S+(O<<10&4294967295|O>>>22),O=M+(S^(B|~I))+U[6]+2734768916&4294967295,M=B+(O<<15&4294967295|O>>>17),O=I+(B^(M|~S))+U[13]+1309151649&4294967295,I=M+(O<<21&4294967295|O>>>11),O=S+(M^(I|~B))+U[4]+4149444226&4294967295,S=I+(O<<6&4294967295|O>>>26),O=B+(I^(S|~M))+U[11]+3174756917&4294967295,B=S+(O<<10&4294967295|O>>>22),O=M+(S^(B|~I))+U[2]+718787259&4294967295,M=B+(O<<15&4294967295|O>>>17),O=I+(B^(M|~S))+U[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+B&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,U=this.C;let M=this.h,B=0;for(;B<S;){if(M==0)for(;B<=I;)s(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<S;)if(U[M++]=C.charCodeAt(B++),M==this.blockSize){s(this,U),M=0;break}}else for(;B<S;)if(U[M++]=C[B++],M==this.blockSize){s(this,U),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let U=0;U<32;U+=8)C[S++]=this.g[I]>>>U&255;return C};function l(C,S){var I=h;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function u(C,S){this.h=S;const I=[];let U=!0;for(let M=C.length-1;M>=0;M--){const B=C[M]|0;U&&B==S||(I[M]=B,U=!1)}this.g=I}var h={};function m(C){return-128<=C&&C<128?l(C,function(S){return new u([S|0],S<0?-1:0)}):new u([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return k(g(-C));const S=[];let I=1;for(let U=0;C>=I;U++)S[U]=C/I|0,I*=4294967296;return new u(S,0)}function v(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return k(v(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(S,8));let U=_;for(let B=0;B<C.length;B+=8){var M=Math.min(8,C.length-B);const O=parseInt(C.substring(B,B+M),S);M<8?(M=g(Math.pow(S,M)),U=U.j(M).add(g(O))):(U=U.j(I),U=U.add(g(O)))}return U}var _=m(0),T=m(1),A=m(16777216);n=u.prototype,n.m=function(){if(P(this))return-k(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const U=this.i(I);C+=(U>=0?U:4294967296+U)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(P(this))return"-"+k(this).toString(C);const S=g(Math.pow(C,6));var I=this;let U="";for(;;){const M=Q(I,S).g;I=G(I,M.j(S));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,N(I))return B+U;for(;B.length<6;)B="0"+B;U=B+U}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function P(C){return C.h==-1}n.l=function(C){return C=G(this,C),P(C)?-1:N(C)?0:1};function k(C){const S=C.g.length,I=[];for(let U=0;U<S;U++)I[U]=~C.g[U];return new u(I,~C.h).add(T)}n.abs=function(){return P(this)?k(this):this},n.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let U=0;for(let M=0;M<=S;M++){let B=U+(this.i(M)&65535)+(C.i(M)&65535),O=(B>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);U=O>>>16,B&=65535,O&=65535,I[M]=O<<16|B}return new u(I,I[I.length-1]&-2147483648?-1:0)};function G(C,S){return C.add(k(S))}n.j=function(C){if(N(this)||N(C))return _;if(P(this))return P(C)?k(this).j(k(C)):k(k(this).j(C));if(P(C))return k(this.j(k(C)));if(this.l(A)<0&&C.l(A)<0)return g(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var U=0;U<2*S;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<C.g.length;M++){const B=this.i(U)>>>16,O=this.i(U)&65535,be=C.i(M)>>>16,Re=C.i(M)&65535;I[2*U+2*M]+=O*Re,L(I,2*U+2*M),I[2*U+2*M+1]+=B*Re,L(I,2*U+2*M+1),I[2*U+2*M+1]+=O*be,L(I,2*U+2*M+1),I[2*U+2*M+2]+=B*be,L(I,2*U+2*M+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new u(I,0)};function L(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function F(C,S){this.g=C,this.h=S}function Q(C,S){if(N(S))throw Error("division by zero");if(N(C))return new F(_,_);if(P(C))return S=Q(k(C),S),new F(k(S.g),k(S.h));if(P(S))return S=Q(C,k(S)),new F(k(S.g),S.h);if(C.g.length>30){if(P(C)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var I=T,U=S;U.l(C)<=0;)I=ie(I),U=ie(U);var M=te(I,1),B=te(U,1);for(U=te(U,2),I=te(I,2);!N(U);){var O=B.add(U);O.l(C)<=0&&(M=M.add(I),B=O),U=te(U,1),I=te(I,1)}return S=G(C,M.j(S)),new F(M,S)}for(M=_;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),B=g(I),O=B.j(S);P(O)||O.l(C)>0;)I-=U,B=g(I),O=B.j(S);N(B)&&(B=T),M=M.add(B),C=G(C,O)}return new F(M,C)}n.B=function(C){return Q(this,C).h},n.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<S;U++)I[U]=this.i(U)&C.i(U);return new u(I,this.h&C.h)},n.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<S;U++)I[U]=this.i(U)|C.i(U);return new u(I,this.h|C.h)},n.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<S;U++)I[U]=this.i(U)^C.i(U);return new u(I,this.h^C.h)};function ie(C){const S=C.g.length+1,I=[];for(let U=0;U<S;U++)I[U]=C.i(U)<<1|C.i(U-1)>>>31;return new u(I,C.h)}function te(C,S){const I=S>>5;S%=32;const U=C.g.length-I,M=[];for(let B=0;B<U;B++)M[B]=S>0?C.i(B+I)>>>S|C.i(B+I+1)<<32-S:C.i(B+I);return new u(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,Xa=u}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aS,Lc,sS,Cf,kg,oS,lS,cS;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(d,y){if(y)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in E))break e;E=E[H]}d=d[d.length-1],R=E[d],y=y(R),y!=R&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(y){var E=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&E.push([R,y[R]]);return E}});var l=l||{},u=this||self;function h(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function m(d,y,E){return d.call.apply(d.bind,arguments)}function g(d,y,E){return g=m,g.apply(null,arguments)}function v(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function _(d,y){function E(){}E.prototype=y.prototype,d.Z=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(R,H,X){for(var de=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)de[ke-2]=arguments[ke];return y.prototype[H].apply(R,de)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function A(d){const y=d.length;if(y>0){const E=Array(y);for(let R=0;R<y;R++)E[R]=d[R];return E}return[]}function N(d,y){for(let R=1;R<arguments.length;R++){const H=arguments[R];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=d.length||0;const X=H.length||0;d.length=E+X;for(let de=0;de<X;de++)d[E+de]=H[de]}else d.push(H)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(d){u.setTimeout(()=>{throw d},0)}function G(){var d=C;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class L{constructor(){this.h=this.g=null}add(y,E){const R=F.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new P(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,te=!1,C=new L,S=()=>{const d=Promise.resolve(void 0);ie=()=>{d.then(I)}};function I(){for(var d;d=G();){try{d.h.call(d.g)}catch(E){k(E)}var y=F;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}te=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,y),u.removeEventListener("test",E,y)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function be(d,y){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}_(be,M),be.prototype.init=function(d,y){const E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),Z=0;function oe(d,y,E,R,H){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=H,this.key=++Z,this.da=this.fa=!1}function pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d,y,E){for(const R in d)y.call(E,d[R],R,d)}function Ue(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function j(d){const y={};for(const E in d)y[E]=d[E];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(d,y){let E,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(E in R)d[E]=R[E];for(let X=0;X<J.length;X++)E=J[X],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,y,E,R,H){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const de=ye(d,y,R,H);return de>-1?(y=d[de],E||(y.fa=!1)):(y=new oe(y,this.src,X,!!R,H),y.fa=E,d.push(y)),y};function ve(d,y){const E=y.type;if(E in d.g){var R=d.g[E],H=Array.prototype.indexOf.call(R,y,void 0),X;(X=H>=0)&&Array.prototype.splice.call(R,H,1),X&&(pe(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ye(d,y,E,R){for(let H=0;H<d.length;++H){const X=d[H];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==R)return H}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Qe={};function Ve(d,y,E,R,H){if(Array.isArray(y)){for(let X=0;X<y.length;X++)Ve(d,y[X],E,R,H);return null}return E=ln(E),d&&d[Re]?d.J(y,E,h(R)?!!R.capture:!1,H):Ne(d,y,E,!1,R,H)}function Ne(d,y,E,R,H,X){if(!y)throw Error("Invalid event type");const de=h(H)?!!H.capture:!!H;let ke=$t(d);if(ke||(d[xe]=ke=new ce(d)),E=ke.add(y,E,R,de,X),E.proxy)return E;if(R=Yt(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)B||(H=de),H===void 0&&(H=!1),d.addEventListener(y.toString(),R,H);else if(d.attachEvent)d.attachEvent(at(y.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Yt(){function d(E){return y.call(d.src,d.listener,E)}const y=fn;return d}function _t(d,y,E,R,H){if(Array.isArray(y))for(var X=0;X<y.length;X++)_t(d,y[X],E,R,H);else R=h(R)?!!R.capture:!!R,E=ln(E),d&&d[Re]?(d=d.i,X=String(y).toString(),X in d.g&&(y=d.g[X],E=ye(y,E,R,H),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete d.g[X],d.h--)))):d&&(d=$t(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ye(y,E,R,H)),(E=d>-1?y[d]:null)&&Ut(E))}function Ut(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Re])ve(y.i,d);else{var E=d.type,R=d.proxy;y.removeEventListener?y.removeEventListener(E,R,d.capture):y.detachEvent?y.detachEvent(at(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=$t(y))?(ve(E,d),E.h==0&&(E.src=null,y[xe]=null)):pe(d)}}}function at(d){return d in Qe?Qe[d]:Qe[d]="on"+d}function fn(d,y){if(d.da)d=!0;else{y=new be(y,this);const E=d.listener,R=d.ha||d.src;d.fa&&Ut(d),d=E.call(R,y)}return d}function $t(d){return d=d[xe],d instanceof ce?d:null}var hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ln(d){return typeof d=="function"?d:(d[hn]||(d[hn]=function(y){return d.handleEvent(y)}),d[hn])}function Xe(){U.call(this),this.i=new ce(this),this.M=this,this.G=null}_(Xe,U),Xe.prototype[Re]=!0,Xe.prototype.removeEventListener=function(d,y,E,R){_t(this,d,y,E,R)};function Je(d,y){var E,R=d.G;if(R)for(E=[];R;R=R.G)E.push(R);if(d=d.M,R=y.type||y,typeof y=="string")y=new M(y,d);else if(y instanceof M)y.target=y.target||d;else{var H=y;y=new M(R,d),le(y,H)}H=!0;let X,de;if(E)for(de=E.length-1;de>=0;de--)X=y.g=E[de],H=pn(X,R,!0,y)&&H;if(X=y.g=d,H=pn(X,R,!0,y)&&H,H=pn(X,R,!1,y)&&H,E)for(de=0;de<E.length;de++)X=y.g=E[de],H=pn(X,R,!1,y)&&H}Xe.prototype.N=function(){if(Xe.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const E=d.g[y];for(let R=0;R<E.length;R++)pe(E[R]);delete d.g[y],d.h--}}this.G=null},Xe.prototype.J=function(d,y,E,R){return this.i.add(String(d),y,!1,E,R)},Xe.prototype.K=function(d,y,E,R){return this.i.add(String(d),y,!0,E,R)};function pn(d,y,E,R){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let X=0;X<y.length;++X){const de=y[X];if(de&&!de.da&&de.capture==E){const ke=de.listener,Bt=de.ha||de.src;de.fa&&ve(d.i,de),H=ke.call(Bt,R)!==!1&&H}}return H&&!R.defaultPrevented}function Zi(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(d,y||0)}function Dr(d){d.g=Zi(()=>{d.g=null,d.i&&(d.i=!1,Dr(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Kt extends U{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Dr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(d){U.call(this),this.h=d,this.g={}}_(ue,U);var Ee=[];function Be(d){ge(d.g,function(y,E){this.g.hasOwnProperty(E)&&Ut(y)},d),d.g={}}ue.prototype.N=function(){ue.Z.N.call(this),Be(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fe=u.JSON.stringify,mt=u.JSON.parse,mn=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Dt(){}function Vi(){}var Tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){M.call(this,"d")}_(Ot,M);function Lt(){M.call(this,"c")}_(Lt,M);var ut={},er=null;function si(){return er=er||new Xe}ut.Ia="serverreachability";function tr(d){M.call(this,ut.Ia,d)}_(tr,M);function Kn(d){const y=si();Je(y,new tr(y))}ut.STAT_EVENT="statevent";function Or(d,y){M.call(this,ut.STAT_EVENT,d),this.stat=y}_(Or,M);function Le(d){const y=si();Je(y,new Or(y,d))}ut.Ja="timingevent";function St(d,y){M.call(this,ut.Ja,d),this.size=y}_(St,M);function At(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},y)}function Qt(){this.g=!0}Qt.prototype.ua=function(){this.g=!1};function kn(d,y,E,R,H,X){d.info(function(){if(d.g)if(X){var de="",ke=X.split("&");for(let tt=0;tt<ke.length;tt++){var Bt=ke[tt].split("=");if(Bt.length>1){const Rt=Bt[0];Bt=Bt[1];const wi=Rt.split("_");de=wi.length>=2&&wi[1]=="type"?de+(Rt+"="+Bt+"&"):de+(Rt+"=redacted&")}}}else de=null;else de=X;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+y+`
`+E+`
`+de})}function gn(d,y,E,R,H,X,de){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+y+`
`+E+`
`+X+" "+de})}function jt(d,y,E,R){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+zt(d,E)+(R?" "+R:"")})}function Qn(d,y){d.info(function(){return"TIMEOUT: "+y})}Qt.prototype.info=function(){};function zt(d,y){if(!d.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var E=X[d];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return Fe(X)}catch{return y}}var Mn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bn;function oi(){}_(oi,Dt),oi.prototype.g=function(){return new XMLHttpRequest},Bn=new oi;function Fn(d){return encodeURIComponent(String(d))}function li(d){var y=1;d=d.split(":");const E=[];for(;y>0&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function wn(d,y,E,R){this.j=d,this.i=y,this.l=E,this.S=R||1,this.V=new ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Xt={},vn={};function nr(d,y,E){d.M=1,d.A=ms(Jt(y)),d.u=E,d.R=!0,oo(d,null)}function oo(d,y){d.F=Date.now(),ir(d),d.B=Jt(d.A);var E=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),fo(E.i,"t",R),d.C=0,E=d.j.L,d.h=new qn,d.g=Zu(d.j,E?y:null,!d.u),d.P>0&&(d.O=new Kt(g(d.Y,d,d.g),d.P)),y=d.V,E=d.g,R=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ee[0]=H.toString()),H=Ee);for(let X=0;X<H.length;X++){const de=Ve(E,H[X],R||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),Kn(),kn(d.i,d.v,d.B,d.l,d.S,d.u)}wn.prototype.ba=function(d){d=d.target;const y=this.O;y&&ji(d)==3?y.j():this.Y(d)},wn.prototype.Y=function(d){try{if(d==this.g)e:{const ke=ji(this.g),Bt=this.g.ya(),tt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||ke!=4||Bt==7||(Bt==8||tt<=0?Kn(3):Kn(2)),rr(this);var y=this.g.ca();this.X=y;var E=Yh(this);if(this.o=y==200,gn(this.i,this.v,this.B,this.l,this.S,ke,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var X=R;break t}}X=null}if(d=X)jt(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ar(this,d);else{this.o=!1,this.m=3,Le(12),ci(this),bi(this);break e}}if(this.R){d=!0;let Rt;for(;!this.K&&this.C<E.length;)if(Rt=zu(this,E),Rt==vn){ke==4&&(this.m=4,Le(14),d=!1),jt(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Xt){this.m=4,Le(15),jt(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else jt(this.i,this.l,Rt,null),ar(this,Rt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,Le(16),d=!1),this.o=this.o&&d,!d)jt(this.i,this.l,E,"[Invalid Chunked Response]"),ci(this),bi(this);else if(E.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Gl(de),de.P=!0,Le(11))}}else jt(this.i,this.l,E,null),ar(this,E);ke==4&&ci(this),this.o&&!this.K&&(ke==4?Qu(this.j,this):(this.o=!1,ir(this)))}else kr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Le(12)):(this.m=0,Le(13)),ci(this),bi(this)}}}catch{}};function Yh(d){if(!ju(d))return d.g.la();const y=xn(d.g);if(y==="")return"";let E="";const R=y.length,H=ji(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return ci(d),bi(d),"";d.h.i=new u.TextDecoder}for(let X=0;X<R;X++)d.h.h=!0,E+=d.h.i.decode(y[X],{stream:!(H&&X==R-1)});return y.length=0,d.h.g+=E,d.C=0,d.h.g}function ju(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function zu(d,y){var E=d.C,R=y.indexOf(`
`,E);return R==-1?vn:(E=Number(y.substring(E,R)),isNaN(E)?Xt:(R+=1,R+E>y.length?vn:(y=y.slice(R,R+E),d.C=R+E,y)))}wn.prototype.cancel=function(){this.K=!0,ci(this)};function ir(d){d.T=Date.now()+d.H,lo(d,d.H)}function lo(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=At(g(d.aa,d),y)}function rr(d){d.D&&(u.clearTimeout(d.D),d.D=null)}wn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Qn(this.i,this.B),this.M!=2&&(Kn(),Le(17)),ci(this),this.m=2,bi(this)):lo(this,this.T-d)};function bi(d){d.j.I==0||d.K||Qu(d.j,d)}function ci(d){rr(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,Be(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function ar(d,y){try{var E=d.j;if(E.I!=0&&(E.g==d||or(E.h,d))){if(!d.L&&or(E.h,d)&&E.I==3){try{var R=E.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)vo(E),pa(E);else break e;Ts(E),Le(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=At(g(E.Va,E),6e3));sr(E.h)<=1&&E.ta&&(E.ta=void 0)}else hr(E,11)}else if((d.L||E.g==d)&&vo(E),!O(y))for(H=E.Ba.g.parse(y),y=0;y<H.length;y++){let tt=H[y];const Rt=tt[0];if(!(Rt<=E.K))if(E.K=Rt,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const wi=tt[3];wi!=null&&(E.ka=wi,E.j.info("VER="+E.ka));const pr=tt[4];pr!=null&&(E.za=pr,E.j.info("SVER="+E.za));const zi=tt[5];zi!=null&&typeof zi=="number"&&zi>0&&(R=1.5*zi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Bi=d.g;if(Bi){const ws=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var X=R.h;X.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(kl(X,X.h),X.h=null))}if(R.G){const yo=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(R.wa=yo,st(R.J,R.G,yo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var de=d;if(R.na=Ju(R,R.L?R.ba:null,R.W),de.L){Ml(R.h,de);var ke=de,Bt=R.O;Bt&&(ke.H=Bt),ke.D&&(rr(ke),ir(ke)),R.g=de}else $u(R);E.i.length>0&&fr(E)}else tt[0]!="stop"&&tt[0]!="close"||hr(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?hr(E,7):ql(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}Kn(4)}catch{}}var Wt=class{constructor(d,y){this.g=d,this.map=y}};function Ol(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function sr(d){return d.h?1:d.g?d.g.size:0}function or(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function kl(d,y){d.g?d.g.add(y):d.h=y}function Ml(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ol.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Pl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.G);return y}return A(d.i)}var Bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(d,y){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const R=d[E].indexOf("=");let H,X=null;R>=0?(H=d[E].substring(0,R),X=d[E].substring(R+1)):H=d[E],y(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ui(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof ui?(this.l=d.l,yn(this,d.j),this.o=d.o,this.g=d.g,oa(this,d.u),this.h=d.h,Vl(this,Gu(d.i)),this.m=d.m):d&&(y=String(d).match(Bu))?(this.l=!1,yn(this,y[1]||"",!0),this.o=lr(y[2]||""),this.g=lr(y[3]||"",!0),oa(this,y[4]),this.h=lr(y[5]||"",!0),Vl(this,y[6]||"",!0),this.m=lr(y[7]||"")):(this.l=!1,this.i=new ca(null,this.l))}ui.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(gs(y,uo,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(gs(y,uo,!0),"@"),d.push(Fn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(gs(E,E.charAt(0)=="/"?Ul:Fu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",gs(E,qu)),d.join("")},ui.prototype.resolve=function(d){const y=Jt(this);let E=!!d.j;E?yn(y,d.j):E=!!d.o,E?y.o=d.o:E=!!d.g,E?y.g=d.g:E=d.u!=null;var R=d.h;if(E)oa(y,d.u);else if(E=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=y.h.lastIndexOf("/");H!=-1&&(R=y.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let de=0;de<H.length;){const ke=H[de++];ke=="."?R&&de==H.length&&X.push(""):ke==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&de==H.length&&X.push("")):(X.push(ke),R=!0)}R=X.join("/")}else R=H}return E?y.h=R:E=d.i.toString()!=="",E?Vl(y,Gu(d.i)):E=!!d.m,E&&(y.m=d.m),y};function Jt(d){return new ui(d)}function yn(d,y,E){d.j=E?lr(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function oa(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function Vl(d,y,E){y instanceof ca?(d.i=y,ho(d.i,d.l)):(E||(y=gs(y,la)),d.i=new ca(y,d.l))}function st(d,y,E){d.i.set(y,E)}function ms(d){return st(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function lr(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function gs(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,Xn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Xn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var uo=/[#\/\?@]/g,Fu=/[#\?:]/g,Ul=/[#\?]/g,la=/[#\?@]/g,qu=/#/g;function ca(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Wn(d){d.g||(d.g=new Map,d.h=0,d.i&&co(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=ca.prototype,n.add=function(d,y){Wn(this),this.i=null,d=ua(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function Hu(d,y){Wn(d),y=ua(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Ll(d,y){return Wn(d),y=ua(d,y),d.g.has(y)}n.forEach=function(d,y){Wn(this),this.g.forEach(function(E,R){E.forEach(function(H){d.call(y,H,R,this)},this)},this)};function jl(d,y){Wn(d);let E=[];if(typeof y=="string")Ll(d,y)&&(E=E.concat(d.g.get(ua(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)E=E.concat(d[y]);return E}n.set=function(d,y){return Wn(this),this.i=null,d=ua(this,d),Ll(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=jl(this,d),d.length>0?String(d[0]):y):y};function fo(d,y,E){Hu(d,y),E.length>0&&(d.i=null,d.g.set(ua(d,y),A(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var E=y[R];const H=Fn(E);E=jl(this,E);for(let X=0;X<E.length;X++){let de=H;E[X]!==""&&(de+="="+Fn(E[X])),d.push(de)}}return this.i=d.join("&")};function Gu(d){const y=new ca;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function ua(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function ho(d,y){y&&!d.j&&(Wn(d),d.i=null,d.g.forEach(function(E,R){const H=R.toLowerCase();R!=H&&(Hu(this,R),fo(this,H,E))},d)),d.j=y}function Ui(d,y){const E=new Qt;if(u.Image){const R=new Image;R.onload=v(Ei,E,"TestLoadImage: loaded",!0,y,R),R.onerror=v(Ei,E,"TestLoadImage: error",!1,y,R),R.onabort=v(Ei,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=v(Ei,E,"TestLoadImage: timeout",!1,y,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else y(!1)}function zl(d,y){const E=new Qt,R=new AbortController,H=setTimeout(()=>{R.abort(),Ei(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:R.signal}).then(X=>{clearTimeout(H),X.ok?Ei(E,"TestPingServer: ok",!0,y):Ei(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Ei(E,"TestPingServer: error",!1,y)})}function Ei(d,y,E,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(E)}catch{}}function da(){this.g=new mn}function cr(d){this.i=d.Sb||null,this.h=d.ab||!1}_(cr,Dt),cr.prototype.g=function(){return new vs(this.i,this.h)};function vs(d,y){Xe.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(vs,Xe),n=vs.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,Li(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;po(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function po(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?fa(this):Li(this),this.readyState==3&&po(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,fa(this))},n.Na=function(d){this.g&&(this.response=d,fa(this))},n.ga=function(){this.g&&fa(this)};function fa(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Li(d)}n.setRequestHeader=function(d,y){this.A.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function Li(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ti(d){let y="";return ge(d,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function ys(d,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Ti(E),typeof d=="string"?E!=null&&Fn(E):st(d,y,E))}function dt(d){Xe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(dt,Xe);var ur=/^https?$/i,Bl=["POST","PUT"];n=dt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bn.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(X){_s(this,X);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)E.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())E.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Bl,y,void 0)>=0)||R||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of E)this.g.setRequestHeader(X,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){_s(this,X)}};function _s(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,Fl(d),Nr(d)}function Fl(d){d.A||(d.A=!0,Je(d,"complete"),Je(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Je(this,"complete"),Je(this,"abort"),Nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),dt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},n.Xa=function(){bs(this)};function bs(d){if(d.h&&typeof l<"u"){if(d.v&&ji(d)==4)setTimeout(d.Ca.bind(d),0);else if(Je(d,"readystatechange"),ji(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=X===0){let de=String(d.D).match(Bu)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),R=!ur.test(de?de.toLowerCase():"")}E=R}if(E)Je(d,"complete"),Je(d,"success");else{d.o=6;try{var H=ji(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",Fl(d)}}finally{Nr(d)}}}}function Nr(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,y||Je(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ji(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),mt(y)}};function xn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function kr(d){const y={};d=(d.g&&ji(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(O(d[R]))continue;var E=li(d[R]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[H]||[];y[H]=X,X.push(E)}Ue(y,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function ha(d){this.za=0,this.i=[],this.j=new Qt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=dr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=dr("baseRetryDelayMs",5e3,d),this.Za=dr("retryDelaySeedMs",1e4,d),this.Ta=dr("forwardChannelMaxRetries",2,d),this.va=dr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ol(d&&d.concurrentRequestLimit),this.Ba=new da,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ha.prototype,n.ka=8,n.I=1,n.connect=function(d,y,E,R){Le(0),this.W=d,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Ju(this,null,this.W),fr(this)};function ql(d){if(mo(d),d.I==3){var y=d.V++,E=Jt(d.J);if(st(E,"SID",d.M),st(E,"RID",y),st(E,"TYPE","terminate"),Es(d,E),y=new wn(d,d.j,y),y.M=2,y.A=ms(Jt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=y.A,E=!0),E||(y.g=Zu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ir(y)}Wu(d)}function pa(d){d.g&&(Gl(d),d.g.cancel(),d.g=null)}function mo(d){pa(d),d.v&&(u.clearTimeout(d.v),d.v=null),vo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function fr(d){if(!Nl(d.h)&&!d.m){d.m=!0;var y=d.Ea;ie||S(),te||(ie(),te=!0),C.add(y,d),d.D=0}}function go(d,y){return sr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=At(g(d.Ea,d,y),Xu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new wn(this,this.j,d);let X=this.o;if(this.U&&(X?(X=j(X),le(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Yu(this,H,y),E=Jt(this.J),st(E,"RID",d),st(E,"CVER",22),this.G&&st(E,"X-HTTP-Session-Id",this.G),Es(this,E),X&&(this.R?y="headers="+Fn(Ti(X))+"&"+y:this.u&&ys(E,this.u,X)),kl(this.h,H),this.Ra&&st(E,"TYPE","init"),this.S?(st(E,"$req",y),st(E,"SID","null"),H.U=!0,nr(H,E,null)):nr(H,E,y),this.I=2}}else this.I==3&&(d?Hl(this,d):this.i.length==0||Nl(this.h)||Hl(this))};function Hl(d,y){var E;y?E=y.l:E=d.V++;const R=Jt(d.J);st(R,"SID",d.M),st(R,"RID",E),st(R,"AID",d.K),Es(d,R),d.u&&d.o&&ys(R,d.u,d.o),E=new wn(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),y&&(d.i=y.G.concat(d.i)),y=Yu(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),kl(d.h,E),nr(E,R,y)}function Es(d,y){d.H&&ge(d.H,function(E,R){st(y,R,E)}),d.l&&ge({},function(E,R){st(y,R,E)})}function Yu(d,y,E){E=Math.min(d.i.length,E);const R=d.l?g(d.l.Ka,d.l,d):null;e:{var H=d.i;let ke=-1;for(;;){const Bt=["count="+E];ke==-1?E>0?(ke=H[0].g,Bt.push("ofs="+ke)):ke=0:Bt.push("ofs="+ke);let tt=!0;for(let Rt=0;Rt<E;Rt++){var X=H[Rt].g;const wi=H[Rt].map;if(X-=ke,X<0)ke=Math.max(0,H[Rt].g-100),tt=!1;else try{X="req"+X+"_"||"";try{var de=wi instanceof Map?wi:Object.entries(wi);for(const[pr,zi]of de){let Bi=zi;h(zi)&&(Bi=Fe(zi)),Bt.push(X+pr+"="+encodeURIComponent(Bi))}}catch(pr){throw Bt.push(X+"type="+encodeURIComponent("_badmap")),pr}}catch{R&&R(wi)}}if(tt){de=Bt.join("&");break e}}de=void 0}return d=d.i.splice(0,E),y.G=d,de}function $u(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;ie||S(),te||(ie(),te=!0),C.add(y,d),d.A=0}}function Ts(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=At(g(d.Da,d),Xu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=At(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Le(10),pa(this),Ku(this))};function Gl(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Ku(d){d.g=new wn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Jt(d.na);st(y,"RID","rpc"),st(y,"SID",d.M),st(y,"AID",d.K),st(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&st(y,"TO",d.ia),st(y,"TYPE","xmlhttp"),Es(d,y),d.u&&d.o&&ys(y,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=ms(Jt(y)),E.u=null,E.R=!0,oo(E,d)}n.Va=function(){this.C!=null&&(this.C=null,pa(this),Ts(this),Le(19))};function vo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Qu(d,y){var E=null;if(d.g==y){vo(d),Gl(d),d.g=null;var R=2}else if(or(d.h,y))E=y.G,Ml(d.h,y),R=1;else return;if(d.I!=0){if(y.o)if(R==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var H=d.D;R=si(),Je(R,new St(R,E)),fr(d)}else $u(d);else if(H=y.m,H==3||H==0&&y.X>0||!(R==1&&go(d,y)||R==2&&Ts(d)))switch(E&&E.length>0&&(y=d.h,y.i=y.i.concat(E)),H){case 1:hr(d,5);break;case 4:hr(d,10);break;case 3:hr(d,6);break;default:hr(d,2)}}}function Xu(d,y){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*y}function hr(d,y){if(d.j.info("Error code "+y),y==2){var E=g(d.bb,d),R=d.Ua;const H=!R;R=new ui(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||yn(R,"https"),ms(R),H?Ui(R.toString(),E):zl(R.toString(),E)}else Le(2);d.I=0,d.l&&d.l.pa(y),Wu(d),mo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function Wu(d){if(d.I=0,d.ja=[],d.l){const y=Pl(d.h);(y.length!=0||d.i.length!=0)&&(N(d.ja,y),N(d.ja,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.oa()}}function Ju(d,y,E){var R=E instanceof ui?Jt(E):new ui(E);if(R.g!="")y&&(R.g=y+"."+R.g),oa(R,R.u);else{var H=u.location;R=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const X=new ui(null);R&&yn(X,R),y&&(X.g=y),H&&oa(X,H),E&&(X.h=E),R=X}return E=d.G,y=d.wa,E&&y&&st(R,E,y),st(R,"VER",d.ka),Es(d,R),R}function Zu(d,y,E){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new dt(new cr({ab:E})):new dt(d.ma),y.Fa(d.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ed(){}n=ed.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ma(){}ma.prototype.g=function(d,y){return new Hn(d,y)};function Hn(d,y){Xe.call(this),this.g=new ha(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!O(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Mr(this)}_(Hn,Xe),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){ql(this.g)},Hn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Fe(d),d=E);y.i.push(new Wt(y.Ya++,d)),y.I==3&&fr(y)},Hn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,Hn.Z.N.call(this)};function td(d){Ot.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}_(td,Ot);function nd(){Lt.call(this),this.status=1}_(nd,Lt);function Mr(d){this.g=d}_(Mr,ed),Mr.prototype.ra=function(){Je(this.g,"a")},Mr.prototype.qa=function(d){Je(this.g,new td(d))},Mr.prototype.pa=function(d){Je(this.g,new nd)},Mr.prototype.oa=function(){Je(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,cS=function(){return new ma},lS=function(){return si()},oS=ut,kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mn.NO_ERROR=0,Mn.TIMEOUT=8,Mn.HTTP_ERROR=6,Cf=Mn,Pn.COMPLETE="complete",sS=Pn,Vi.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Xe.prototype.listen=Xe.prototype.J,Lc=Vi,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,aS=dt}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});let Ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let El="12.9.0";function uk(n){El=n}const Xs=new yv("@firebase/firestore");function Xo(){return Xs.logLevel}function he(n,...e){if(Xs.logLevel<=Ge.DEBUG){const t=e.map(Cv);Xs.debug(`Firestore (${El}): ${n}`,...t)}}function ra(n,...e){if(Xs.logLevel<=Ge.ERROR){const t=e.map(Cv);Xs.error(`Firestore (${El}): ${n}`,...t)}}function Ws(n,...e){if(Xs.logLevel<=Ge.WARN){const t=e.map(Cv);Xs.warn(`Firestore (${El}): ${n}`,...t)}}function Cv(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,uS(n,r,t)}function uS(n,e,t){let r=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ra(r),new Error(r)}function rt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||uS(e,s,r)}function Oe(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class dS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ln.UNAUTHENTICATED)))}shutdown(){}}class fk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hk{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let r=this.i;const s=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hs,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await s(this.currentUser)}))},h=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new dS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class pk{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mk{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new pk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ki(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const r=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const s=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Iv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=vk(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function Mg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),l=e.charAt(r);if(s!==l)return ng(s)===ng(l)?Ye(s,l):ng(s)?1:-1}return Ye(n.length,e.length)}const yk=55296,_k=57343;function ng(n){const e=n.charCodeAt(0);return e>=yk&&e<=_k}function cl(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const $0="__name__";class br{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=br.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Ye(e.length,t.length)}static compareSegments(e,t){const r=br.isNumericId(e),s=br.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?br.extractNumericId(e).compare(br.extractNumericId(t)):Mg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xa.fromString(e.substring(4,e.length-2))}}class yt extends br{construct(e,t,r){return new yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const bk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends br{construct(e,t,r){return new Dn(e,t,r)}static isValidIdentifier(e){return bk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new Dn([$0])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(r.length===0)throw new fe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new fe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(l(),s++)}if(l(),u)throw new fe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(t)}static emptyPath(){return new Dn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(yt.fromString(e))}static fromName(e){return new we(yt.fromString(e).popFirst(5))}static empty(){return new we(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new yt(e.slice()))}}function fS(n,e,t){if(!t)throw new fe(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ek(n,e,t,r){if(e===!0&&r===!0)throw new fe(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function K0(n){if(!we.isDocumentKey(n))throw new fe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Q0(n){if(we.isDocumentKey(n))throw new fe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Th(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Wa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Th(n);throw new fe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Tu(n,e){if(!hS(n))throw new fe(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new fe(ae.INVALID_ARGUMENT,t);return!0}const X0=-62135596800,W0=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*W0);return new wt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X0)throw new fe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:sn("string",wt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function Tk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new wt(t+1,0):new wt(t,r));return new ts(s,we.empty(),e)}function wk(n){return new ts(n.readTime,n.key,tu)}class ts{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ts(Ie.min(),we.empty(),tu)}static max(){return new ts(Ie.max(),we.empty(),tu)}}function xk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}const Sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tl(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==Sk)throw n;he("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,r)=>{t(e)}))}static reject(e){return new se(((t,r)=>{r(e)}))}static waitFor(e){return new se(((t,r)=>{let s=0,l=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++l,u&&l===s&&t()}),(m=>r(m)))})),u=!0,l===s&&t()}))}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next((s=>s?se.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,l)=>{r.push(t.call(this,s,l))})),this.waitFor(r)}static mapArray(e,t){return new se(((r,s)=>{const l=e.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((v=>{u[g]=v,++h,h===l&&r(u)}),(v=>s(v)))}}))}static doWhile(e,t){return new se(((r,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):r()};l()}))}}function Rk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wl(n){return n.name==="IndexedDbTransactionError"}class wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;const Dv=-1;function xh(n){return n==null}function Gf(n){return n===0&&1/n==-1/0}function Ck(n){return typeof n=="number"&&Number.isInteger(n)&&!Gf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const pS="";function Ik(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J0(e)),e=Dk(n.get(t),e);return J0(e)}function Dk(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case pS:t+="";break;default:t+=l}}return t}function J0(n){return n+pS+""}function Z0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class kt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=r??In.RED,this.left=s??In.EMPTY,this.right=l??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new In(e??this.key,t??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,s,l){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yi{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new yi([])}unionWith(e){let t=new dn(Dn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class gS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class On{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gS("Invalid base64 string: "+l):l}})(e);return new On(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l})(e);return new On(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const Ok=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=Ok.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function is(n){return typeof n=="string"?On.fromBase64String(n):On.fromUint8Array(n)}const vS="server_timestamp",yS="__type__",_S="__previous_value__",bS="__local_write_time__";function Ov(n){return(n?.mapValue?.fields||{})[yS]?.stringValue===vS}function Sh(n){const e=n.mapValue.fields[_S];return Ov(e)?Sh(e):e}function nu(n){const e=ns(n.mapValue.fields[bS].timestampValue);return new wt(e.seconds,e.nanos)}class Nk{constructor(e,t,r,s,l,u,h,m,g,v,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=_}}const Yf="(default)";class iu{constructor(e,t){this.projectId=e,this.database=t||Yf}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}function kk(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new fe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(n.options.projectId,e)}const ES="__type__",Mk="__max__",df={mapValue:{}},TS="__vector__",$f="value";function rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ov(n)?4:Vk(n)?9007199254740991:Pk(n)?10:11:Ae(28295,{value:n})}function Cr(n,e){if(n===e)return!0;const t=rs(n);if(t!==rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nu(n).isEqual(nu(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=ns(s.timestampValue),h=ns(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return is(s.bytesValue).isEqual(is(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return Ht(s.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return Ht(s.integerValue)===Ht(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=Ht(s.doubleValue),h=Ht(l.doubleValue);return u===h?Gf(u)===Gf(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return cl(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return(function(s,l){const u=s.mapValue.fields||{},h=l.mapValue.fields||{};if(Z0(u)!==Z0(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!Cr(u[m],h[m])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function ru(n,e){return(n.values||[]).find((t=>Cr(t,e)))!==void 0}function ul(n,e){if(n===e)return 0;const t=rs(n),r=rs(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Ht(l.integerValue||l.doubleValue),m=Ht(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,e);case 3:return tT(n.timestampValue,e.timestampValue);case 4:return tT(nu(n),nu(e));case 5:return Mg(n.stringValue,e.stringValue);case 6:return(function(l,u){const h=is(l),m=is(u);return h.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let g=0;g<h.length&&g<m.length;g++){const v=Ye(h[g],m[g]);if(v!==0)return v}return Ye(h.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Ye(Ht(l.latitude),Ht(u.latitude));return h!==0?h:Ye(Ht(l.longitude),Ht(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return nT(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},g=h[$f]?.arrayValue,v=m[$f]?.arrayValue,_=Ye(g?.values?.length||0,v?.values?.length||0);return _!==0?_:nT(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===df.mapValue&&u===df.mapValue)return 0;if(l===df.mapValue)return 1;if(u===df.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const T=Mg(m[_],v[_]);if(T!==0)return T;const A=ul(h[m[_]],g[v[_]]);if(A!==0)return A}return Ye(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function tT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=ns(n),r=ns(e),s=Ye(t.seconds,r.seconds);return s!==0?s:Ye(t.nanos,r.nanos)}function nT(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const l=ul(t[s],r[s]);if(l)return l}return Ye(t.length,r.length)}function dl(n){return Pg(n)}function Pg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ns(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return is(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const l of t.values||[])s?s=!1:r+=",",r+=Pg(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const u of r)l?l=!1:s+=",",s+=`${u}:${Pg(t.fields[u])}`;return s+"}"})(n.mapValue):Ae(61005,{value:n})}function If(n){switch(rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(n);return e?16+If(e):16;case 5:return 2*n.stringValue.length;case 6:return is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,l)=>s+If(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return hs(r.fields,((l,u)=>{s+=l.length+If(u)})),s})(n.mapValue);default:throw Ae(13486,{value:n})}}function iT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vg(n){return!!n&&"integerValue"in n}function Nv(n){return!!n&&"arrayValue"in n}function rT(n){return!!n&&"nullValue"in n}function aT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Df(n){return!!n&&"mapValue"in n}function Pk(n){return(n?.mapValue?.fields||{})[ES]?.stringValue===TS}function Hc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return hs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Hc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hc(n.arrayValue.values[t]);return e}return{...n}}function Vk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Mk}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(t)}setAll(e){let t=Dn.emptyPath(),r={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Hc(u):s.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());Df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Df(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){hs(t,((s,l)=>e[s]=l));for(const s of r)delete e[s]}clone(){return new ai(Hc(this.value))}}function wS(n){const e=[];return hs(n.fields,((t,r)=>{const s=new Dn([t]);if(Df(r)){const l=wS(r.mapValue).fields;if(l.length===0)e.push(s);else for(const u of l)e.push(s.child(u))}else e.push(s)})),new yi(e)}class jn{constructor(e,t,r,s,l,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new jn(e,0,Ie.min(),Ie.min(),Ie.min(),ai.empty(),0)}static newFoundDocument(e,t,r,s){return new jn(e,1,t,Ie.min(),r,s,0)}static newNoDocument(e,t){return new jn(e,2,t,Ie.min(),Ie.min(),ai.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,Ie.min(),Ie.min(),ai.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kf{constructor(e,t){this.position=e,this.inclusive=t}}function sT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],u=n.position[s];if(l.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),t.key):r=ul(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function oT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}class au{constructor(e,t="asc"){this.field=e,this.dir=t}}function Uk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class xS{}class an extends xS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jk(e,t,r):t==="array-contains"?new Fk(e,r):t==="in"?new qk(e,r):t==="not-in"?new Hk(e,r):t==="array-contains-any"?new Gk(e,r):new an(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new zk(e,r):new Bk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ul(t,this.value)):t!==null&&rs(this.value)===rs(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends xS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qi(e,t)}matches(e){return SS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SS(n){return n.op==="and"}function AS(n){return Lk(n)&&SS(n)}function Lk(n){for(const e of n.filters)if(e instanceof Qi)return!1;return!0}function Ug(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+dl(n.value);if(AS(n))return n.filters.map((e=>Ug(e))).join(",");{const e=n.filters.map((t=>Ug(t))).join(",");return`${n.op}(${e})`}}function RS(n,e){return n instanceof an?(function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)})(n,e):n instanceof Qi?(function(r,s){return s instanceof Qi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((l,u,h)=>l&&RS(u,s.filters[h])),!0):!1})(n,e):void Ae(19439)}function CS(n){return n instanceof an?(function(t){return`${t.field.canonicalString()} ${t.op} ${dl(t.value)}`})(n):n instanceof Qi?(function(t){return t.op.toString()+" {"+t.getFilters().map(CS).join(" ,")+"}"})(n):"Filter"}class jk extends an{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class zk extends an{constructor(e,t){super(e,"in",t),this.keys=IS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Bk extends an{constructor(e,t){super(e,"not-in",t),this.keys=IS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function IS(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class Fk extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nv(t)&&ru(t.arrayValue,this.value)}}class qk extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ru(this.value.arrayValue,t)}}class Hk extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ru(this.value.arrayValue,t)}}class Gk extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}class Yk{constructor(e,t=null,r=[],s=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function lT(n,e=null,t=[],r=[],s=null,l=null,u=null){return new Yk(n,e,t,r,s,l,u)}function kv(n){const e=Oe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Ug(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>dl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>dl(r))).join(",")),e.Te=t}return e.Te}function Mv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Uk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oT(n.startAt,e.startAt)&&oT(n.endAt,e.endAt)}function Lg(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class xl{constructor(e,t=null,r=[],s=[],l=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $k(n,e,t,r,s,l,u,h){return new xl(n,e,t,r,s,l,u,h)}function Pv(n){return new xl(n)}function cT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Kk(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function DS(n){return n.collectionGroup!==null}function Gc(n){const e=Oe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new dn(Dn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new au(l,r))})),t.has(Dn.keyField().canonicalString())||e.Ie.push(new au(Dn.keyField(),r))}return e.Ie}function Sr(n){const e=Oe(n);return e.Ee||(e.Ee=Qk(e,Gc(n))),e.Ee}function Qk(n,e){if(n.limitType==="F")return lT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new au(s.field,l)}));const t=n.endAt?new Kf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kf(n.startAt.position,n.startAt.inclusive):null;return lT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jg(n,e){const t=n.filters.concat([e]);return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xk(n,e){const t=n.explicitOrderBy.concat([e]);return new xl(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function zg(n,e,t){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ah(n,e){return Mv(Sr(n),Sr(e))&&n.limitType===e.limitType}function OS(n){return`${kv(Sr(n))}|lt:${n.limitType}`}function Wo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>CS(s))).join(", ")}]`),xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>dl(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>dl(s))).join(",")),`Target(${r})`})(Sr(n))}; limitType=${n.limitType})`}function Rh(n,e){return e.isFoundDocument()&&(function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):we.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,s){for(const l of Gc(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,h,m){const g=sT(u,h,m);return u.inclusive?g<=0:g<0})(r.startAt,Gc(r),s)||r.endAt&&!(function(u,h,m){const g=sT(u,h,m);return u.inclusive?g>=0:g>0})(r.endAt,Gc(r),s))})(n,e)}function Wk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NS(n){return(e,t)=>{let r=!1;for(const s of Gc(n)){const l=Jk(s,e,t);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function Jk(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):(function(l,u,h){const m=u.data.field(l),g=h.data.field(l);return m!==null&&g!==null?ul(m,g):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((t,r)=>{for(const[s,l]of r)e(s,l)}))}isEmpty(){return mS(this.inner)}size(){return this.innerSize}}const Zk=new kt(we.comparator);function aa(){return Zk}const kS=new kt(we.comparator);function jc(...n){let e=kS;for(const t of n)e=e.insert(t.key,t);return e}function MS(n){let e=kS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function qs(){return Yc()}function PS(){return Yc()}function Yc(){return new io((n=>n.toString()),((n,e)=>n.isEqual(e)))}const eM=new kt(we.comparator),tM=new dn(we.comparator);function $e(...n){let e=tM;for(const t of n)e=e.add(t);return e}const nM=new dn(Ye);function iM(){return nM}function Vv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function VS(n){return{integerValue:""+n}}function US(n,e){return Ck(e)?VS(e):Vv(n,e)}class Ch{constructor(){this._=void 0}}function rM(n,e,t){return n instanceof su?(function(s,l){const u={fields:{[yS]:{stringValue:vS},[bS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Ov(l)&&(l=Sh(l)),l&&(u.fields[_S]=l),{mapValue:u}})(t,e):n instanceof ou?jS(n,e):n instanceof lu?zS(n,e):(function(s,l){const u=LS(s,l),h=uT(u)+uT(s.Ae);return Vg(u)&&Vg(s.Ae)?VS(h):Vv(s.serializer,h)})(n,e)}function aM(n,e,t){return n instanceof ou?jS(n,e):n instanceof lu?zS(n,e):t}function LS(n,e){return n instanceof cu?(function(r){return Vg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class su extends Ch{}class ou extends Ch{constructor(e){super(),this.elements=e}}function jS(n,e){const t=BS(e);for(const r of n.elements)t.some((s=>Cr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class lu extends Ch{constructor(e){super(),this.elements=e}}function zS(n,e){let t=BS(e);for(const r of n.elements)t=t.filter((s=>!Cr(s,r)));return{arrayValue:{values:t}}}class cu extends Ch{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uT(n){return Ht(n.integerValue||n.doubleValue)}function BS(n){return Nv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class FS{constructor(e,t){this.field=e,this.transform=t}}function sM(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof ou&&s instanceof ou||r instanceof lu&&s instanceof lu?cl(r.elements,s.elements,Cr):r instanceof cu&&s instanceof cu?Cr(r.Ae,s.Ae):r instanceof su&&s instanceof su})(n.transform,e.transform)}class oM{constructor(e,t){this.version=e,this.transformResults=t}}class Yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ih{}function qS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Uv(n.key,Yi.none()):new wu(n.key,n.data,Yi.none());{const t=n.data,r=ai.empty();let s=new dn(Dn.comparator);for(let l of e.fields)if(!s.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),s=s.add(l)}return new ps(n.key,r,new yi(s.toArray()),Yi.none())}}function lM(n,e,t){n instanceof wu?(function(s,l,u){const h=s.value.clone(),m=fT(s.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ps?(function(s,l,u){if(!Of(s.precondition,l))return void l.convertToUnknownDocument(u.version);const h=fT(s.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(HS(s)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(s,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function $c(n,e,t,r){return n instanceof wu?(function(l,u,h,m){if(!Of(l.precondition,u))return h;const g=l.value.clone(),v=hT(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof ps?(function(l,u,h,m){if(!Of(l.precondition,u))return h;const g=hT(l.fieldTransforms,m,u),v=u.data;return v.setAll(HS(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(l,u,h){return Of(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function cM(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=LS(r.transform,s||null);l!=null&&(t===null&&(t=ai.empty()),t.set(r.field,l))}return t||null}function dT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&cl(r,s,((l,u)=>sM(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wu extends Ih{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ps extends Ih{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function HS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function fT(n,e,t){const r=new Map;rt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const l=n[s],u=l.transform,h=e.data.field(l.field);r.set(l.field,aM(u,h,t[s]))}return r}function hT(n,e,t){const r=new Map;for(const s of n){const l=s.transform,u=t.data.field(s.field);r.set(s.field,rM(l,u,e))}return r}class Uv extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uM extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dM{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&lM(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$c(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$c(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=PS();return this.mutations.forEach((s=>{const l=e.get(s.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(s.key)?null:h;const m=qS(u,h);m!==null&&r.set(s.key,m),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$e())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((t,r)=>dT(t,r)))&&cl(this.baseMutations,e.baseMutations,((t,r)=>dT(t,r)))}}class Lv{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return eM})();const l=e.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,r[u].version);return new Lv(e,t,r,s)}}class fM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hM{constructor(e,t){this.count=e,this.unchangedNames=t}}var rn,We;function pM(n){switch(n){case ae.OK:return Ae(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function GS(n){if(n===void 0)return ra("GRPC error has no .code"),ae.UNKNOWN;switch(n){case rn.OK:return ae.OK;case rn.CANCELLED:return ae.CANCELLED;case rn.UNKNOWN:return ae.UNKNOWN;case rn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case rn.INTERNAL:return ae.INTERNAL;case rn.UNAVAILABLE:return ae.UNAVAILABLE;case rn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case rn.NOT_FOUND:return ae.NOT_FOUND;case rn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case rn.ABORTED:return ae.ABORTED;case rn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case rn.DATA_LOSS:return ae.DATA_LOSS;default:return Ae(39323,{code:n})}}(We=rn||(rn={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function mM(){return new TextEncoder}const gM=new Xa([4294967295,4294967295],0);function pT(n){const e=mM().encode(n),t=new rS;return t.update(e),new Uint8Array(t.digest())}function mT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xa([t,r],0),new Xa([s,l],0)]}class jv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new zc(`Invalid padding: ${t}`);if(r<0)throw new zc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new zc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Xa.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Xa.fromNumber(r)));return s.compare(gM)===1&&(s=new Xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=pT(e),[r,s]=mT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,s,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new jv(l,s,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=pT(e),[r,s]=mT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,s,l);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dh(Ie.min(),s,new kt(Ye),aa(),$e())}}class xu{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xu(r,t,$e(),$e(),$e())}}class Nf{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class YS{constructor(e,t){this.targetId=e,this.Ce=t}}class $S{constructor(e,t,r=On.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class gT{constructor(){this.ve=0,this.Fe=vT(),this.Me=On.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),t=$e(),r=$e();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ae(38017,{changeType:l})}})),new xu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=vT()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class vM{constructor(e){this.Ge=e,this.ze=new Map,this.je=aa(),this.He=ff(),this.Je=ff(),this.Ze=new kt(Ye)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(Lg(l))if(r===0){const u=new we(l.path);this.et(t,u,jn.newNoDocument(u,Ie.min()))}else rt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=t;let u,h;try{u=is(r).toUint8Array()}catch(m){if(m instanceof gS)return Ws("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new jv(u,s,l)}catch(m){return Ws(m instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Lg(h.target)){const m=new we(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,jn.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let r=$e();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const s=new Dh(e,t,this.Ze,this.je,r);return this.je=aa(),this.He=ff(),this.Je=ff(),this.Ze=new kt(Ye),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new gT,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new dn(Ye),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new dn(Ye),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ff(){return new kt(we.comparator)}function vT(){return new kt(we.comparator)}const yM={asc:"ASCENDING",desc:"DESCENDING"},_M={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bM={and:"AND",or:"OR"};class EM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bg(n,e){return n.useProto3Json||xh(e)?e:{value:e}}function Qf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TM(n,e){return Qf(n,e.toTimestamp())}function Ar(n){return rt(!!n,49232),Ie.fromTimestamp((function(t){const r=ns(t);return new wt(r.seconds,r.nanos)})(n))}function zv(n,e){return Fg(n,e).canonicalString()}function Fg(n,e){const t=(function(s){return new yt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function QS(n){const e=yt.fromString(n);return rt(eA(e),10190,{key:e.toString()}),e}function qg(n,e){return zv(n.databaseId,e.path)}function ig(n,e){const t=QS(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(WS(t))}function XS(n,e){return zv(n.databaseId,e)}function wM(n){const e=QS(n);return e.length===4?yt.emptyPath():WS(e)}function Hg(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WS(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yT(n,e,t){return{name:qg(n,e),fields:t.value.mapValue.fields}}function xM(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(rt(v===void 0||typeof v=="string",58123),On.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),On.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const v=g.code===void 0?ae.UNKNOWN:GS(g.code);return new fe(v,g.message||"")})(u);t=new $S(r,s,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ig(n,r.document.name),l=Ar(r.document.updateTime),u=r.document.createTime?Ar(r.document.createTime):Ie.min(),h=new ai({mapValue:{fields:r.document.fields}}),m=jn.newFoundDocument(s,l,u,h),g=r.targetIds||[],v=r.removedTargetIds||[];t=new Nf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ig(n,r.document),l=r.readTime?Ar(r.readTime):Ie.min(),u=jn.newNoDocument(s,l),h=r.removedTargetIds||[];t=new Nf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ig(n,r.document),l=r.removedTargetIds||[];t=new Nf([],l,s,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,u=new hM(s,l),h=r.targetId;t=new YS(h,u)}}return t}function SM(n,e){let t;if(e instanceof wu)t={update:yT(n,e.key,e.value)};else if(e instanceof Uv)t={delete:qg(n,e.key)};else if(e instanceof ps)t={update:yT(n,e.key,e.data),updateMask:MM(e.fieldMask)};else{if(!(e instanceof uM))return Ae(16599,{dt:e.type});t={verify:qg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ou)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof cu)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ae(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:TM(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(n,e.precondition)),t}function AM(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map((t=>(function(s,l){let u=s.updateTime?Ar(s.updateTime):Ar(l);return u.isEqual(Ie.min())&&(u=Ar(l)),new oM(u,s.transformResults||[])})(t,e)))):[]}function RM(n,e){return{documents:[XS(n,e.path)]}}function CM(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XS(n,s);const l=(function(g){if(g.length!==0)return ZS(Qi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:Jo(T.field),direction:OM(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Bg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function IM(n){let e=wM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){rt(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(_){const T=JS(_);return T instanceof Qi&&AS(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((T=>(function(N){return new au(Zo(N.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let T;return T=typeof _=="object"?_.value:_,xh(T)?null:T})(t.limit));let m=null;t.startAt&&(m=(function(_){const T=!!_.before,A=_.values||[];return new Kf(A,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const T=!_.before,A=_.values||[];return new Kf(A,T)})(t.endAt)),$k(e,s,u,l,h,"F",m,g)}function DM(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zo(t.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zo(t.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(t.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(t.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return an.create(Zo(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Qi.create(t.compositeFilter.filters.map((r=>JS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function OM(n){return yM[n]}function NM(n){return _M[n]}function kM(n){return bM[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return Dn.fromServerFormat(n.fieldPath)}function ZS(n){return n instanceof an?(function(t){if(t.op==="=="){if(aT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(rT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(rT(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:NM(t.op),value:t.value}}})(n):n instanceof Qi?(function(t){const r=t.getFilters().map((s=>ZS(s)));return r.length===1?r[0]:{compositeFilter:{op:kM(t.op),filters:r}}})(n):Ae(54877,{filter:n})}function MM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function eA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function tA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Ya{constructor(e,t,r,s,l=Ie.min(),u=Ie.min(),h=On.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PM{constructor(e){this.yt=e}}function VM(n){const e=IM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zg(e,e.limit,"L"):e}class UM{constructor(){this.Sn=new LM}addToCollectionParentIndex(e,t){return this.Sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(ts.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class LM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new dn(yt.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dn(yt.comparator)).toArray()}}const _T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nA=41943040;class ii{static withCacheSize(e){return new ii(e,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(nA,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);class fl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fl(0)}static ar(){return new fl(-1)}}const bT="LruGarbageCollector",jM=1048576;function ET([n,e],[t,r]){const s=Ye(n,t);return s===0?Ye(e,r):s}class zM{constructor(e){this.Pr=e,this.buffer=new dn(ET),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ET(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(bT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wl(t)?he(bT,"Ignoring IndexedDB error during garbage collection: ",t):await Tl(t)}await this.Ar(3e5)}))}}class FM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(wh.ce);const r=new zM(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(_T)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_T):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,l,u,h,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,t)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(g=Date.now(),Xo()<=Ge.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:_}))))}}function qM(n,e){return new FM(n,e)}class HM{constructor(){this.changes=new io((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YM{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&$c(r.mutation,s,yi.empty(),wt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=$e()){const s=qs();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((l=>{let u=jc();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=qs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,$e())))}populateOverlays(e,t,r){const s=[];return r.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,s){let l=aa();const u=Yc(),h=(function(){return Yc()})();return t.forEach(((m,g)=>{const v=r.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof ps)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),$c(v.mutation,g,v.mutation.getFieldMask(),wt.now())):u.set(g.key,yi.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>h.set(g,new GM(v,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Yc();let s=new kt(((u,h)=>u-h)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=r.get(m)||yi.empty();v=h.applyToLocalView(g,v),r.set(m,v);const _=(s.get(h.batchId)||$e()).add(m);s=s.insert(h.batchId,_)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,v=m.value,_=PS();v.forEach((T=>{if(!l.has(T)){const A=qS(t.get(T),r.get(T));A!==null&&_.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return se.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return Kk(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):se.resolve(qs());let h=tu,m=l;return u.next((g=>se.forEach(g,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,$e()))).next((v=>({batchId:h,changes:MS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((r=>{let s=jc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const l=t.collectionGroup;let u=jc();return this.indexManager.getCollectionParents(e,l).next((h=>se.forEach(h,(m=>{const g=(function(_,T){return new xl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next((v=>{v.forEach(((_,T)=>{u=u.insert(_,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,s)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,jn.newInvalidDocument(v)))}));let h=jc();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&$c(v.mutation,g,yi.empty(),wt.now()),Rh(t,g)&&(h=h.insert(m,g))})),h}))}}class $M{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return se.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Ar(s.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:VM(s.bundledQuery),readTime:Ar(s.readTime)}})(t)),se.resolve()}}class KM{constructor(){this.overlays=new kt(we.comparator),this.Lr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qs();return se.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&r.set(s,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,l)=>{this.bt(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const s=qs(),l=t.length+1,u=new we(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>r&&s.set(m.getKey(),m)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new kt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let v=l.get(g.largestBatchId);v===null&&(v=qs(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=qs(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=s)););return se.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new fM(t,r));let l=this.Lr.get(t);l===void 0&&(l=$e(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}class QM{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class Bv{constructor(){this.kr=new dn(bn.Kr),this.qr=new dn(bn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new bn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new bn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new we(new yt([])),r=new bn(t,e),s=new bn(t,e+1),l=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new we(new yt([])),r=new bn(t,e),s=new bn(t,e+1);let l=$e();return this.qr.forEachInRange([r,s],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new bn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return we.comparator(e.key,t.key)||Ye(e.Hr,t.Hr)}static Ur(e,t){return Ye(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}class XM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new dn(bn.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new dM(l,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Jr=this.Jr.add(new bn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),l=s<0?0:s;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Dv:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bn(t,0),s=new bn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,s],(u=>{const h=this.Zr(u.Hr);l.push(h)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dn(Ye);return t.forEach((s=>{const l=new bn(s,0),u=new bn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{r=r.add(h.Hr)}))})),se.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;we.isDocumentKey(l)||(l=l.child(""));const u=new bn(new we(l),0);let h=new dn(Ye);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(h=h.add(m.Hr)),!0)}),u),se.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){rt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return se.forEach(t.mutations,(s=>{const l=new bn(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new bn(t,0),s=this.Jr.firstAfterOrEqual(r);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class WM{constructor(e){this.ti=e,this.docs=(function(){return new kt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=aa();return t.forEach((s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():jn.newInvalidDocument(s))})),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let l=aa();const u=t.path,h=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||xk(wk(v),r)<=0||(s.has(v.key)||Rh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,r,s){Ae(9500)}ni(e,t){return se.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new JM(this)}getSize(e){return se.resolve(this.size)}}class JM extends HM{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),se.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class ZM{constructor(e){this.persistence=e,this.ri=new io((t=>kv(t)),Mv),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new Bv,this.targetCount=0,this.oi=fl._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),se.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new fl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.lr(t),se.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),se.waitFor(l).next((()=>s))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((u=>{l.push(s.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.si.containsKey(t))}}class iA{constructor(e,t){this._i={},this.overlays={},this.ai=new wh(0),this.ui=!1,this.ui=!0,this.ci=new QM,this.referenceDelegate=e(this),this.li=new ZM(this),this.indexManager=new UM,this.remoteDocumentCache=(function(s){return new WM(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new PM(t),this.Pi=new $M(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new XM(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const s=new e4(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((l=>this.referenceDelegate.Ii(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(e,t){return se.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class e4 extends Ak{constructor(e){super(),this.currentSequenceNumber=e}}class Fv{constructor(e){this.persistence=e,this.Ri=new Bv,this.Ai=null}static Vi(e){return new Fv(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(r=>{const s=we.fromPath(r);return this.mi(e,s).next((l=>{l||t.removeEntry(s,Ie.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Xf{constructor(e,t){this.persistence=e,this.fi=new io((r=>Ik(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=qM(this,t)}static Vi(e,t){return new Xf(e,t)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return se.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((l=>l?se.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((h=>{h||(r++,l.removeEntry(u,Ie.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=If(e.data.value)),t}wr(e,t,r){return se.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=$e(),s=$e();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new qv(e,t.fromCache,r,s)}}class t4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class n4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return HD()?8:Rk(zn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,s,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new t4;return this.ys(e,t,u).next((h=>{if(l.result=h,this.As)return this.ws(e,t,u,h.size)}))})).next((()=>l.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Xo()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(Xo()<=Ge.DEBUG&&he("QueryEngine","Query:",Wo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Xo()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):se.resolve())}gs(e,t){if(cT(t))return se.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=zg(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=$e(...l);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.bs(t,h);return this.Ss(t,g,u,m.readTime)?this.gs(e,zg(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,r,s){return cT(t)||s.isEqual(Ie.min())?se.resolve(null):this.fs.getDocuments(e,r).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,r,s)?se.resolve(null):(Xo()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wo(t)),this.Ds(e,u,t,Tk(s,tu)).next((h=>h)))}))}bs(e,t){let r=new dn(NS(e));return t.forEach(((s,l)=>{Rh(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ys(e,t,r){return Xo()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Wo(t)),this.fs.getDocumentsMatchingQuery(e,t,ts.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Hv="LocalStore",i4=3e8;class r4{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new kt(Ye),this.Fs=new io((l=>kv(l)),Mv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function a4(n,e,t,r){return new r4(n,e,t,r)}async function rA(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((l=>(s=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let m=$e();for(const g of s){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function s4(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,v){const _=g.batch,T=_.keys();let A=se.resolve();return T.forEach((N=>{A=A.next((()=>v.getEntry(m,N))).next((P=>{const k=g.docVersions.get(N);rt(k!==null,48541),P.version.compareTo(k)<0&&(_.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(m,_)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=$e();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function aA(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function o4(n,e){const t=Oe(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const h=[];e.targetChanges.forEach(((v,_)=>{const T=s.get(_);if(!T)return;h.push(t.li.removeMatchingKeys(l,v.removedDocuments,_).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,_))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(On.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),s=s.insert(_,A),(function(P,k,G){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=i4?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(T,A,v)&&h.push(t.li.updateTargetData(l,A))}));let m=aa(),g=$e();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(l4(l,u,e.documentUpdates).next((v=>{m=v.Bs,g=v.Ls}))),!r.isEqual(Ie.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((_=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(v)}return se.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.vs=s,l)))}function l4(n,e,t){let r=$e(),s=$e();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=aa();return t.forEach(((h,m)=>{const g=l.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(h)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):he(Hv,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{Bs:u,Ls:s}}))}function c4(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Dv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function u4(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((l=>l?(s=l,se.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new Ya(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Gg(n,e,t){const r=Oe(n),s=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!wl(u))throw u;he(Hv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function TT(n,e,t){const r=Oe(n);let s=Ie.min(),l=$e();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const _=Oe(m),T=_.Fs.get(v);return T!==void 0?se.resolve(_.vs.get(T)):_.li.getTargetData(g,v)})(r,u,Sr(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Ie.min(),t?l:$e()))).next((h=>(d4(r,Wk(e),h),{documents:h,ks:l})))))}function d4(n,e,t){let r=n.Ms.get(e)||Ie.min();t.forEach(((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}class wT{constructor(){this.activeTargetIds=iM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f4{constructor(){this.vo=new wT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new wT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class h4{Mo(e){}shutdown(){}}const xT="ConnectivityMonitor";class ST{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(xT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(xT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hf=null;function Yg(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}const rg="RestConnection",p4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class m4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Yf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,l){const u=Yg(),h=this.Qo(e,t.toUriEncodedString());he(rg,`Sending RPC '${e}' ${u}:`,h,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,s,l);const{host:g}=new URL(h),v=fs(g);return this.zo(e,h,m,r,v).then((_=>(he(rg,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Ws(rg,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}jo(e,t,r,s,l,u){return this.Wo(e,t,r,s,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),r&&r.headers.forEach(((s,l)=>e[l]=s))}Qo(e,t){const r=p4[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class g4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Un="WebChannelConnection",Oc=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class al extends m4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!al.c_){const e=lS();Oc(e,oS.STAT_EVENT,(t=>{t.stat===kg.PROXY?he(Un,"STAT_EVENT: detected buffering proxy"):t.stat===kg.NOPROXY&&he(Un,"STAT_EVENT: detected no buffering proxy")})),al.c_=!0}}zo(e,t,r,s,l){const u=Yg();return new Promise(((h,m)=>{const g=new aS;g.setWithCredentials(!0),g.listenOnce(sS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Cf.NO_ERROR:const _=g.getResponseJson();he(Un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Cf.TIMEOUT:he(Un,`RPC '${e}' ${u} timed out`),m(new fe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const T=g.getStatus();if(he(Un,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A?.error;if(N&&N.status&&N.message){const P=(function(G){const L=G.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(L)>=0?L:ae.UNKNOWN})(N.status);m(new fe(P,N.message))}else m(new fe(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new fe(ae.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Un,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(s);he(Un,`RPC '${e}' ${u} sending request:`,s),g.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=Yg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=l.join("");he(Un,`Creating RPC '${e}' stream ${s}: ${g}`,h);const v=u.createWebChannel(g,h);this.I_(v);let _=!1,T=!1;const A=new g4({Ho:N=>{T?he(Un,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(_||(he(Un,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),he(Un,`RPC '${e}' stream ${s} sending:`,N),v.send(N))},Jo:()=>v.close()});return Oc(v,Lc.EventType.OPEN,(()=>{T||(he(Un,`RPC '${e}' stream ${s} transport opened.`),A.i_())})),Oc(v,Lc.EventType.CLOSE,(()=>{T||(T=!0,he(Un,`RPC '${e}' stream ${s} transport closed`),A.o_(),this.E_(v))})),Oc(v,Lc.EventType.ERROR,(N=>{T||(T=!0,Ws(Un,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),A.o_(new fe(ae.UNAVAILABLE,"The operation could not be completed")))})),Oc(v,Lc.EventType.MESSAGE,(N=>{if(!T){const P=N.data[0];rt(!!P,16349);const k=P,G=k?.error||k[0]?.error;if(G){he(Un,`RPC '${e}' stream ${s} received error:`,G);const L=G.status;let F=(function(te){const C=rn[te];if(C!==void 0)return GS(C)})(L),Q=G.message;L==="NOT_FOUND"&&Q.includes("database")&&Q.includes("does not exist")&&Q.includes(this.databaseId.database)&&Ws(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),F===void 0&&(F=ae.INTERNAL,Q="Unknown error status: "+L+" with message "+G.message),T=!0,A.o_(new fe(F,Q)),v.close()}else he(Un,`RPC '${e}' stream ${s} received:`,P),A.__(P)}})),al.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cS()}}function v4(n){return new al(n)}function ag(){return typeof document<"u"?document:null}function Oh(n){return new EM(n,!0)}al.c_=!1;class sA{constructor(e,t,r=1e3,s=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const AT="PersistentStream";class oA{constructor(e,t,r,s,l,u,h,m){this.Ci=e,this.b_=r,this.S_=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(ra(t.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new fe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(AT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(he(AT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class y4 extends oA{constructor(e,t,r,s,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=xM(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Ar(u.readTime):Ie.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Hg(this.serializer),t.addTarget=(function(l,u){let h;const m=u.target;if(h=Lg(m)?{documents:RM(l,m)}:{query:CM(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=KS(l,u.resumeToken);const g=Bg(l,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Qf(l,u.snapshotVersion.toTimestamp());const g=Bg(l,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=DM(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Hg(this.serializer),t.removeTarget=e,this.K_(t)}}class _4 extends oA{constructor(e,t,r,s,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AM(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Hg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>SM(this.serializer,r)))};this.K_(t)}}class b4{}class E4 extends b4{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Fg(t,r),s,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ae.UNKNOWN,l.toString())}))}jo(e,t,r,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,Fg(t,r),s,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function T4(n,e,t,r){return new E4(n,e,t,r)}class w4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ra(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Js="RemoteStore";class x4{constructor(e,t,r,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{ro(this)&&(he(Js,"Restarting streams for network reachability change."),await(async function(m){const g=Oe(m);g.Ea.add(4),await Su(g),g.Va.set("Unknown"),g.Ea.delete(4),await Nh(g)})(this))}))})),this.Va=new w4(r,s)}}async function Nh(n){if(ro(n))for(const e of n.Ra)await e(!0)}async function Su(n){for(const e of n.Ra)await e(!1)}function lA(n,e){const t=Oe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Kv(t)?$v(t):Sl(t).O_()&&Yv(t,e))}function Gv(n,e){const t=Oe(n),r=Sl(t);t.Ia.delete(e),r.O_()&&cA(t,e),t.Ia.size===0&&(r.O_()?r.L_():ro(t)&&t.Va.set("Unknown"))}function Yv(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sl(n).Z_(e)}function cA(n,e){n.da.$e(e),Sl(n).X_(e)}function $v(n){n.da=new vM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Sl(n).start(),n.Va.ua()}function Kv(n){return ro(n)&&!Sl(n).x_()&&n.Ia.size>0}function ro(n){return Oe(n).Ea.size===0}function uA(n){n.da=void 0}async function S4(n){n.Va.set("Online")}async function A4(n){n.Ia.forEach(((e,t)=>{Yv(n,e)}))}async function R4(n,e){uA(n),Kv(n)?(n.Va.ha(e),$v(n)):n.Va.set("Unknown")}async function C4(n,e,t){if(n.Va.set("Online"),e instanceof $S&&e.state===2&&e.cause)try{await(async function(s,l){const u=l.cause;for(const h of l.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.da.removeTarget(h))})(n,e)}catch(r){he(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wf(n,r)}else if(e instanceof Nf?n.da.Xe(e):e instanceof YS?n.da.st(e):n.da.tt(e),!t.isEqual(Ie.min()))try{const r=await aA(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(On.EMPTY_BYTE_STRING,v.snapshotVersion)),cA(l,m);const _=new Ya(v.target,m,g,v.sequenceNumber);Yv(l,_)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){he(Js,"Failed to raise snapshot:",r),await Wf(n,r)}}async function Wf(n,e,t){if(!wl(e))throw e;n.Ea.add(1),await Su(n),n.Va.set("Offline"),t||(t=()=>aA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(Js,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Nh(n)}))}function dA(n,e){return e().catch((t=>Wf(n,t,e)))}async function kh(n){const e=Oe(n),t=as(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dv;for(;I4(e);)try{const s=await c4(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,D4(e,s)}catch(s){await Wf(e,s)}fA(e)&&hA(e)}function I4(n){return ro(n)&&n.Ta.length<10}function D4(n,e){n.Ta.push(e);const t=as(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function fA(n){return ro(n)&&!as(n).x_()&&n.Ta.length>0}function hA(n){as(n).start()}async function O4(n){as(n).ra()}async function N4(n){const e=as(n);for(const t of n.Ta)e.ea(t.mutations)}async function k4(n,e,t){const r=n.Ta.shift(),s=Lv.from(r,e,t);await dA(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await kh(n)}async function M4(n,e){e&&as(n).Y_&&await(async function(r,s){if((function(u){return pM(u)&&u!==ae.ABORTED})(s.code)){const l=r.Ta.shift();as(r).B_(),await dA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s))),await kh(r)}})(n,e),fA(n)&&hA(n)}async function RT(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),he(Js,"RemoteStore received new credentials");const r=ro(t);t.Ea.add(3),await Su(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nh(t)}async function P4(n,e){const t=Oe(n);e?(t.Ea.delete(2),await Nh(t)):e||(t.Ea.add(2),await Su(t),t.Va.set("Unknown"))}function Sl(n){return n.ma||(n.ma=(function(t,r,s){const l=Oe(t);return l.sa(),new y4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:S4.bind(null,n),Yo:A4.bind(null,n),t_:R4.bind(null,n),J_:C4.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Kv(n)?$v(n):n.Va.set("Unknown")):(await n.ma.stop(),uA(n))}))),n.ma}function as(n){return n.fa||(n.fa=(function(t,r,s){const l=Oe(t);return l.sa(),new _4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:O4.bind(null,n),t_:M4.bind(null,n),ta:N4.bind(null,n),na:k4.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await kh(n)):(await n.fa.stop(),n.Ta.length>0&&(he(Js,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Qv{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,l){const u=Date.now()+r,h=new Qv(e,t,u,s,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xv(n,e){if(ra("AsyncQueue",`${e}: ${n}`),wl(n))return new fe(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=jc(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class CT{constructor(){this.ga=new kt(we.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class hl{constructor(e,t,r,s,l,u,h,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,s,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new hl(e,t,sl.emptySet(t),u,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class V4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class U4{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Oe(t),l=s.queries;s.queries=IT(),l.forEach(((u,h)=>{for(const m of h.ba)m.onError(r)}))})(this,new fe(ae.ABORTED,"Firestore shutting down"))}}function IT(){return new io((n=>OS(n)),Ah)}async function L4(n,e){const t=Oe(n);let r=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.Da()&&(r=2):(l=new V4,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Xv(u,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Wv(t)}async function j4(n,e){const t=Oe(n),r=e.query;let s=3;const l=t.queries.get(r);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?s=e.Da()?0:1:!l.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function z4(n,e){const t=Oe(n);let r=!1;for(const s of e){const l=s.query,u=t.queries.get(l);if(u){for(const h of u.ba)h.Fa(s)&&(r=!0);u.wa=s}}r&&Wv(t)}function B4(n,e,t){const r=Oe(n),s=r.queries.get(e);if(s)for(const l of s.ba)l.onError(t);r.queries.delete(e)}function Wv(n){n.Ca.forEach((e=>{e.next()}))}var $g,DT;(DT=$g||($g={})).Ma="default",DT.Cache="cache";class F4{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$g.Cache}}class pA{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class q4{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.eu=NS(e),this.tu=new sl(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new CT,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,_)=>{const T=s.get(v),A=Rh(this.query,_)?_:null,N=!!T&&this.mutatedKeys.has(T.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;T&&A?T.data.isEqual(A.data)?N!==P&&(r.track({type:3,doc:A}),k=!0):this.su(T,A)||(r.track({type:2,doc:A}),k=!0,(m&&this.eu(A,m)>0||g&&this.eu(A,g)<0)&&(h=!0)):!T&&A?(r.track({type:0,doc:A}),k=!0):T&&!A&&(r.track({type:1,doc:T}),k=!0,(m||g)&&(h=!0)),k&&(A?(u=u.add(A),l=P?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Ss:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(A,N){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:k})}};return P(A)-P(N)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],m=this.Ya.size===0&&this.current&&!s?1:0,g=m!==this.Xa;return this.Xa=m,u.length!==0||g?{snapshot:new hl(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new mA(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new pA(r))})),t}cu(e){this.Za=e.ks,this.Ya=$e();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jv="SyncEngine";class H4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class G4{constructor(e){this.key=e,this.hu=!1}}class Y4{constructor(e,t,r,s,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new io((h=>OS(h)),Ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new kt(we.comparator),this.Au=new Map,this.Vu=new Bv,this.du={},this.mu=new Map,this.fu=fl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $4(n,e,t=!0){const r=EA(n);let s;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await gA(r,e,t,!0),s}async function K4(n,e){const t=EA(n);await gA(t,e,!0,!1)}async function gA(n,e,t,r){const s=await u4(n.localStore,Sr(e)),l=s.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return r&&(h=await Q4(n,e,l,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&lA(n.remoteStore,s),h}async function Q4(n,e,t,r,s){n.pu=(_,T,A)=>(async function(P,k,G,L){let F=k.view.ru(G);F.Ss&&(F=await TT(P.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,F))));const Q=L&&L.targetChanges.get(k.targetId),ie=L&&L.targetMismatches.get(k.targetId)!=null,te=k.view.applyChanges(F,P.isPrimaryClient,Q,ie);return NT(P,k.targetId,te.au),te.snapshot})(n,_,T,A);const l=await TT(n.localStore,e,!0),u=new q4(e,l.ks),h=u.ru(l.documents),m=xu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),g=u.applyChanges(h,n.isPrimaryClient,m);NT(n,t,g.au);const v=new H4(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function X4(n,e,t){const r=Oe(n),s=r.Tu.get(e),l=r.Iu.get(s.targetId);if(l.length>1)return r.Iu.set(s.targetId,l.filter((u=>!Ah(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Gg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Gv(r.remoteStore,s.targetId),Kg(r,s.targetId)})).catch(Tl)):(Kg(r,s.targetId),await Gg(r.localStore,s.targetId,!0))}async function W4(n,e){const t=Oe(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Gv(t.remoteStore,r.targetId))}async function J4(n,e,t){const r=aP(n);try{const s=await(function(u,h){const m=Oe(u),g=wt.now(),v=h.reduce(((A,N)=>A.add(N.key)),$e());let _,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let N=aa(),P=$e();return m.xs.getEntries(A,v).next((k=>{N=k,N.forEach(((G,L)=>{L.isValidDocument()||(P=P.add(G))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,N))).next((k=>{_=k;const G=[];for(const L of h){const F=cM(L,_.get(L.key).overlayedDocument);F!=null&&G.push(new ps(L.key,F,wS(F.value.mapValue),Yi.exists(!0)))}return m.mutationQueue.addMutationBatch(A,g,G,h)})).next((k=>{T=k;const G=k.applyToLocalDocumentSet(_,P);return m.documentOverlayCache.saveOverlays(A,k.batchId,G)}))})).then((()=>({batchId:T.batchId,changes:MS(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,h,m){let g=u.du[u.currentUser.toKey()];g||(g=new kt(Ye)),g=g.insert(h,m),u.du[u.currentUser.toKey()]=g})(r,s.batchId,t),await Au(r,s.changes),await kh(r.remoteStore)}catch(s){const l=Xv(s,"Failed to persist write");t.reject(l)}}async function vA(n,e){const t=Oe(n);try{const r=await o4(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const u=t.Au.get(l);u&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?rt(u.hu,14607):s.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await Au(t,r,e)}catch(r){await Tl(r)}}function OT(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const m=Oe(u);m.onlineState=h;let g=!1;m.queries.forEach(((v,_)=>{for(const T of _.ba)T.va(h)&&(g=!0)})),g&&Wv(m)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z4(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),l=s&&s.key;if(l){let u=new kt(we.comparator);u=u.insert(l,jn.newNoDocument(l,Ie.min()));const h=$e().add(l),m=new Dh(Ie.min(),new Map,new kt(Ye),u,h);await vA(r,m),r.Ru=r.Ru.remove(l),r.Au.delete(e),Zv(r)}else await Gg(r.localStore,e,!1).then((()=>Kg(r,e,t))).catch(Tl)}async function eP(n,e){const t=Oe(n),r=e.batch.batchId;try{const s=await s4(t.localStore,e);_A(t,r,null),yA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Au(t,s)}catch(s){await Tl(s)}}async function tP(n,e,t){const r=Oe(n);try{const s=await(function(u,h){const m=Oe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,h).next((_=>(rt(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);_A(r,e,t),yA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Au(r,s)}catch(s){await Tl(s)}}function yA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function _A(n,e,t){const r=Oe(n);let s=r.du[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Kg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||bA(n,r)}))}function bA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Gv(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Zv(n))}function NT(n,e,t){for(const r of t)r instanceof pA?(n.Vu.addReference(r.key,e),nP(n,r)):r instanceof mA?(he(Jv,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||bA(n,r.key)):Ae(19791,{wu:r})}function nP(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(he(Jv,"New document in limbo: "+t),n.Eu.add(r),Zv(n))}function Zv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(yt.fromString(e)),r=n.fu.next();n.Au.set(r,new G4(t)),n.Ru=n.Ru.insert(t,r),lA(n.remoteStore,new Ya(Sr(Pv(t.path)),r,"TargetPurposeLimboResolution",wh.ce))}}async function Au(n,e,t){const r=Oe(n),s=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{u.push(r.pu(m,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){s.push(g);const v=qv.Es(m.targetId,g);l.push(v)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(m,g){const v=Oe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>se.forEach(g,(T=>se.forEach(T.Ts,(A=>v.persistence.referenceDelegate.addReference(_,T.targetId,A))).next((()=>se.forEach(T.Is,(A=>v.persistence.referenceDelegate.removeReference(_,T.targetId,A)))))))))}catch(_){if(!wl(_))throw _;he(Hv,"Failed to update sequence numbers: "+_)}for(const _ of g){const T=_.targetId;if(!_.fromCache){const A=v.vs.get(T),N=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(N);v.vs=v.vs.insert(T,P)}}})(r.localStore,l))}async function iP(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){he(Jv,"User change. New user:",e.toKey());const r=await rA(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new fe(ae.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(t,r.Ns)}}function rP(n,e){const t=Oe(n),r=t.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let s=$e();const l=t.Iu.get(e);if(!l)return s;for(const u of l){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function EA(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z4.bind(null,e),e.Pu.J_=z4.bind(null,e.eventManager),e.Pu.yu=B4.bind(null,e.eventManager),e}function aP(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tP.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return a4(this.persistence,new n4,e.initialUser,this.serializer)}Cu(e){return new iA(Fv.Vi,this.serializer)}Du(e){return new f4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class sP extends Jf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){rt(this.persistence.referenceDelegate instanceof Xf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BM(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new iA((r=>Xf.Vi(r,t)),this.serializer)}}class Qg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iP.bind(null,this.syncEngine),await P4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new U4})()}createDatastore(e){const t=Oh(e.databaseInfo.databaseId),r=v4(e.databaseInfo);return T4(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,l,u,h){return new x4(r,s,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>OT(this.syncEngine,t,0)),(function(){return ST.v()?new ST:new h4})())}createSyncEngine(e,t){return(function(s,l,u,h,m,g,v){const _=new Y4(s,l,u,h,m,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Oe(t);he(Js,"RemoteStore shutting down."),r.Ea.add(5),await Su(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qg.provider={build:()=>new Qg};class oP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ss="FirestoreClient";class lP{constructor(e,t,r,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Ln.UNAUTHENTICATED,this.clientId=Iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{he(ss,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(he(ss,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sg(n,e){n.asyncQueue.verifyOperationInProgress(),he(ss,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await rA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function kT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await cP(n);he(ss,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>RT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>RT(e.remoteStore,s))),n._onlineComponents=e}async function cP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(ss,"Using user provided OfflineComponentProvider");try{await sg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ws("Error using user provided cache. Falling back to memory cache: "+t),await sg(n,new Jf)}}else he(ss,"Using default OfflineComponentProvider"),await sg(n,new sP(void 0));return n._offlineComponents}async function TA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(ss,"Using user provided OnlineComponentProvider"),await kT(n,n._uninitializedComponentsProvider._online)):(he(ss,"Using default OnlineComponentProvider"),await kT(n,new Qg))),n._onlineComponents}function uP(n){return TA(n).then((e=>e.syncEngine))}async function MT(n){const e=await TA(n),t=e.eventManager;return t.onListen=$4.bind(null,e.syncEngine),t.onUnlisten=X4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=K4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=W4.bind(null,e.syncEngine),t}function dP(n,e,t,r){const s=new oP(r),l=new F4(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>L4(await MT(n),l))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>j4(await MT(n),l)))}}function fP(n,e){const t=new Hs;return n.asyncQueue.enqueueAndForget((async()=>J4(await uP(n),e,t))),t.promise}function wA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const hP="ComponentProvider",PT=new Map;function pP(n,e,t,r,s){return new Nk(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,wA(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const xA="firestore.googleapis.com",VT=!0;class UT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xA,this.ssl=VT}else this.host=e.host,this.ssl=e.ssl??VT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jM)throw new fe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ek("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dk;switch(r.type){case"firstParty":return new mk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=PT.get(t);r&&(he(hP,"Removing Datastore"),PT.delete(t),r.terminate())})(this),Promise.resolve()}}function mP(n,e,t,r={}){n=Wa(n,Mh);const s=fs(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(gv(`https://${h}`),vv("Firestore",!0)),l.host!==xA&&l.host!==h&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:s,emulatorOptions:r};if(!$s(m,u)&&(n._setSettings(m),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Ln.MOCK_USER;else{g=bx(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new fe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ln(_)}n._authCredentials=new fk(new dS(g,v))}}class ao{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class on{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Tu(t,on._jsonSchema))return new on(e,r||null,new we(yt.fromString(t.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:sn("string",on._jsonSchemaVersion),referencePath:sn("string")};class Ja extends ao{constructor(e,t,r){super(e,t,Pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new we(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function SA(n,e,...t){if(n=Gt(n),fS("collection","path",e),n instanceof Mh){const r=yt.fromString(e,...t);return Q0(r),new Ja(n,null,r)}{if(!(n instanceof on||n instanceof Ja))throw new fe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return Q0(r),new Ja(n.firestore,null,r)}}function pl(n,e,...t){if(n=Gt(n),arguments.length===1&&(e=Iv.newId()),fS("doc","path",e),n instanceof Mh){const r=yt.fromString(e,...t);return K0(r),new on(n,null,new we(r))}{if(!(n instanceof on||n instanceof Ja))throw new fe(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return K0(r),new on(n.firestore,n instanceof Ja?n.converter:null,new we(r))}}const LT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sA(this,"async_queue_retry"),this._c=()=>{const r=ag();r&&he(LT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ag();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ag();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;he(LT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ra("INTERNAL UNHANDLED ERROR: ",zT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Qv.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Ae(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ml extends Mh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new jT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function gP(n,e){const t=typeof n=="object"?n:bv(),r=typeof n=="string"?n:Yf,s=vh(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=vx("firestore");l&&mP(s,...l)}return s}function AA(n){if(n._terminated)throw new fe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vP(n),n._firestoreClient}function vP(n){const e=n._freezeSettings(),t=pP(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new lP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(n._componentsProvider))}class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(On.fromBase64String(e))}catch(t){throw new fe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mi(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Mi._jsonSchema))return Mi.fromBase64String(e.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:sn("string",Mi._jsonSchemaVersion),bytes:sn("string")};class ey{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ru{constructor(e){this._methodName=e}}class Rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:sn("string",Rr._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};class $i{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $i(e.vectorValues);throw new fe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:sn("string",$i._jsonSchemaVersion),vectorValues:sn("object")};const yP=/^__.*__$/;class _P{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class RA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:n})}}class ty{constructor(e,t,r,s,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(CA(this.dataSource)&&yP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class bP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Oh(e)}createContext(e,t,r,s=!1){return new ty({dataSource:e,methodName:t,targetDoc:r,path:Dn.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(n){const e=n._freezeSettings(),t=Oh(n._databaseId);return new bP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EP(n,e,t,r,s,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,s);ay("Data must be an object, but it was:",u,r);const h=IA(r,u);let m,g;if(l.merge)m=new yi(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const T=Zs(e,_,t);if(!u.contains(T))throw new fe(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);NA(v,T)||v.push(T)}m=new yi(v),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new _P(new ai(h),m,g)}class Ph extends Ru{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}class iy extends Ru{_toFieldTransform(e){return new FS(e.path,new su)}isEqual(e){return e instanceof iy}}class ry extends Ru{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new cu(e.serializer,US(e.serializer,this.Vc));return new FS(e.path,t)}isEqual(e){return e instanceof ry&&this.Vc===e.Vc}}function TP(n,e,t,r){const s=n.createContext(1,e,t);ay("Data must be an object, but it was:",s,r);const l=[],u=ai.empty();hs(r,((m,g)=>{const v=OA(e,m,t);g=Gt(g);const _=s.childContextForFieldPath(v);if(g instanceof Ph)l.push(v);else{const T=Cu(g,_);T!=null&&(l.push(v),u.set(v,T))}}));const h=new yi(l);return new RA(u,h,s.fieldTransforms)}function wP(n,e,t,r,s,l){const u=n.createContext(1,e,t),h=[Zs(e,r,t)],m=[s];if(l.length%2!=0)throw new fe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(Zs(e,l[T])),m.push(l[T+1]);const g=[],v=ai.empty();for(let T=h.length-1;T>=0;--T)if(!NA(g,h[T])){const A=h[T];let N=m[T];N=Gt(N);const P=u.childContextForFieldPath(A);if(N instanceof Ph)g.push(A);else{const k=Cu(N,P);k!=null&&(g.push(A),v.set(A,k))}}const _=new yi(g);return new RA(v,_,u.fieldTransforms)}function xP(n,e,t,r=!1){return Cu(t,n.createContext(r?4:3,e))}function Cu(n,e){if(DA(n=Gt(n)))return ay("Unsupported field value:",e,n),IA(n,e);if(n instanceof Ru)return(function(r,s){if(!CA(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const l=[];let u=0;for(const h of r){let m=Cu(h,s.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,s){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return US(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=wt.fromDate(r);return{timestampValue:Qf(s.serializer,l)}}if(r instanceof wt){const l=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qf(s.serializer,l)}}if(r instanceof Rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:KS(s.serializer,r._byteString)};if(r instanceof on){const l=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $i)return(function(u,h){const m=u instanceof $i?u.toArray():u;return{mapValue:{fields:{[ES]:{stringValue:TS},[$f]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return Vv(h.serializer,v)}))}}}}}})(r,s);if(tA(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Th(r)}`)})(n,e)}function IA(n,e){const t={};return mS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(n,((r,s)=>{const l=Cu(s,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function DA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Rr||n instanceof Mi||n instanceof on||n instanceof Ru||n instanceof $i||tA(n))}function ay(n,e,t){if(!DA(t)||!hS(t)){const r=Th(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Zs(n,e,t){if((e=Gt(e))instanceof ey)return e._internalPath;if(typeof e=="string")return OA(n,e);throw Zf("Field path arguments must be of type string or ",n,!1,void 0,t)}const SP=new RegExp("[~\\*/\\[\\]]");function OA(n,e,t){if(e.search(SP)>=0)throw Zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ey(...e.split("."))._internalPath}catch{throw Zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zf(n,e,t,r,s){const l=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${s}`),m+=")"),new fe(ae.INVALID_ARGUMENT,h+n+m)}function NA(n,e){return n.some((t=>t.isEqual(e)))}class AP{convertValue(e,t="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return hs(e,((s,l)=>{r[s]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[$f].arrayValue?.values?.map((r=>Ht(r.doubleValue)));return new $i(t)}convertGeoPoint(e){return new Rr(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const t=ns(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yt.fromString(e);rt(eA(r),9688,{name:e});const s=new iu(r.get(1),r.get(3)),l=new we(r.popFirst(5));return s.isEqual(t)||ra(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class kA extends AP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function eh(){return new iy("serverTimestamp")}function MA(n){return new ry("increment",n)}const BT="@firebase/firestore",FT="4.11.0";function qT(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of r)if(l in s&&typeof s[l]=="function")return!0;return!1})(n,["next","error","complete"])}class PA{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Zs("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RP extends PA{data(){return super.data()}}function CP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sy{}class VA extends sy{}function UA(n,e,...t){let r=[];e instanceof sy&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((m=>m instanceof oy)).length,h=l.filter((m=>m instanceof Vh)).length;if(u>1||u>0&&h>0)throw new fe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Vh extends VA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vh(e,t,r)}_apply(e){const t=this._parse(e);return jA(e._query,t),new ao(e.firestore,e.converter,jg(e._query,t))}_parse(e){const t=ny(e.firestore);return(function(l,u,h,m,g,v,_){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){GT(_,v);const N=[];for(const P of _)N.push(HT(m,l,P));T={arrayValue:{values:N}}}else T=HT(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||GT(_,v),T=xP(h,u,_,v==="in"||v==="not-in");return an.create(g,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function IP(n,e,t){const r=e,s=Zs("where",n);return Vh._create(s,r,t)}class oy extends sy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new oy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Qi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let u=s;const h=l.getFlattenedFilters();for(const m of h)jA(u,m),u=jg(u,m)})(e._query,t),new ao(e.firestore,e.converter,jg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ly extends VA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ly(e,t)}_apply(e){const t=(function(s,l,u){if(s.startAt!==null)throw new fe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(l,u)})(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,Xk(e._query,t))}}function LA(n,e="asc"){const t=e,r=Zs("orderBy",n);return ly._create(r,t)}function HT(n,e,t){if(typeof(t=Gt(t))=="string"){if(t==="")throw new fe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DS(e)&&t.indexOf("/")!==-1)throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yt.fromString(t));if(!we.isDocumentKey(r))throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iT(n,new we(r))}if(t instanceof on)return iT(n,t._key);throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(t)}.`)}function GT(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jA(n,e){const t=(function(s,l){for(const u of s)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function DP(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Bc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends PA{constructor(e,t,r,s,l,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Zs("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:sn("string",Gs._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class kf extends Gs{data(e={}){return super.data(e)}}class ol{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Bc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new kf(this._firestore,this._userDataWriter,r.key,r,new Bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const m=new kf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Bc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new kf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Bc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:OP(h.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Iv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:sn("string",ol._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};function cy(n,e,t,...r){n=Wa(n,on);const s=Wa(n.firestore,ml),l=ny(s);let u;return u=typeof(e=Gt(e))=="string"||e instanceof ey?wP(l,"updateDoc",n._key,e,t,r):TP(l,"updateDoc",n._key,e),uy(s,[u.toMutation(n._key,Yi.exists(!0))])}function zA(n){return uy(Wa(n.firestore,ml),[new Uv(n._key,Yi.none())])}function BA(n,e){const t=Wa(n.firestore,ml),r=pl(n),s=DP(n.converter,e),l=ny(n.firestore);return uy(t,[EP(l,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Yi.exists(!1))]).then((()=>r))}function FA(n,...e){n=Gt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qT(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(qT(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let l,u,h;if(n instanceof on)u=Wa(n.firestore,ml),h=Pv(n._key.path),l={next:g=>{e[r]&&e[r](NP(u,n,g))},error:e[r+1],complete:e[r+2]};else{const g=Wa(n,ao);u=Wa(g.firestore,ml),h=g._query;const v=new kA(u);l={next:_=>{e[r]&&e[r](new ol(u,v,g,_))},error:e[r+1],complete:e[r+2]},CP(n._query)}const m=AA(u);return dP(m,h,s,l)}function uy(n,e){const t=AA(n);return fP(t,e)}function NP(n,e,t){const r=t.docs.get(e._key),s=new kA(n);return new Gs(n,s,e._key,r,new Bc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){uk(no),Ks(new Za("firestore",((r,{instanceIdentifier:s,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new ml(new hk(r.getProvider("auth-internal")),new gk(u,r.getProvider("app-check-internal")),kk(u,s),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Tr(BT,FT,e),Tr(BT,FT,"esm2020")})();const qA="firebasestorage.googleapis.com",HA="storageBucket",kP=120*1e3,MP=600*1e3,PP=1e3;class Mt extends Ir{constructor(e,t,r=0){super(og(e),`Firebase Storage: ${t} (${og(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function og(n){return"storage/"+n}function dy(){const n="An unknown error occurred, please check the error payload for server response.";return new Mt(xt.UNKNOWN,n)}function VP(n){return new Mt(xt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function UP(n){return new Mt(xt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(xt.UNAUTHENTICATED,n)}function jP(){return new Mt(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zP(n){return new Mt(xt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function GA(){return new Mt(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YA(){return new Mt(xt.CANCELED,"User canceled the upload/download.")}function BP(n){return new Mt(xt.INVALID_URL,"Invalid URL '"+n+"'.")}function FP(n){return new Mt(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function qP(){return new Mt(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HA+"' property when initializing the app?")}function $A(){return new Mt(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HP(){return new Mt(xt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function GP(){return new Mt(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YP(n){return new Mt(xt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xg(n){return new Mt(xt.INVALID_ARGUMENT,n)}function KA(){return new Mt(xt.APP_DELETED,"The Firebase app was deleted.")}function $P(n){return new Mt(xt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kc(n,e){return new Mt(xt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Nc(n){throw new Mt(xt.INTERNAL_ERROR,"Internal error: "+n)}class _i{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=_i.makeFromUrl(e,t)}catch{return new _i(e,"")}if(r.path==="")return r;throw FP(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function l(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),m={bucket:1,path:3};function g(Q){Q.path_=decodeURIComponent(Q.path)}const v="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${v}/b/${s}/o${T}`,"i"),N={bucket:1,path:3},P=t===qA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",G=new RegExp(`^https?://${P}/${s}/${k}`,"i"),F=[{regex:h,indices:m,postModify:l},{regex:A,indices:N,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let Q=0;Q<F.length;Q++){const ie=F[Q],te=ie.regex.exec(e);if(te){const C=te[ie.indices.bucket];let S=te[ie.indices.path];S||(S=""),r=new _i(C,S),ie.postModify(r);break}}if(r==null)throw BP(e);return r}}class KP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function QP(n,e,t){let r=1,s=null,l=null,u=!1,h=0;function m(){return h===2}let g=!1;function v(...k){g||(g=!0,e.apply(null,k))}function _(k){s=setTimeout(()=>{s=null,n(A,m())},k)}function T(){l&&clearTimeout(l)}function A(k,...G){if(g){T();return}if(k){T(),v.call(null,k,...G);return}if(m()||u){T(),v.call(null,k,...G);return}r<64&&(r*=2);let F;h===1?(h=2,F=0):F=(r+Math.random())*1e3,_(F)}let N=!1;function P(k){N||(N=!0,T(),!g&&(s!==null?(k||(h=2),clearTimeout(s),_(0)):k||(h=1)))}return _(0),l=setTimeout(()=>{u=!0,P(!0)},t),P}function XP(n){n(!1)}function WP(n){return n!==void 0}function JP(n){return typeof n=="function"}function ZP(n){return typeof n=="object"&&!Array.isArray(n)}function Uh(n){return typeof n=="string"||n instanceof String}function YT(n){return fy()&&n instanceof Blob}function fy(){return typeof Blob<"u"}function $T(n,e,t,r){if(r<e)throw Xg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Xg(`Invalid value for '${n}'. Expected ${t} or less.`)}function Iu(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function QA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Ys;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ys||(Ys={}));function XA(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}class eV{constructor(e,t,r,s,l,u,h,m,g,v,_,T=!0,A=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=_,this.retry=T,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,P)=>{this.resolve_=N,this.reject_=P,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new pf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const m=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Ys.NO_ERROR,m=l.getStatus();if(!h||XA(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ys.ABORT;r(!1,new pf(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;r(!0,new pf(g,l))})},t=(r,s)=>{const l=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());WP(m)?l(m):l()}catch(m){u(m)}else if(h!==null){const m=dy();m.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,m)):u(m)}else if(s.canceled){const m=this.appDelete_?KA():YA();u(m)}else{const m=GA();u(m)}};this.canceled_?t(!1,new pf(!1,null,!0)):this.backoffId_=QP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function tV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function nV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iV(n,e){e&&(n["X-Firebase-GMPID"]=e)}function rV(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function aV(n,e,t,r,s,l,u=!0,h=!1){const m=QA(n.urlParams),g=n.url+m,v=Object.assign({},n.headers);return iV(v,e),tV(v,t),nV(v,l),rV(v,r),new eV(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,h)}function sV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oV(...n){const e=sV();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(fy())return new Blob(n);throw new Mt(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function cV(n){if(typeof atob>"u")throw YP("base-64");return atob(n)}const Er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lg{constructor(e,t){this.data=e,this.contentType=t||null}}function uV(n,e){switch(n){case Er.RAW:return new lg(WA(e));case Er.BASE64:case Er.BASE64URL:return new lg(JA(n,e));case Er.DATA_URL:return new lg(fV(e),hV(e))}throw dy()}function WA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,u=n.charCodeAt(++t);r=65536|(l&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dV(n){let e;try{e=decodeURIComponent(n)}catch{throw Kc(Er.DATA_URL,"Malformed data URL.")}return WA(e)}function JA(n,e){switch(n){case Er.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw Kc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Er.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw Kc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=cV(e)}catch(s){throw s.message.includes("polyfill")?s:Kc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class ZA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Kc(Er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=pV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function fV(n){const e=new ZA(n);return e.base64?JA(Er.BASE64,e.rest):dV(e.rest)}function hV(n){return new ZA(n).contentType}function pV(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ga{constructor(e,t){let r=0,s="";YT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(YT(this.data_)){const r=this.data_,s=lV(r,e,t);return s===null?null:new Ga(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ga(r,!0)}}static getBlob(...e){if(fy()){const t=e.map(r=>r instanceof Ga?r.data_:r);return new Ga(oV.apply(null,t))}else{const t=e.map(u=>Uh(u)?uV(Er.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let l=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)s[l++]=u[h]}),new Ga(s,!0)}}uploadData(){return this.data_}}function e1(n){let e;try{e=JSON.parse(n)}catch{return null}return ZP(e)?e:null}function mV(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function gV(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function t1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function vV(n,e){return e}class Yn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||vV}}let mf=null;function yV(n){return!Uh(n)||n.length<2?n:t1(n)}function n1(){if(mf)return mf;const n=[];n.push(new Yn("bucket")),n.push(new Yn("generation")),n.push(new Yn("metageneration")),n.push(new Yn("name","fullPath",!0));function e(l,u){return yV(u)}const t=new Yn("name");t.xform=e,n.push(t);function r(l,u){return u!==void 0?Number(u):u}const s=new Yn("size");return s.xform=r,n.push(s),n.push(new Yn("timeCreated")),n.push(new Yn("updated")),n.push(new Yn("md5Hash",null,!0)),n.push(new Yn("cacheControl",null,!0)),n.push(new Yn("contentDisposition",null,!0)),n.push(new Yn("contentEncoding",null,!0)),n.push(new Yn("contentLanguage",null,!0)),n.push(new Yn("contentType",null,!0)),n.push(new Yn("metadata","customMetadata",!0)),mf=n,mf}function _V(n,e){function t(){const r=n.bucket,s=n.fullPath,l=new _i(r,s);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function bV(n,e,t){const r={};r.type="file";const s=t.length;for(let l=0;l<s;l++){const u=t[l];r[u.local]=u.xform(r,e[u.server])}return _V(r,n),r}function i1(n,e,t){const r=e1(e);return r===null?null:bV(n,r,t)}function EV(n,e,t,r){const s=e1(e);if(s===null||!Uh(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=n.bucket,_=n.fullPath,T="/b/"+u(v)+"/o/"+u(_),A=Iu(T,t,r),N=QA({alt:"media",token:g});return A+N})[0]}function r1(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Al{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zr(n){if(!n)throw dy()}function hy(n,e){function t(r,s){const l=i1(n,s,e);return Zr(l!==null),l}return t}function TV(n,e){function t(r,s){const l=i1(n,s,e);return Zr(l!==null),EV(l,s,n.host,n._protocol)}return t}function Du(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=jP():s=LP():t.getStatus()===402?s=UP(n.bucket):t.getStatus()===403?s=zP(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function a1(n){const e=Du(n);function t(r,s){let l=e(r,s);return r.getStatus()===404&&(l=VP(n.path)),l.serverResponse=s.serverResponse,l}return t}function wV(n,e,t){const r=e.fullServerUrl(),s=Iu(r,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,h=new Al(s,l,hy(n,t),u);return h.errorHandler=a1(e),h}function xV(n,e,t){const r=e.fullServerUrl(),s=Iu(r,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,h=new Al(s,l,TV(n,t),u);return h.errorHandler=a1(e),h}function SV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function s1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=SV(null,e)),r}function AV(n,e,t,r,s){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let F="";for(let Q=0;Q<2;Q++)F=F+Math.random().toString().slice(2);return F}const m=h();u["Content-Type"]="multipart/related; boundary="+m;const g=s1(e,r,s),v=r1(g,t),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+m+"--",A=Ga.getBlob(_,r,T);if(A===null)throw $A();const N={name:g.fullPath},P=Iu(l,n.host,n._protocol),k="POST",G=n.maxUploadRetryTime,L=new Al(P,k,hy(n,t),G);return L.urlParams=N,L.headers=u,L.body=A.uploadData(),L.errorHandler=Du(e),L}class th{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function py(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Zr(!1)}return Zr(!!t&&(e||["active"]).indexOf(t)!==-1),t}function RV(n,e,t,r,s){const l=e.bucketOnlyServerUrl(),u=s1(e,r,s),h={name:u.fullPath},m=Iu(l,n.host,n._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},_=r1(u,t),T=n.maxUploadRetryTime;function A(P){py(P);let k;try{k=P.getResponseHeader("X-Goog-Upload-URL")}catch{Zr(!1)}return Zr(Uh(k)),k}const N=new Al(m,g,A,T);return N.urlParams=h,N.headers=v,N.body=_,N.errorHandler=Du(e),N}function CV(n,e,t,r){const s={"X-Goog-Upload-Command":"query"};function l(g){const v=py(g,["active","final"]);let _=null;try{_=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zr(!1)}_||Zr(!1);const T=Number(_);return Zr(!isNaN(T)),new th(T,r.size(),v==="final")}const u="POST",h=n.maxUploadRetryTime,m=new Al(t,u,l,h);return m.headers=s,m.errorHandler=Du(e),m}const KT=256*1024;function IV(n,e,t,r,s,l,u,h){const m=new th(0,0);if(u?(m.current=u.current,m.total=u.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw HP();const g=m.total-m.current;let v=g;s>0&&(v=Math.min(v,s));const _=m.current,T=_+v;let A="";v===0?A="finalize":g===v?A="upload, finalize":A="upload";const N={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${m.current}`},P=r.slice(_,T);if(P===null)throw $A();function k(Q,ie){const te=py(Q,["active","final"]),C=m.current+v,S=r.size();let I;return te==="final"?I=hy(e,l)(Q,ie):I=null,new th(C,S,te==="final",I)}const G="POST",L=e.maxUploadRetryTime,F=new Al(t,G,k,L);return F.headers=N,F.body=P.uploadData(),F.progressCallback=h||null,F.errorHandler=Du(n),F}const ri={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cg(n){switch(n){case"running":case"pausing":case"canceling":return ri.RUNNING;case"paused":return ri.PAUSED;case"success":return ri.SUCCESS;case"canceled":return ri.CANCELED;case"error":return ri.ERROR;default:return ri.ERROR}}class DV{constructor(e,t,r){if(JP(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Ko(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class OV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,l){if(this.sent_)throw Nc("cannot .send() more than once");if(fs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class NV extends OV{initXhr(){this.xhr_.responseType="text"}}function el(){return new NV}class kV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=n1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(xt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(XA(s.status,[]))if(l)s=GA();else{this.sleepTime=Math.max(this.sleepTime*2,PP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(xt.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,l)=>{this._resolve=s,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=RV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,el,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=CV(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(s,el,t,r);this._request=l,l.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=KT*this._chunkMultiplier,t=new th(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,l)=>{let u;try{u=IV(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const h=this._ref.storage._makeRequest(u,el,s,l,!1);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){KT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=wV(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,el,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=AV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,el,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=YA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=cg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const l=new DV(t||void 0,r||void 0,s||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(cg(this._state)){case ri.SUCCESS:Ko(this._resolve.bind(null,this.snapshot))();break;case ri.CANCELED:case ri.ERROR:const t=this._reject;Ko(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(cg(this._state)){case ri.RUNNING:case ri.PAUSED:e.next&&Ko(e.next.bind(e,this.snapshot))();break;case ri.SUCCESS:e.complete&&Ko(e.complete.bind(e))();break;case ri.CANCELED:case ri.ERROR:e.error&&Ko(e.error.bind(e,this._error))();break;default:e.error&&Ko(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class eo{constructor(e,t){this._service=e,t instanceof _i?this._location=t:this._location=_i.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new eo(e,t)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return t1(this._location.path)}get storage(){return this._service}get parent(){const e=mV(this._location.path);if(e===null)return null;const t=new _i(this._location.bucket,e);return new eo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $P(e)}}function MV(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new kV(n,new Ga(e),t)}function PV(n){n._throwIfRoot("getDownloadURL");const e=xV(n.storage,n._location,n1());return n.storage.makeRequestWithTokens(e,el).then(t=>{if(t===null)throw GP();return t})}function VV(n,e){const t=gV(n._location.path,e),r=new _i(n._location.bucket,t);return new eo(n.storage,r)}function UV(n){return/^[A-Za-z]+:\/\//.test(n)}function LV(n,e){return new eo(n,e)}function o1(n,e){if(n instanceof my){const t=n;if(t._bucket==null)throw qP();const r=new eo(t,t._bucket);return e!=null?o1(r,e):r}else return e!==void 0?VV(n,e):n}function jV(n,e){if(e&&UV(e)){if(n instanceof my)return LV(n,e);throw Xg("To use ref(service, url), the first argument must be a Storage instance.")}else return o1(n,e)}function QT(n,e){const t=e?.[HA];return t==null?null:_i.makeFromBucketSpec(t,n)}function zV(n,e,t,r={}){n.host=`${e}:${t}`;const s=fs(e);s&&(gv(`https://${n.host}/b`),vv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:bx(l,n.app.options.projectId))}class my{constructor(e,t,r,s,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=qA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kP,this._maxUploadRetryTime=MP,this._requests=new Set,s!=null?this._bucket=_i.makeFromBucketSpec(s,this._host):this._bucket=QT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=QT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new eo(this,e)}_makeRequest(e,t,r,s,l=!0){if(this._deleted)return new KP(KA());{const u=aV(e,this._appId,r,s,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const XT="@firebase/storage",WT="0.14.0";const l1="storage";function BV(n,e,t){return n=Gt(n),MV(n,e,t)}function FV(n){return n=Gt(n),PV(n)}function qV(n,e){return n=Gt(n),jV(n,e)}function HV(n=bv(),e){n=Gt(n);const r=vh(n,l1).getImmediate({identifier:e}),s=vx("storage");return s&&GV(r,...s),r}function GV(n,e,t,r={}){zV(n,e,t,r)}function YV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new my(t,r,s,e,no)}function $V(){Ks(new Za(l1,YV,"PUBLIC").setMultipleInstances(!0)),Tr(XT,WT,""),Tr(XT,WT,"esm2020")}$V();const KV={BASE_URL:"/Plandala_dev/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBRkUpfiFe6fsG_cA7I8Hzlbucn-Nc68Xo",VITE_FIREBASE_APP_ID:"1:315657655137:web:422eae8e3ea2b8c4062b20",VITE_FIREBASE_AUTH_DOMAIN:"plandala-dev.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"315657655137",VITE_FIREBASE_PROJECT_ID:"plandala-dev",VITE_FIREBASE_STORAGE_BUCKET:"plandala-dev.firebasestorage.app"},QV={apiKey:"AIzaSyBRkUpfiFe6fsG_cA7I8Hzlbucn-Nc68Xo",authDomain:"plandala-dev.firebaseapp.com",projectId:"plandala-dev",storageBucket:"plandala-dev.firebasestorage.app",messagingSenderId:"315657655137",appId:"1:315657655137:web:422eae8e3ea2b8c4062b20"},XV=()=>{const e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(t=>!KV[t]);return e.length>0?{valid:!1,error:`Missing Firebase environment variables: ${e.join(", ")}`}:{valid:!0}};let gf,os,Wg,Jg,Mf=null,gl=!1;const JT=XV();if(!JT.valid)Mf=JT.error,console.error("Firebase configuration error:",Mf);else try{gf=wx(QV),os=gP(gf),Wg=HV(gf),Jg=sk(gf),gl=!0,console.log("Firebase initialized successfully")}catch(n){Mf=n.message,console.error("Error initializing Firebase:",n)}const c1=()=>Mf,u1=x.createContext(),WV=()=>{const n=x.useContext(u1);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},JV=({children:n})=>{const[e,t]=x.useState(null),[r,s]=x.useState(!0),[l,u]=x.useState(null);x.useEffect(()=>{if(!gl){u("Firebase not configured"),s(!1);return}const m=QO(Jg,g=>{t(g),s(!1)},g=>{console.error("Auth state change error:",g),u(g.message),s(!1)});return qO(Jg).catch(g=>{console.error("Anonymous sign-in error:",g),u(g.message),s(!1)}),()=>m()},[]);const h={user:e,loading:r,error:l,isAuthenticated:!!e};return D.jsx(u1.Provider,{value:h,children:n})},d1=x.createContext(),Rl=()=>{const n=x.useContext(d1);if(!n)throw new Error("useUser must be used within UserProvider");return n},ZV=({children:n})=>{const[e,t]=x.useState(()=>localStorage.getItem("plandala_user_name")||null),[r,s]=x.useState(!1);x.useEffect(()=>{e||s(!0)},[e]);const m={userName:e,saveUserName:g=>{if(g&&g.trim()){const v=g.trim();t(v),localStorage.setItem("plandala_user_name",v),s(!1)}},clearUserName:()=>{t(null),localStorage.removeItem("plandala_user_name"),s(!0)},requestNameChange:()=>{s(!0)},showPrompt:r,setShowPrompt:s};return D.jsx(d1.Provider,{value:m,children:n})},f1=SA(os,"tasks"),h1=SA(os,"comments"),eU=async n=>{try{return(await BA(f1,{...n,createdAt:eh(),updatedAt:eh(),metadata:{commentCount:0,imageCount:n.imageUrls?.length||0}})).id}catch(e){throw console.error("Error creating task:",e),e}},ug=async(n,e)=>{try{const t=pl(os,"tasks",n);await cy(t,{...e,updatedAt:eh()})}catch(t){throw console.error("Error updating task:",t),t}},tU=async n=>{try{const e=pl(os,"tasks",n);await zA(e)}catch(e){throw console.error("Error deleting task:",e),e}},nU=async n=>{try{const e=await BA(h1,{...n,createdAt:eh()}),t=pl(os,"tasks",n.taskId);return await cy(t,{"metadata.commentCount":MA(1)}),e.id}catch(e){throw console.error("Error creating comment:",e),e}},iU=async(n,e)=>{try{const t=pl(os,"comments",n);await zA(t);const r=pl(os,"tasks",e);await cy(r,{"metadata.commentCount":MA(-1)})}catch(t){throw console.error("Error deleting comment:",t),t}},rU=(n,e)=>{const t=UA(f1,LA("order","asc"));return FA(t,r=>{const s=r.docs.map(l=>({id:l.id,...l.data()}));n(s)},r=>{console.error("Error in tasks subscription:",r),e&&e(r)})},aU=(n,e,t)=>{const r=UA(h1,IP("taskId","==",n),LA("createdAt","asc"));return FA(r,s=>{const l=s.docs.map(u=>({id:u.id,...u.data()}));e(l)},s=>{console.error("Error in comments subscription:",s),t&&t(s)})},p1=x.createContext(),gy=()=>{const n=x.useContext(p1);if(!n)throw new Error("useTaskContext must be used within TaskProvider");return n},sU=({children:n})=>{const[e,t]=x.useState([]),[r,s]=x.useState(!0),[l,u]=x.useState(null);x.useEffect(()=>{const T=rU(A=>{t(A),s(!1)},A=>{console.error("Error subscribing to tasks:",A),u(A),s(!1)});return()=>{T&&T()}},[]);const _={tasks:e,loading:r,error:l,getTasksByPage:T=>e.filter(A=>A.page===T),getTasksByStatus:T=>e.filter(A=>A.status===T),getTasksByPageAndStatus:(T,A)=>e.filter(N=>N.page===T&&N.status===A),getTaskById:T=>e.find(A=>A.id===T)};return D.jsx(p1.Provider,{value:_,children:n})};const m1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const oU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lU=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const ZT=n=>{const e=lU(n);return e.charAt(0).toUpperCase()+e.slice(1)};var cU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uU=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const dU=x.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:u,...h},m)=>x.createElement("svg",{ref:m,...cU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:m1("lucide",s),...!l&&!uU(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,v])=>x.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Nn=(n,e)=>{const t=x.forwardRef(({className:r,...s},l)=>x.createElement(dU,{ref:l,iconNode:e,className:m1(`lucide-${oU(ZT(n))}`,`lucide-${n}`,r),...s}));return t.displayName=ZT(n),t};const fU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hU=Nn("circle-check",fU);const pU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],mU=Nn("grip-vertical",pU);const gU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vU=Nn("image",gU);const yU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_U=Nn("loader-circle",yU);const bU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],EU=Nn("message-square",bU);const TU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],wU=Nn("moon",TU);const xU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],SU=Nn("pen",xU);const AU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],RU=Nn("plus",AU);const CU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IU=Nn("save",CU);const DU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],OU=Nn("send",DU);const NU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],kU=Nn("square-kanban",NU);const MU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],PU=Nn("sun",MU);const VU=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],UU=Nn("test-tube",VU);const LU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],g1=Nn("trash-2",LU);const jU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zU=Nn("upload",jU);const BU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],v1=Nn("user",BU);const FU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ou=Nn("x",FU),qU=()=>{const{showPrompt:n,saveUserName:e,setShowPrompt:t,userName:r}=Rl(),[s,l]=x.useState(r||""),[u,h]=x.useState("");x.useEffect(()=>{r&&l(r)},[r]);const m=v=>{if(v.preventDefault(),!s.trim()){h("Please enter your name");return}e(s),h("")},g=()=>{r&&t(!1)};return n?D.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:D.jsxs("div",{className:"glass-card p-8 max-w-md w-full mx-4 relative",children:[r&&D.jsx("button",{onClick:g,className:"absolute top-4 right-4 text-plandala-muted hover:text-plandala-text transition-colors",children:D.jsx(Ou,{size:20})}),D.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:"Welcome to Plandala"}),D.jsx("p",{className:"text-plandala-muted mb-6",children:r?"Update your name":"Please enter your name to get started"}),D.jsxs("form",{onSubmit:m,children:[D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{htmlFor:"userName",className:"block text-sm font-medium text-plandala-text mb-2",children:"Your Name"}),D.jsx("input",{type:"text",id:"userName",value:s,onChange:v=>{l(v.target.value),h("")},placeholder:"Enter your name",className:"w-full px-4 py-3 rounded-lg bg-plandala-surface border border-plandala-border text-plandala-text placeholder-plandala-muted focus:outline-none focus:border-plandala-cyan-400 transition-colors",autoFocus:!0}),u&&D.jsx("p",{className:"mt-2 text-sm text-red-400",children:u})]}),D.jsx("button",{type:"submit",className:"w-full px-6 py-3 rounded-lg bg-gradient-to-r from-plandala-cyan-400 to-plandala-magenta-500 text-white font-medium hover:glow-cyan transition-all",children:r?"Update Name":"Get Started"})]})]})}):null};function HU(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return x.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Lh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cl(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function vy(n){return"nodeType"in n}function $n(n){var e,t;return n?Cl(n)?n:vy(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function yy(n){const{Document:e}=$n(n);return n instanceof e}function Nu(n){return Cl(n)?!1:n instanceof $n(n).HTMLElement}function y1(n){return n instanceof $n(n).SVGElement}function Il(n){return n?Cl(n)?n.document:vy(n)?yy(n)?n:Nu(n)||y1(n)?n.ownerDocument:document:document:document}const Xi=Lh?x.useLayoutEffect:x.useEffect;function jh(n){const e=x.useRef(n);return Xi(()=>{e.current=n}),x.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function GU(){const n=x.useRef(null),e=x.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=x.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function uu(n,e){e===void 0&&(e=[n]);const t=x.useRef(n);return Xi(()=>{t.current!==n&&(t.current=n)},e),t}function ku(n,e){const t=x.useRef();return x.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function nh(n){const e=jh(n),t=x.useRef(null),r=x.useCallback(s=>{s!==t.current&&e?.(s,t.current),t.current=s},[]);return[t,r]}function ih(n){const e=x.useRef();return x.useEffect(()=>{e.current=n},[n]),e.current}let dg={};function Mu(n,e){return x.useMemo(()=>{if(e)return e;const t=dg[n]==null?0:dg[n]+1;return dg[n]=t,n+"-"+t},[n,e])}function _1(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((l,u)=>{const h=Object.entries(u);for(const[m,g]of h){const v=l[m];v!=null&&(l[m]=v+n*g)}return l},{...e})}}const ll=_1(1),rh=_1(-1);function YU(n){return"clientX"in n&&"clientY"in n}function zh(n){if(!n)return!1;const{KeyboardEvent:e}=$n(n.target);return e&&n instanceof e}function $U(n){if(!n)return!1;const{TouchEvent:e}=$n(n.target);return e&&n instanceof e}function ah(n){if($U(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return YU(n)?{x:n.clientX,y:n.clientY}:null}const ls=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[ls.Translate.toString(n),ls.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),ew="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function KU(n){return n.matches(ew)?n:n.querySelector(ew)}const QU={display:"none"};function XU(n){let{id:e,value:t}=n;return It.createElement("div",{id:e,style:QU},t)}function WU(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return It.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function JU(){const[n,e]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const b1=x.createContext(null);function ZU(n){const e=x.useContext(b1);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function eL(){const[n]=x.useState(()=>new Set),e=x.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[x.useCallback(r=>{let{type:s,event:l}=r;n.forEach(u=>{var h;return(h=u[s])==null?void 0:h.call(u,l)})},[n]),e]}const tL={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},nL={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function iL(n){let{announcements:e=nL,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=tL}=n;const{announce:l,announcement:u}=JU(),h=Mu("DndLiveRegion"),[m,g]=x.useState(!1);if(x.useEffect(()=>{g(!0)},[]),ZU(x.useMemo(()=>({onDragStart(_){let{active:T}=_;l(e.onDragStart({active:T}))},onDragMove(_){let{active:T,over:A}=_;e.onDragMove&&l(e.onDragMove({active:T,over:A}))},onDragOver(_){let{active:T,over:A}=_;l(e.onDragOver({active:T,over:A}))},onDragEnd(_){let{active:T,over:A}=_;l(e.onDragEnd({active:T,over:A}))},onDragCancel(_){let{active:T,over:A}=_;l(e.onDragCancel({active:T,over:A}))}}),[l,e])),!m)return null;const v=It.createElement(It.Fragment,null,It.createElement(XU,{id:r,value:s.draggable}),It.createElement(WU,{id:h,announcement:u}));return t?Uc.createPortal(v,t):v}var un;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(un||(un={}));function sh(){}function _y(n,e){return x.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function by(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return x.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Wi=Object.freeze({x:0,y:0});function rL(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function aL(n,e){const t=ah(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function sL(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function oL(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function tw(n){let{left:e,top:t,height:r,width:s}=n;return[{x:e,y:t},{x:e+s,y:t},{x:e,y:t+r},{x:e+s,y:t+r}]}function lL(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}const Ey=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=tw(e),l=[];for(const u of r){const{id:h}=u,m=t.get(h);if(m){const g=tw(m),v=s.reduce((T,A,N)=>T+rL(g[N],A),0),_=Number((v/4).toFixed(4));l.push({id:h,data:{droppableContainer:u,value:_}})}}return l.sort(sL)};function cL(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),l=Math.min(e.top+e.height,n.top+n.height),u=s-r,h=l-t;if(r<s&&t<l){const m=e.width*e.height,g=n.width*n.height,v=u*h,_=v/(m+g-v);return Number(_.toFixed(4))}return 0}const uL=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const l of r){const{id:u}=l,h=t.get(u);if(h){const m=cL(h,e);m>0&&s.push({id:u,data:{droppableContainer:l,value:m}})}}return s.sort(oL)};function dL(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function E1(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Wi}function fL(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return s.reduce((u,h)=>({...u,top:u.top+n*h.y,bottom:u.bottom+n*h.y,left:u.left+n*h.x,right:u.right+n*h.x}),{...t})}}const hL=fL(1);function T1(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function pL(n,e,t){const r=T1(e);if(!r)return n;const{scaleX:s,scaleY:l,x:u,y:h}=r,m=n.left-u-(1-s)*parseFloat(t),g=n.top-h-(1-l)*parseFloat(t.slice(t.indexOf(" ")+1)),v=s?n.width/s:n.width,_=l?n.height/l:n.height;return{width:v,height:_,top:g,right:m+v,bottom:g+_,left:m}}const mL={ignoreTransform:!1};function Dl(n,e){e===void 0&&(e=mL);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:v}=$n(n).getComputedStyle(n);g&&(t=pL(t,g,v))}const{top:r,left:s,width:l,height:u,bottom:h,right:m}=t;return{top:r,left:s,width:l,height:u,bottom:h,right:m}}function nw(n){return Dl(n,{ignoreTransform:!0})}function gL(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function vL(n,e){return e===void 0&&(e=$n(n).getComputedStyle(n)),e.position==="fixed"}function yL(n,e){e===void 0&&(e=$n(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const l=e[s];return typeof l=="string"?t.test(l):!1})}function Ty(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(yy(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!Nu(s)||y1(s)||t.includes(s))return t;const l=$n(n).getComputedStyle(s);return s!==n&&yL(s,l)&&t.push(s),vL(s,l)?t:r(s.parentNode)}return n?r(n):t}function w1(n){const[e]=Ty(n,1);return e??null}function fg(n){return!Lh||!n?null:Cl(n)?n:vy(n)?yy(n)||n===Il(n).scrollingElement?window:Nu(n)?n:null:null}function x1(n){return Cl(n)?n.scrollX:n.scrollLeft}function S1(n){return Cl(n)?n.scrollY:n.scrollTop}function Zg(n){return{x:x1(n),y:S1(n)}}var En;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(En||(En={}));function A1(n){return!Lh||!n?!1:n===document.scrollingElement}function R1(n){const e={x:0,y:0},t=A1(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,l=n.scrollLeft<=e.x,u=n.scrollTop>=r.y,h=n.scrollLeft>=r.x;return{isTop:s,isLeft:l,isBottom:u,isRight:h,maxScroll:r,minScroll:e}}const _L={x:.2,y:.2};function bL(n,e,t,r,s){let{top:l,left:u,right:h,bottom:m}=t;r===void 0&&(r=10),s===void 0&&(s=_L);const{isTop:g,isBottom:v,isLeft:_,isRight:T}=R1(n),A={x:0,y:0},N={x:0,y:0},P={height:e.height*s.y,width:e.width*s.x};return!g&&l<=e.top+P.height?(A.y=En.Backward,N.y=r*Math.abs((e.top+P.height-l)/P.height)):!v&&m>=e.bottom-P.height&&(A.y=En.Forward,N.y=r*Math.abs((e.bottom-P.height-m)/P.height)),!T&&h>=e.right-P.width?(A.x=En.Forward,N.x=r*Math.abs((e.right-P.width-h)/P.width)):!_&&u<=e.left+P.width&&(A.x=En.Backward,N.x=r*Math.abs((e.left+P.width-u)/P.width)),{direction:A,speed:N}}function EL(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function C1(n){return n.reduce((e,t)=>ll(e,Zg(t)),Wi)}function TL(n){return n.reduce((e,t)=>e+x1(t),0)}function wL(n){return n.reduce((e,t)=>e+S1(t),0)}function I1(n,e){if(e===void 0&&(e=Dl),!n)return;const{top:t,left:r,bottom:s,right:l}=e(n);w1(n)&&(s<=0||l<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const xL=[["x",["left","right"],TL],["y",["top","bottom"],wL]];class wy{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Ty(t),s=C1(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,u,h]of xL)for(const m of u)Object.defineProperty(this,m,{get:()=>{const g=h(r),v=s[l]-g;return this.rect[m]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Qc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function SL(n){const{EventTarget:e}=$n(n);return n instanceof e?n:Il(n)}function hg(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Ni;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Ni||(Ni={}));function iw(n){n.preventDefault()}function AL(n){n.stopPropagation()}var it;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(it||(it={}));const D1={start:[it.Space,it.Enter],cancel:[it.Esc],end:[it.Space,it.Enter,it.Tab]},RL=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case it.Right:return{...t,x:t.x+25};case it.Left:return{...t,x:t.x-25};case it.Down:return{...t,y:t.y+25};case it.Up:return{...t,y:t.y-25}}};class O1{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Qc(Il(t)),this.windowListeners=new Qc($n(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ni.Resize,this.handleCancel),this.windowListeners.add(Ni.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ni.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&I1(r),t(Wi)}handleKeyDown(e){if(zh(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:l=D1,coordinateGetter:u=RL,scrollBehavior:h="smooth"}=s,{code:m}=e;if(l.end.includes(m)){this.handleEnd(e);return}if(l.cancel.includes(m)){this.handleCancel(e);return}const{collisionRect:g}=r.current,v=g?{x:g.left,y:g.top}:Wi;this.referenceCoordinates||(this.referenceCoordinates=v);const _=u(e,{active:t,context:r.current,currentCoordinates:v});if(_){const T=rh(_,v),A={x:0,y:0},{scrollableAncestors:N}=r.current;for(const P of N){const k=e.code,{isTop:G,isRight:L,isLeft:F,isBottom:Q,maxScroll:ie,minScroll:te}=R1(P),C=EL(P),S={x:Math.min(k===it.Right?C.right-C.width/2:C.right,Math.max(k===it.Right?C.left:C.left+C.width/2,_.x)),y:Math.min(k===it.Down?C.bottom-C.height/2:C.bottom,Math.max(k===it.Down?C.top:C.top+C.height/2,_.y))},I=k===it.Right&&!L||k===it.Left&&!F,U=k===it.Down&&!Q||k===it.Up&&!G;if(I&&S.x!==_.x){const M=P.scrollLeft+T.x,B=k===it.Right&&M<=ie.x||k===it.Left&&M>=te.x;if(B&&!T.y){P.scrollTo({left:M,behavior:h});return}B?A.x=P.scrollLeft-M:A.x=k===it.Right?P.scrollLeft-ie.x:P.scrollLeft-te.x,A.x&&P.scrollBy({left:-A.x,behavior:h});break}else if(U&&S.y!==_.y){const M=P.scrollTop+T.y,B=k===it.Down&&M<=ie.y||k===it.Up&&M>=te.y;if(B&&!T.x){P.scrollTo({top:M,behavior:h});return}B?A.y=P.scrollTop-M:A.y=k===it.Down?P.scrollTop-ie.y:P.scrollTop-te.y,A.y&&P.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,ll(rh(_,this.referenceCoordinates),A))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}O1.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=D1,onActivation:s}=e,{active:l}=t;const{code:u}=n.nativeEvent;if(r.start.includes(u)){const h=l.activatorNode.current;return h&&n.target!==h?!1:(n.preventDefault(),s?.({event:n.nativeEvent}),!0)}return!1}}];function rw(n){return!!(n&&"distance"in n)}function aw(n){return!!(n&&"delay"in n)}class xy{constructor(e,t,r){var s;r===void 0&&(r=SL(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:u}=l;this.props=e,this.events=t,this.document=Il(u),this.documentListeners=new Qc(this.document),this.listeners=new Qc(r),this.windowListeners=new Qc($n(u)),this.initialCoordinates=(s=ah(l))!=null?s:Wi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ni.Resize,this.handleCancel),this.windowListeners.add(Ni.DragStart,iw),this.windowListeners.add(Ni.VisibilityChange,this.handleCancel),this.windowListeners.add(Ni.ContextMenu,iw),this.documentListeners.add(Ni.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(aw(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(rw(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ni.Click,AL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ni.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:l}=this,{onMove:u,options:{activationConstraint:h}}=l;if(!s)return;const m=(t=ah(e))!=null?t:Wi,g=rh(s,m);if(!r&&h){if(rw(h)){if(h.tolerance!=null&&hg(g,h.tolerance))return this.handleCancel();if(hg(g,h.distance))return this.handleStart()}if(aw(h)&&hg(g,h.tolerance))return this.handleCancel();this.handlePending(h,g);return}e.cancelable&&e.preventDefault(),u(m)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===it.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const CL={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Pu extends xy{constructor(e){const{event:t}=e,r=Il(t.target);super(e,CL,r)}}Pu.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const IL={move:{name:"mousemove"},end:{name:"mouseup"}};var ev;(function(n){n[n.RightClick=2]="RightClick"})(ev||(ev={}));class DL extends xy{constructor(e){super(e,IL,Il(e.event.target))}}DL.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===ev.RightClick?!1:(r?.({event:t}),!0)}}];const pg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class OL extends xy{constructor(e){super(e,pg)}static setup(){return window.addEventListener(pg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(pg.move.name,e)};function e(){}}}OL.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r?.({event:t}),!0)}}];var Xc;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Xc||(Xc={}));var oh;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(oh||(oh={}));function NL(n){let{acceleration:e,activator:t=Xc.Pointer,canScroll:r,draggingRect:s,enabled:l,interval:u=5,order:h=oh.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:v,delta:_,threshold:T}=n;const A=ML({delta:_,disabled:!l}),[N,P]=GU(),k=x.useRef({x:0,y:0}),G=x.useRef({x:0,y:0}),L=x.useMemo(()=>{switch(t){case Xc.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Xc.DraggableRect:return s}},[t,s,m]),F=x.useRef(null),Q=x.useCallback(()=>{const te=F.current;if(!te)return;const C=k.current.x*G.current.x,S=k.current.y*G.current.y;te.scrollBy(C,S)},[]),ie=x.useMemo(()=>h===oh.TreeOrder?[...g].reverse():g,[h,g]);x.useEffect(()=>{if(!l||!g.length||!L){P();return}for(const te of ie){if(r?.(te)===!1)continue;const C=g.indexOf(te),S=v[C];if(!S)continue;const{direction:I,speed:U}=bL(te,S,L,e,T);for(const M of["x","y"])A[M][I[M]]||(U[M]=0,I[M]=0);if(U.x>0||U.y>0){P(),F.current=te,N(Q,u),k.current=U,G.current=I;return}}k.current={x:0,y:0},G.current={x:0,y:0},P()},[e,Q,r,P,l,u,JSON.stringify(L),JSON.stringify(A),N,g,ie,v,JSON.stringify(T)])}const kL={x:{[En.Backward]:!1,[En.Forward]:!1},y:{[En.Backward]:!1,[En.Forward]:!1}};function ML(n){let{delta:e,disabled:t}=n;const r=ih(e);return ku(s=>{if(t||!r||!s)return kL;const l={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[En.Backward]:s.x[En.Backward]||l.x===-1,[En.Forward]:s.x[En.Forward]||l.x===1},y:{[En.Backward]:s.y[En.Backward]||l.y===-1,[En.Forward]:s.y[En.Forward]||l.y===1}}},[t,e,r])}function PL(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return ku(s=>{var l;return e==null?null:(l=r??s)!=null?l:null},[r,e])}function VL(n,e){return x.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,l=s.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,r)}));return[...t,...l]},[]),[n,e])}var du;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(du||(du={}));var tv;(function(n){n.Optimized="optimized"})(tv||(tv={}));const sw=new Map;function UL(n,e){let{dragging:t,dependencies:r,config:s}=e;const[l,u]=x.useState(null),{frequency:h,measure:m,strategy:g}=s,v=x.useRef(n),_=k(),T=uu(_),A=x.useCallback(function(G){G===void 0&&(G=[]),!T.current&&u(L=>L===null?G:L.concat(G.filter(F=>!L.includes(F))))},[T]),N=x.useRef(null),P=ku(G=>{if(_&&!t)return sw;if(!G||G===sw||v.current!==n||l!=null){const L=new Map;for(let F of n){if(!F)continue;if(l&&l.length>0&&!l.includes(F.id)&&F.rect.current){L.set(F.id,F.rect.current);continue}const Q=F.node.current,ie=Q?new wy(m(Q),Q):null;F.rect.current=ie,ie&&L.set(F.id,ie)}return L}return G},[n,l,t,_,m]);return x.useEffect(()=>{v.current=n},[n]),x.useEffect(()=>{_||A()},[t,_]),x.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),x.useEffect(()=>{_||typeof h!="number"||N.current!==null||(N.current=setTimeout(()=>{A(),N.current=null},h))},[h,_,A,...r]),{droppableRects:P,measureDroppableContainers:A,measuringScheduled:l!=null};function k(){switch(g){case du.Always:return!1;case du.BeforeDragging:return t;default:return!t}}}function Sy(n,e){return ku(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function LL(n,e){return Sy(n,e)}function jL(n){let{callback:e,disabled:t}=n;const r=jh(e),s=x.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,t]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function Bh(n){let{callback:e,disabled:t}=n;const r=jh(e),s=x.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[t]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function zL(n){return new wy(Dl(n),n)}function ow(n,e,t){e===void 0&&(e=zL);const[r,s]=x.useState(null);function l(){s(m=>{if(!n)return null;if(n.isConnected===!1){var g;return(g=m??t)!=null?g:null}const v=e(n);return JSON.stringify(m)===JSON.stringify(v)?m:v})}const u=jL({callback(m){if(n)for(const g of m){const{type:v,target:_}=g;if(v==="childList"&&_ instanceof HTMLElement&&_.contains(n)){l();break}}}}),h=Bh({callback:l});return Xi(()=>{l(),n?(h?.observe(n),u?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),u?.disconnect())},[n]),r}function BL(n){const e=Sy(n);return E1(n,e)}const lw=[];function FL(n){const e=x.useRef(n),t=ku(r=>n?r&&r!==lw&&n&&e.current&&n.parentNode===e.current.parentNode?r:Ty(n):lw,[n]);return x.useEffect(()=>{e.current=n},[n]),t}function qL(n){const[e,t]=x.useState(null),r=x.useRef(n),s=x.useCallback(l=>{const u=fg(l.target);u&&t(h=>h?(h.set(u,Zg(u)),new Map(h)):null)},[]);return x.useEffect(()=>{const l=r.current;if(n!==l){u(l);const h=n.map(m=>{const g=fg(m);return g?(g.addEventListener("scroll",s,{passive:!0}),[g,Zg(g)]):null}).filter(m=>m!=null);t(h.length?new Map(h):null),r.current=n}return()=>{u(n),u(l)};function u(h){h.forEach(m=>{const g=fg(m);g?.removeEventListener("scroll",s)})}},[s,n]),x.useMemo(()=>n.length?e?Array.from(e.values()).reduce((l,u)=>ll(l,u),Wi):C1(n):Wi,[n,e])}function cw(n,e){e===void 0&&(e=[]);const t=x.useRef(null);return x.useEffect(()=>{t.current=null},e),x.useEffect(()=>{const r=n!==Wi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?rh(n,t.current):Wi}function HL(n){x.useEffect(()=>{if(!Lh)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function GL(n,e){return x.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:l}=r;return t[s]=u=>{l(u,e)},t},{}),[n,e])}function N1(n){return x.useMemo(()=>n?gL(n):null,[n])}const uw=[];function YL(n,e){e===void 0&&(e=Dl);const[t]=n,r=N1(t?$n(t):null),[s,l]=x.useState(uw);function u(){l(()=>n.length?n.map(m=>A1(m)?r:new wy(e(m),m)):uw)}const h=Bh({callback:u});return Xi(()=>{h?.disconnect(),u(),n.forEach(m=>h?.observe(m))},[n]),s}function k1(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Nu(e)?e:n}function $L(n){let{measure:e}=n;const[t,r]=x.useState(null),s=x.useCallback(g=>{for(const{target:v}of g)if(Nu(v)){r(_=>{const T=e(v);return _?{..._,width:T.width,height:T.height}:T});break}},[e]),l=Bh({callback:s}),u=x.useCallback(g=>{const v=k1(g);l?.disconnect(),v&&l?.observe(v),r(v?e(v):null)},[e,l]),[h,m]=nh(u);return x.useMemo(()=>({nodeRef:h,rect:t,setRef:m}),[t,h,m])}const KL=[{sensor:Pu,options:{}},{sensor:O1,options:{}}],QL={current:{}},Pf={draggable:{measure:nw},droppable:{measure:nw,strategy:du.WhileDragging,frequency:tv.Optimized},dragOverlay:{measure:Dl}};class Wc extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const XL={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Pf,measureDroppableContainers:sh,windowRect:null,measuringScheduled:!1},M1={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sh,draggableNodes:new Map,over:null,measureDroppableContainers:sh},Vu=x.createContext(M1),P1=x.createContext(XL);function WL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wc}}}function JL(n,e){switch(e.type){case un.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case un.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case un.DragEnd:case un.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case un.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new Wc(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case un.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,l=n.droppable.containers.get(t);if(!l||r!==l.key)return n;const u=new Wc(n.droppable.containers);return u.set(t,{...l,disabled:s}),{...n,droppable:{...n.droppable,containers:u}}}case un.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const l=new Wc(n.droppable.containers);return l.delete(t),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function ZL(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=x.useContext(Vu),l=ih(r),u=ih(t?.id);return x.useEffect(()=>{if(!e&&!r&&l&&u!=null){if(!zh(l)||document.activeElement===l.target)return;const h=s.get(u);if(!h)return;const{activatorNode:m,node:g}=h;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const v of[m.current,g.current]){if(!v)continue;const _=KU(v);if(_){_.focus();break}}})}},[r,e,s,u,l]),null}function V1(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,l)=>l({transform:s,...r}),t):t}function e3(n){return x.useMemo(()=>({draggable:{...Pf.draggable,...n?.draggable},droppable:{...Pf.droppable,...n?.droppable},dragOverlay:{...Pf.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function t3(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const l=x.useRef(!1),{x:u,y:h}=typeof s=="boolean"?{x:s,y:s}:s;Xi(()=>{if(!u&&!h||!e){l.current=!1;return}if(l.current||!r)return;const g=e?.node.current;if(!g||g.isConnected===!1)return;const v=t(g),_=E1(v,r);if(u||(_.x=0),h||(_.y=0),l.current=!0,Math.abs(_.x)>0||Math.abs(_.y)>0){const T=w1(g);T&&T.scrollBy({top:_.y,left:_.x})}},[e,u,h,r,t])}const Fh=x.createContext({...Wi,scaleX:1,scaleY:1});var za;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(za||(za={}));const Ay=x.memo(function(e){var t,r,s,l;let{id:u,accessibility:h,autoScroll:m=!0,children:g,sensors:v=KL,collisionDetection:_=uL,measuring:T,modifiers:A,...N}=e;const P=x.useReducer(JL,void 0,WL),[k,G]=P,[L,F]=eL(),[Q,ie]=x.useState(za.Uninitialized),te=Q===za.Initialized,{draggable:{active:C,nodes:S,translate:I},droppable:{containers:U}}=k,M=C!=null?S.get(C):null,B=x.useRef({initial:null,translated:null}),O=x.useMemo(()=>{var Le;return C!=null?{id:C,data:(Le=M?.data)!=null?Le:QL,rect:B}:null},[C,M]),be=x.useRef(null),[Re,Z]=x.useState(null),[oe,pe]=x.useState(null),ge=uu(N,Object.values(N)),Ue=Mu("DndDescribedBy",u),j=x.useMemo(()=>U.getEnabled(),[U]),J=e3(T),{droppableRects:le,measureDroppableContainers:ce,measuringScheduled:ve}=UL(j,{dragging:te,dependencies:[I.x,I.y],config:J.droppable}),ye=PL(S,C),xe=x.useMemo(()=>oe?ah(oe):null,[oe]),Qe=Or(),Ve=LL(ye,J.draggable.measure);t3({activeNode:C!=null?S.get(C):null,config:Qe.layoutShiftCompensation,initialRect:Ve,measure:J.draggable.measure});const Ne=ow(ye,J.draggable.measure,Ve),Yt=ow(ye?ye.parentElement:null),_t=x.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ut=U.getNodeFor((t=_t.current.over)==null?void 0:t.id),at=$L({measure:J.dragOverlay.measure}),fn=(r=at.nodeRef.current)!=null?r:ye,$t=te?(s=at.rect)!=null?s:Ne:null,hn=!!(at.nodeRef.current&&at.rect),ln=BL(hn?null:Ne),Xe=N1(fn?$n(fn):null),Je=FL(te?Ut??ye:null),pn=YL(Je),Zi=V1(A,{transform:{x:I.x-ln.x,y:I.y-ln.y,scaleX:1,scaleY:1},activatorEvent:oe,active:O,activeNodeRect:Ne,containerNodeRect:Yt,draggingNodeRect:$t,over:_t.current.over,overlayNodeRect:at.rect,scrollableAncestors:Je,scrollableAncestorRects:pn,windowRect:Xe}),Dr=xe?ll(xe,I):null,Kt=qL(Je),ue=cw(Kt),Ee=cw(Kt,[Ne]),Be=ll(Zi,ue),Fe=$t?hL($t,Zi):null,mt=O&&Fe?_({active:O,collisionRect:Fe,droppableRects:le,droppableContainers:j,pointerCoordinates:Dr}):null,mn=lL(mt,"id"),[Dt,Vi]=x.useState(null),Tn=hn?Zi:ll(Zi,Ee),Ot=dL(Tn,(l=Dt?.rect)!=null?l:null,Ne),Lt=x.useRef(null),ut=x.useCallback((Le,St)=>{let{sensor:At,options:Qt}=St;if(be.current==null)return;const kn=S.get(be.current);if(!kn)return;const gn=Le.nativeEvent,jt=new At({active:be.current,activeNode:kn,event:gn,options:Qt,context:_t,onAbort(zt){if(!S.get(zt))return;const{onDragAbort:Pn}=ge.current,Bn={id:zt};Pn?.(Bn),L({type:"onDragAbort",event:Bn})},onPending(zt,Mn,Pn,Bn){if(!S.get(zt))return;const{onDragPending:Fn}=ge.current,li={id:zt,constraint:Mn,initialCoordinates:Pn,offset:Bn};Fn?.(li),L({type:"onDragPending",event:li})},onStart(zt){const Mn=be.current;if(Mn==null)return;const Pn=S.get(Mn);if(!Pn)return;const{onDragStart:Bn}=ge.current,oi={activatorEvent:gn,active:{id:Mn,data:Pn.data,rect:B}};Uc.unstable_batchedUpdates(()=>{Bn?.(oi),ie(za.Initializing),G({type:un.DragStart,initialCoordinates:zt,active:Mn}),L({type:"onDragStart",event:oi}),Z(Lt.current),pe(gn)})},onMove(zt){G({type:un.DragMove,coordinates:zt})},onEnd:Qn(un.DragEnd),onCancel:Qn(un.DragCancel)});Lt.current=jt;function Qn(zt){return async function(){const{active:Pn,collisions:Bn,over:oi,scrollAdjustedTranslate:Fn}=_t.current;let li=null;if(Pn&&Fn){const{cancelDrop:wn}=ge.current;li={activatorEvent:gn,active:Pn,collisions:Bn,delta:Fn,over:oi},zt===un.DragEnd&&typeof wn=="function"&&await Promise.resolve(wn(li))&&(zt=un.DragCancel)}be.current=null,Uc.unstable_batchedUpdates(()=>{G({type:zt}),ie(za.Uninitialized),Vi(null),Z(null),pe(null),Lt.current=null;const wn=zt===un.DragEnd?"onDragEnd":"onDragCancel";if(li){const qn=ge.current[wn];qn?.(li),L({type:wn,event:li})}})}}},[S]),er=x.useCallback((Le,St)=>(At,Qt)=>{const kn=At.nativeEvent,gn=S.get(Qt);if(be.current!==null||!gn||kn.dndKit||kn.defaultPrevented)return;const jt={active:gn};Le(At,St.options,jt)===!0&&(kn.dndKit={capturedBy:St.sensor},be.current=Qt,ut(At,St))},[S,ut]),si=VL(v,er);HL(v),Xi(()=>{Ne&&Q===za.Initializing&&ie(za.Initialized)},[Ne,Q]),x.useEffect(()=>{const{onDragMove:Le}=ge.current,{active:St,activatorEvent:At,collisions:Qt,over:kn}=_t.current;if(!St||!At)return;const gn={active:St,activatorEvent:At,collisions:Qt,delta:{x:Be.x,y:Be.y},over:kn};Uc.unstable_batchedUpdates(()=>{Le?.(gn),L({type:"onDragMove",event:gn})})},[Be.x,Be.y]),x.useEffect(()=>{const{active:Le,activatorEvent:St,collisions:At,droppableContainers:Qt,scrollAdjustedTranslate:kn}=_t.current;if(!Le||be.current==null||!St||!kn)return;const{onDragOver:gn}=ge.current,jt=Qt.get(mn),Qn=jt&&jt.rect.current?{id:jt.id,rect:jt.rect.current,data:jt.data,disabled:jt.disabled}:null,zt={active:Le,activatorEvent:St,collisions:At,delta:{x:kn.x,y:kn.y},over:Qn};Uc.unstable_batchedUpdates(()=>{Vi(Qn),gn?.(zt),L({type:"onDragOver",event:zt})})},[mn]),Xi(()=>{_t.current={activatorEvent:oe,active:O,activeNode:ye,collisionRect:Fe,collisions:mt,droppableRects:le,draggableNodes:S,draggingNode:fn,draggingNodeRect:$t,droppableContainers:U,over:Dt,scrollableAncestors:Je,scrollAdjustedTranslate:Be},B.current={initial:$t,translated:Fe}},[O,ye,mt,Fe,S,fn,$t,le,U,Dt,Je,Be]),NL({...Qe,delta:I,draggingRect:Fe,pointerCoordinates:Dr,scrollableAncestors:Je,scrollableAncestorRects:pn});const tr=x.useMemo(()=>({active:O,activeNode:ye,activeNodeRect:Ne,activatorEvent:oe,collisions:mt,containerNodeRect:Yt,dragOverlay:at,draggableNodes:S,droppableContainers:U,droppableRects:le,over:Dt,measureDroppableContainers:ce,scrollableAncestors:Je,scrollableAncestorRects:pn,measuringConfiguration:J,measuringScheduled:ve,windowRect:Xe}),[O,ye,Ne,oe,mt,Yt,at,S,U,le,Dt,ce,Je,pn,J,ve,Xe]),Kn=x.useMemo(()=>({activatorEvent:oe,activators:si,active:O,activeNodeRect:Ne,ariaDescribedById:{draggable:Ue},dispatch:G,draggableNodes:S,over:Dt,measureDroppableContainers:ce}),[oe,si,O,Ne,G,Ue,S,Dt,ce]);return It.createElement(b1.Provider,{value:F},It.createElement(Vu.Provider,{value:Kn},It.createElement(P1.Provider,{value:tr},It.createElement(Fh.Provider,{value:Ot},g)),It.createElement(ZL,{disabled:h?.restoreFocus===!1})),It.createElement(iL,{...h,hiddenTextDescribedById:Ue}));function Or(){const Le=Re?.autoScrollEnabled===!1,St=typeof m=="object"?m.enabled===!1:m===!1,At=te&&!Le&&!St;return typeof m=="object"?{...m,enabled:At}:{enabled:At}}}),n3=x.createContext(null),dw="button",i3="Draggable";function r3(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const l=Mu(i3),{activators:u,activatorEvent:h,active:m,activeNodeRect:g,ariaDescribedById:v,draggableNodes:_,over:T}=x.useContext(Vu),{role:A=dw,roleDescription:N="draggable",tabIndex:P=0}=s??{},k=m?.id===e,G=x.useContext(k?Fh:n3),[L,F]=nh(),[Q,ie]=nh(),te=GL(u,e),C=uu(t);Xi(()=>(_.set(e,{id:e,key:l,node:L,activatorNode:Q,data:C}),()=>{const I=_.get(e);I&&I.key===l&&_.delete(e)}),[_,e]);const S=x.useMemo(()=>({role:A,tabIndex:P,"aria-disabled":r,"aria-pressed":k&&A===dw?!0:void 0,"aria-roledescription":N,"aria-describedby":v.draggable}),[r,A,P,k,N,v.draggable]);return{active:m,activatorEvent:h,activeNodeRect:g,attributes:S,isDragging:k,listeners:r?void 0:te,node:L,over:T,setNodeRef:F,setActivatorNodeRef:ie,transform:G}}function U1(){return x.useContext(P1)}const a3="Droppable",s3={timeout:25};function L1(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const l=Mu(a3),{active:u,dispatch:h,over:m,measureDroppableContainers:g}=x.useContext(Vu),v=x.useRef({disabled:t}),_=x.useRef(!1),T=x.useRef(null),A=x.useRef(null),{disabled:N,updateMeasurementsFor:P,timeout:k}={...s3,...s},G=uu(P??r),L=x.useCallback(()=>{if(!_.current){_.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{g(Array.isArray(G.current)?G.current:[G.current]),A.current=null},k)},[k]),F=Bh({callback:L,disabled:N||!u}),Q=x.useCallback((S,I)=>{F&&(I&&(F.unobserve(I),_.current=!1),S&&F.observe(S))},[F]),[ie,te]=nh(Q),C=uu(e);return x.useEffect(()=>{!F||!ie.current||(F.disconnect(),_.current=!1,F.observe(ie.current))},[ie,F]),x.useEffect(()=>(h({type:un.RegisterDroppable,element:{id:r,key:l,disabled:t,node:ie,rect:T,data:C}}),()=>h({type:un.UnregisterDroppable,key:l,id:r})),[r]),x.useEffect(()=>{t!==v.current.disabled&&(h({type:un.SetDroppableDisabled,id:r,key:l,disabled:t}),v.current.disabled=t)},[r,l,t,h]),{active:u,rect:T,isOver:m?.id===r,node:ie,over:m,setNodeRef:te}}function o3(n){let{animation:e,children:t}=n;const[r,s]=x.useState(null),[l,u]=x.useState(null),h=ih(t);return!t&&!r&&h&&s(h),Xi(()=>{if(!l)return;const m=r?.key,g=r?.props.id;if(m==null||g==null){s(null);return}Promise.resolve(e(g,l)).then(()=>{s(null)})},[e,r,l]),It.createElement(It.Fragment,null,t,r?x.cloneElement(r,{ref:u}):null)}const l3={x:0,y:0,scaleX:1,scaleY:1};function c3(n){let{children:e}=n;return It.createElement(Vu.Provider,{value:M1},It.createElement(Fh.Provider,{value:l3},e))}const u3={position:"fixed",touchAction:"none"},d3=n=>zh(n)?"transform 250ms ease":void 0,f3=x.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:s,children:l,className:u,rect:h,style:m,transform:g,transition:v=d3}=n;if(!h)return null;const _=s?g:{...g,scaleX:1,scaleY:1},T={...u3,width:h.width,height:h.height,top:h.top,left:h.left,transform:ls.Transform.toString(_),transformOrigin:s&&r?aL(r,h):void 0,transition:typeof v=="function"?v(r):v,...m};return It.createElement(t,{className:u,style:T,ref:e},l)}),h3=n=>e=>{let{active:t,dragOverlay:r}=e;const s={},{styles:l,className:u}=n;if(l!=null&&l.active)for(const[h,m]of Object.entries(l.active))m!==void 0&&(s[h]=t.node.style.getPropertyValue(h),t.node.style.setProperty(h,m));if(l!=null&&l.dragOverlay)for(const[h,m]of Object.entries(l.dragOverlay))m!==void 0&&r.node.style.setProperty(h,m);return u!=null&&u.active&&t.node.classList.add(u.active),u!=null&&u.dragOverlay&&r.node.classList.add(u.dragOverlay),function(){for(const[m,g]of Object.entries(s))t.node.style.setProperty(m,g);u!=null&&u.active&&t.node.classList.remove(u.active)}},p3=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:ls.Transform.toString(e)},{transform:ls.Transform.toString(t)}]},m3={duration:250,easing:"ease",keyframes:p3,sideEffects:h3({styles:{active:{opacity:"0"}}})};function g3(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:s}=n;return jh((l,u)=>{if(e===null)return;const h=t.get(l);if(!h)return;const m=h.node.current;if(!m)return;const g=k1(u);if(!g)return;const{transform:v}=$n(u).getComputedStyle(u),_=T1(v);if(!_)return;const T=typeof e=="function"?e:v3(e);return I1(m,s.draggable.measure),T({active:{id:l,data:h.data,node:m,rect:s.draggable.measure(m)},draggableNodes:t,dragOverlay:{node:u,rect:s.dragOverlay.measure(g)},droppableContainers:r,measuringConfiguration:s,transform:_})})}function v3(n){const{duration:e,easing:t,sideEffects:r,keyframes:s}={...m3,...n};return l=>{let{active:u,dragOverlay:h,transform:m,...g}=l;if(!e)return;const v={x:h.rect.left-u.rect.left,y:h.rect.top-u.rect.top},_={scaleX:m.scaleX!==1?u.rect.width*m.scaleX/h.rect.width:1,scaleY:m.scaleY!==1?u.rect.height*m.scaleY/h.rect.height:1},T={x:m.x-v.x,y:m.y-v.y,..._},A=s({...g,active:u,dragOverlay:h,transform:{initial:m,final:T}}),[N]=A,P=A[A.length-1];if(JSON.stringify(N)===JSON.stringify(P))return;const k=r?.({active:u,dragOverlay:h,...g}),G=h.node.animate(A,{duration:e,easing:t,fill:"forwards"});return new Promise(L=>{G.onfinish=()=>{k?.(),L()}})}}let fw=0;function y3(n){return x.useMemo(()=>{if(n!=null)return fw++,fw},[n])}const Ry=It.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:s,transition:l,modifiers:u,wrapperElement:h="div",className:m,zIndex:g=999}=n;const{activatorEvent:v,active:_,activeNodeRect:T,containerNodeRect:A,draggableNodes:N,droppableContainers:P,dragOverlay:k,over:G,measuringConfiguration:L,scrollableAncestors:F,scrollableAncestorRects:Q,windowRect:ie}=U1(),te=x.useContext(Fh),C=y3(_?.id),S=V1(u,{activatorEvent:v,active:_,activeNodeRect:T,containerNodeRect:A,draggingNodeRect:k.rect,over:G,overlayNodeRect:k.rect,scrollableAncestors:F,scrollableAncestorRects:Q,transform:te,windowRect:ie}),I=Sy(T),U=g3({config:r,draggableNodes:N,droppableContainers:P,measuringConfiguration:L}),M=I?k.setRef:void 0;return It.createElement(c3,null,It.createElement(o3,{animation:U},_&&C?It.createElement(f3,{key:C,id:_.id,ref:M,as:h,activatorEvent:v,adjustScale:e,className:m,transition:l,rect:I,style:{zIndex:g,...s},transform:S},t):null))});function Uu(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function _3(n,e){return n.reduce((t,r,s)=>{const l=e.get(r);return l&&(t[s]=l),t},Array(n.length))}function vf(n){return n!==null&&n>=0}function b3(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function E3(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const j1=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const l=Uu(e,r,t),u=e[s],h=l[s];return!h||!u?null:{x:h.left-u.left,y:h.top-u.top,scaleX:h.width/u.width,scaleY:h.height/u.height}},yf={scaleX:1,scaleY:1},T3=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:s,rects:l,overIndex:u}=n;const h=(e=l[t])!=null?e:r;if(!h)return null;if(s===t){const g=l[u];return g?{x:0,y:t<u?g.top+g.height-(h.top+h.height):g.top-h.top,...yf}:null}const m=w3(l,s,t);return s>t&&s<=u?{x:0,y:-h.height-m,...yf}:s<t&&s>=u?{x:0,y:h.height+m,...yf}:{x:0,y:0,...yf}};function w3(n,e,t){const r=n[e],s=n[e-1],l=n[e+1];return r?t<e?s?r.top-(s.top+s.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const z1="Sortable",B1=It.createContext({activeIndex:-1,containerId:z1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:j1,disabled:{draggable:!1,droppable:!1}});function x3(n){let{children:e,id:t,items:r,strategy:s=j1,disabled:l=!1}=n;const{active:u,dragOverlay:h,droppableRects:m,over:g,measureDroppableContainers:v}=U1(),_=Mu(z1,t),T=h.rect!==null,A=x.useMemo(()=>r.map(te=>typeof te=="object"&&"id"in te?te.id:te),[r]),N=u!=null,P=u?A.indexOf(u.id):-1,k=g?A.indexOf(g.id):-1,G=x.useRef(A),L=!b3(A,G.current),F=k!==-1&&P===-1||L,Q=E3(l);Xi(()=>{L&&N&&v(A)},[L,A,N,v]),x.useEffect(()=>{G.current=A},[A]);const ie=x.useMemo(()=>({activeIndex:P,containerId:_,disabled:Q,disableTransforms:F,items:A,overIndex:k,useDragOverlay:T,sortedRects:_3(A,m),strategy:s}),[P,_,Q.draggable,Q.droppable,F,A,k,m,T,s]);return It.createElement(B1.Provider,{value:ie},e)}const S3=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return Uu(t,r,s).indexOf(e)},A3=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:l,newIndex:u,previousItems:h,previousContainerId:m,transition:g}=n;return!g||!r||h!==l&&s===u?!1:t?!0:u!==s&&e===m},R3={duration:200,easing:"ease"},F1="transform",C3=ls.Transition.toString({property:F1,duration:0,easing:"linear"}),I3={roleDescription:"sortable"};function D3(n){let{disabled:e,index:t,node:r,rect:s}=n;const[l,u]=x.useState(null),h=x.useRef(t);return Xi(()=>{if(!e&&t!==h.current&&r.current){const m=s.current;if(m){const g=Dl(r.current,{ignoreTransform:!0}),v={x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height};(v.x||v.y)&&u(v)}}t!==h.current&&(h.current=t)},[e,t,r,s]),x.useEffect(()=>{l&&u(null)},[l]),l}function O3(n){let{animateLayoutChanges:e=A3,attributes:t,disabled:r,data:s,getNewIndex:l=S3,id:u,strategy:h,resizeObserverConfig:m,transition:g=R3}=n;const{items:v,containerId:_,activeIndex:T,disabled:A,disableTransforms:N,sortedRects:P,overIndex:k,useDragOverlay:G,strategy:L}=x.useContext(B1),F=N3(r,A),Q=v.indexOf(u),ie=x.useMemo(()=>({sortable:{containerId:_,index:Q,items:v},...s}),[_,s,Q,v]),te=x.useMemo(()=>v.slice(v.indexOf(u)),[v,u]),{rect:C,node:S,isOver:I,setNodeRef:U}=L1({id:u,data:ie,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:te,...m}}),{active:M,activatorEvent:B,activeNodeRect:O,attributes:be,setNodeRef:Re,listeners:Z,isDragging:oe,over:pe,setActivatorNodeRef:ge,transform:Ue}=r3({id:u,data:ie,attributes:{...I3,...t},disabled:F.draggable}),j=HU(U,Re),J=!!M,le=J&&!N&&vf(T)&&vf(k),ce=!G&&oe,ve=ce&&le?Ue:null,xe=le?ve??(h??L)({rects:P,activeNodeRect:O,activeIndex:T,overIndex:k,index:Q}):null,Qe=vf(T)&&vf(k)?l({id:u,items:v,activeIndex:T,overIndex:k}):Q,Ve=M?.id,Ne=x.useRef({activeId:Ve,items:v,newIndex:Qe,containerId:_}),Yt=v!==Ne.current.items,_t=e({active:M,containerId:_,isDragging:oe,isSorting:J,id:u,index:Q,items:v,newIndex:Ne.current.newIndex,previousItems:Ne.current.items,previousContainerId:Ne.current.containerId,transition:g,wasDragging:Ne.current.activeId!=null}),Ut=D3({disabled:!_t,index:Q,node:S,rect:C});return x.useEffect(()=>{J&&Ne.current.newIndex!==Qe&&(Ne.current.newIndex=Qe),_!==Ne.current.containerId&&(Ne.current.containerId=_),v!==Ne.current.items&&(Ne.current.items=v)},[J,Qe,_,v]),x.useEffect(()=>{if(Ve===Ne.current.activeId)return;if(Ve!=null&&Ne.current.activeId==null){Ne.current.activeId=Ve;return}const fn=setTimeout(()=>{Ne.current.activeId=Ve},50);return()=>clearTimeout(fn)},[Ve]),{active:M,activeIndex:T,attributes:be,data:ie,rect:C,index:Q,newIndex:Qe,items:v,isOver:I,isSorting:J,isDragging:oe,listeners:Z,node:S,overIndex:k,over:pe,setNodeRef:j,setActivatorNodeRef:ge,setDroppableNodeRef:U,setDraggableNodeRef:Re,transform:Ut??xe,transition:at()};function at(){if(Ut||Yt&&Ne.current.newIndex===Q)return C3;if(!(ce&&!zh(B)||!g)&&(J||_t))return ls.Transition.toString({...g,property:F1})}}function N3(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(r=n?.droppable)!=null?r:e.droppable}}it.Down,it.Right,it.Up,it.Left;const k3=()=>{const{theme:n,toggleTheme:e}=SD();return D.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-plandala-surface border border-plandala-border hover:border-plandala-cyan-400 transition-all hover:glow-cyan","aria-label":"Toggle theme",children:n==="dark"?D.jsx(PU,{size:20,className:"text-plandala-cyan-400"}):D.jsx(wU,{size:20,className:"text-plandala-blue-500"})})},M3=()=>{const n=ds(),{userName:e,requestNameChange:t}=Rl(),r=[{path:"/",label:"Kanban",icon:kU},{path:"/testing",label:"Testing",icon:UU},{path:"/done",label:"Done",icon:hU}],s=l=>l==="/"?n.pathname==="/":n.pathname.startsWith(l);return D.jsx("nav",{className:"sticky top-0 z-40 glass-card border-b border-plandala-border",children:D.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"flex items-center justify-between h-16",children:[D.jsxs("div",{className:"flex items-center space-x-3",children:[D.jsx("div",{className:"text-2xl font-bold gradient-text",children:"Plandala"}),D.jsx("div",{className:"hidden sm:block text-sm text-plandala-muted",children:"Dev Team"})]}),D.jsx("div",{className:"flex items-center space-x-2",children:r.map(l=>{const u=l.icon,h=s(l.path);return D.jsxs(mv,{to:l.path,className:`
                    flex items-center space-x-2 px-4 py-2 rounded-lg transition-all
                    ${h?"bg-gradient-to-r from-plandala-cyan-400 to-plandala-magenta-500 text-white glow-cyan":"text-plandala-muted hover:text-plandala-text hover:bg-plandala-surface"}
                  `,children:[D.jsx(u,{size:18}),D.jsx("span",{className:"hidden sm:inline",children:l.label})]},l.path)})}),D.jsxs("div",{className:"flex items-center space-x-3",children:[e&&D.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-plandala-surface border border-plandala-border hover:border-plandala-cyan-400 transition-all text-sm",children:[D.jsx(v1,{size:16,className:"text-plandala-cyan-400"}),D.jsx("span",{className:"hidden sm:inline text-plandala-text",children:e})]}),D.jsx(k3,{})]})]})})})},Cy=({children:n,title:e,description:t})=>D.jsxs("div",{className:"min-h-screen bg-plandala-bg",children:[D.jsx(M3,{}),D.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(e||t)&&D.jsxs("div",{className:"mb-8",children:[e&&D.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:e}),t&&D.jsx("p",{className:"text-plandala-muted",children:t})]}),n]})]}),qh=({task:n,onClick:e})=>{const{attributes:t,listeners:r,setNodeRef:s,transform:l,transition:u,isDragging:h}=O3({id:n.id}),m={transform:ls.Transform.toString(l),transition:u,opacity:h?.5:1},g=v=>{switch(v){case"high_priority":return"border-plandala-magenta-400";case"in_progress":return"border-plandala-blue-400";case"not_started":return"border-plandala-cyan-400";case"testing":return"border-orange-400";case"done":return"border-green-400";default:return"border-plandala-border"}};return D.jsxs("div",{ref:s,style:m,className:`
        glass-card p-4 cursor-pointer
        hover:border-opacity-100 transition-all
        ${g(n.status)}
        ${h?"drag-overlay":""}
      `,onClick:e,children:[D.jsxs("div",{...t,...r,className:"flex items-start justify-between mb-2",children:[D.jsx("h3",{className:"text-plandala-text font-medium flex-1 pr-2",children:n.title}),D.jsx(mU,{size:16,className:"text-plandala-muted cursor-grab active:cursor-grabbing flex-shrink-0"})]}),n.description&&D.jsx("p",{className:"text-sm text-plandala-muted mb-3 line-clamp-2",children:n.description}),D.jsxs("div",{className:"flex items-center justify-between text-xs text-plandala-muted",children:[D.jsxs("div",{className:"flex items-center space-x-3",children:[n.metadata?.commentCount>0&&D.jsxs("div",{className:"flex items-center space-x-1",children:[D.jsx(EU,{size:14}),D.jsx("span",{children:n.metadata.commentCount})]}),n.metadata?.imageCount>0&&D.jsxs("div",{className:"flex items-center space-x-1",children:[D.jsx(vU,{size:14}),D.jsx("span",{children:n.metadata.imageCount})]})]}),n.assignedTo&&D.jsxs("div",{className:"flex items-center space-x-1 text-plandala-cyan-400",children:[D.jsx(v1,{size:14}),D.jsx("span",{children:n.assignedTo})]})]})]})},Iy=({id:n,title:e,tasks:t=[],onTaskClick:r,onAddTask:s,colorClass:l="text-plandala-cyan-400",columnClass:u="column-not-started"})=>{const{setNodeRef:h,isOver:m}=L1({id:n}),g=t.map(v=>v.id);return D.jsxs("div",{className:`glass-card p-6 ${u} flex flex-col h-full`,children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("h2",{className:`text-xl font-bold ${l}`,children:e}),D.jsx("span",{className:"text-sm text-plandala-muted bg-plandala-surface px-2 py-1 rounded",children:t.length})]}),D.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-plandala-surface transition-colors text-plandala-muted hover:text-plandala-text","aria-label":"Add task",children:D.jsx(RU,{size:20})})]}),D.jsx("div",{ref:h,className:`
          flex-1 space-y-3 overflow-y-auto
          ${m?"bg-plandala-surface/20 rounded-lg":""}
          transition-colors
        `,style:{minHeight:"200px"},children:D.jsx(x3,{items:g,strategy:T3,children:t.length===0?D.jsx("div",{className:"flex items-center justify-center h-32 text-plandala-muted text-sm",children:"No tasks yet"}):t.map(v=>D.jsx(qh,{task:v,onClick:()=>r(v)},v.id))})})]})},Lu=()=>{const{userName:n}=Rl(),[e,t]=x.useState(!1),[r,s]=x.useState(null);return{addTask:async v=>{try{t(!0),s(null);const _={title:v.title,description:v.description||"",status:v.status,page:v.page,assignedTo:v.assignedTo||null,createdBy:n||"Anonymous",imageUrls:v.imageUrls||[],order:v.order||Date.now()};return await eU(_)}catch(_){throw console.error("Error adding task:",_),s(_.message),_}finally{t(!1)}},editTask:async(v,_)=>{try{t(!0),s(null),await ug(v,_)}catch(T){throw console.error("Error updating task:",T),s(T.message),T}finally{t(!1)}},removeTask:async v=>{try{t(!0),s(null),await tU(v)}catch(_){throw console.error("Error deleting task:",_),s(_.message),_}finally{t(!1)}},moveTask:async(v,_,T)=>{try{t(!0),s(null);const A={};_!==void 0&&(A.status=_),T!==void 0&&(A.page=T),await ug(v,A)}catch(A){throw console.error("Error moving task:",A),s(A.message),A}finally{t(!1)}},reorderTasks:async v=>{try{t(!0),s(null);const _=v.map((T,A)=>ug(T.id,{order:A}));await Promise.all(_)}catch(_){throw console.error("Error reordering tasks:",_),s(_.message),_}finally{t(!1)}},loading:e,error:r}},vl=({size:n=24,className:e=""})=>D.jsx("div",{className:`flex items-center justify-center ${e}`,children:D.jsx(_U,{size:n,className:"animate-spin text-plandala-cyan-400"})}),Dy=()=>D.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[D.jsx(vl,{size:48}),D.jsx("p",{className:"mt-4 text-plandala-muted",children:"Loading..."})]});var mg={exports:{}},gg,hw;function P3(){if(hw)return gg;hw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gg=n,gg}var vg,pw;function V3(){if(pw)return vg;pw=1;var n=P3();function e(){}function t(){}return t.resetWarningCache=e,vg=function(){function r(u,h,m,g,v,_){if(_!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function s(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},vg}var mw;function U3(){return mw||(mw=1,mg.exports=V3()()),mg.exports}var L3=U3();const vt=lv(L3);function so(n,e,t,r){function s(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(v){try{g(r.next(v))}catch(_){u(_)}}function m(v){try{g(r.throw(v))}catch(_){u(_)}}function g(v){v.done?l(v.value):s(v.value).then(h,m)}g((r=r.apply(n,e||[])).next())})}const j3=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function yl(n,e,t){const r=z3(n),{webkitRelativePath:s}=n,l=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${n.name}`;return typeof r.path!="string"&&gw(r,"path",l),gw(r,"relativePath",l),r}function z3(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const r=e.split(".").pop().toLowerCase(),s=j3.get(r);s&&Object.defineProperty(n,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return n}function gw(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const B3=[".DS_Store","Thumbs.db"];function F3(n){return so(this,void 0,void 0,function*(){return lh(n)&&q3(n.dataTransfer)?$3(n.dataTransfer,n.type):H3(n)?G3(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?Y3(n):[]})}function q3(n){return lh(n)}function H3(n){return lh(n)&&lh(n.target)}function lh(n){return typeof n=="object"&&n!==null}function G3(n){return nv(n.target.files).map(e=>yl(e))}function Y3(n){return so(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>yl(t))})}function $3(n,e){return so(this,void 0,void 0,function*(){if(n.items){const t=nv(n.items).filter(s=>s.kind==="file");if(e!=="drop")return t;const r=yield Promise.all(t.map(K3));return vw(q1(r))}return vw(nv(n.files).map(t=>yl(t)))})}function vw(n){return n.filter(e=>B3.indexOf(e.name)===-1)}function nv(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const r=n[t];e.push(r)}return e}function K3(n){if(typeof n.webkitGetAsEntry!="function")return yw(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?H1(e):yw(n,e)}function q1(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?q1(t):[t]],[])}function yw(n,e){return so(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const l=yield n.getAsFileSystemHandle();if(l===null)throw new Error(`${n} is not a File`);if(l!==void 0){const u=yield l.getFile();return u.handle=l,yl(u)}}const r=n.getAsFile();if(!r)throw new Error(`${n} is not a File`);return yl(r,(t=e?.fullPath)!==null&&t!==void 0?t:void 0)})}function Q3(n){return so(this,void 0,void 0,function*(){return n.isDirectory?H1(n):X3(n)})}function H1(n){const e=n.createReader();return new Promise((t,r)=>{const s=[];function l(){e.readEntries(u=>so(this,void 0,void 0,function*(){if(u.length){const h=Promise.all(u.map(Q3));s.push(h),l()}else try{const h=yield Promise.all(s);t(h)}catch(h){r(h)}}),u=>{r(u)})}l()})}function X3(n){return so(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(r=>{const s=yl(r,n.fullPath);e(s)},r=>{t(r)})})})}var _f={},_w;function W3(){return _w||(_w=1,_f.__esModule=!0,_f.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",s=(n.type||"").toLowerCase(),l=s.replace(/\/.*$/,"");return t.some(function(u){var h=u.trim().toLowerCase();return h.charAt(0)==="."?r.toLowerCase().endsWith(h):h.endsWith("/*")?l===h.replace(/\/.*$/,""):s===h})}return!0}),_f}var J3=W3();const yg=lv(J3);function bw(n){return t6(n)||e6(n)||Y1(n)||Z3()}function Z3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e6(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function t6(n){if(Array.isArray(n))return iv(n)}function Ew(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Tw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ew(Object(t),!0).forEach(function(r){G1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ew(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function G1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fu(n,e){return r6(n)||i6(n,e)||Y1(n,e)||n6()}function n6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1(n,e){if(n){if(typeof n=="string")return iv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return iv(n,e)}}function iv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function i6(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],s=!0,l=!1,u,h;try{for(t=t.call(n);!(s=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));s=!0);}catch(m){l=!0,h=m}finally{try{!s&&t.return!=null&&t.return()}finally{if(l)throw h}}return r}}function r6(n){if(Array.isArray(n))return n}var a6=typeof yg=="function"?yg:yg.default,s6="file-invalid-type",o6="file-too-large",l6="file-too-small",c6="too-many-files",u6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:s6,message:"File type must be ".concat(r)}},ww=function(e){return{code:o6,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},xw=function(e){return{code:l6,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},d6={code:c6,message:"Too many files"};function f6(n){return n.type===""&&typeof n.getAsFile=="function"}function $1(n,e){var t=n.type==="application/x-moz-file"||a6(n,e)||f6(n);return[t,t?null:u6(e)]}function K1(n,e,t){if(Fs(n.size))if(Fs(e)&&Fs(t)){if(n.size>t)return[!1,ww(t)];if(n.size<e)return[!1,xw(e)]}else{if(Fs(e)&&n.size<e)return[!1,xw(e)];if(Fs(t)&&n.size>t)return[!1,ww(t)]}return[!0,null]}function Fs(n){return n!=null}function h6(n){var e=n.files,t=n.accept,r=n.minSize,s=n.maxSize,l=n.multiple,u=n.maxFiles,h=n.validator;return!l&&e.length>1||l&&u>=1&&e.length>u?!1:e.every(function(m){var g=$1(m,t),v=fu(g,1),_=v[0],T=K1(m,r,s),A=fu(T,1),N=A[0],P=h?h(m):null;return _&&N&&!P})}function ch(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function kc(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function Sw(n){n.preventDefault()}function p6(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function m6(n){return n.indexOf("Edge/")!==-1}function g6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return p6(n)||m6(n)}function _r(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];return e.some(function(h){return!ch(r)&&h&&h.apply(void 0,[r].concat(l)),ch(r)})}}function v6(){return"showOpenFilePicker"in window}function y6(n){if(Fs(n)){var e=Object.entries(n).filter(function(t){var r=fu(t,2),s=r[0],l=r[1],u=!0;return Q1(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),u=!1),(!Array.isArray(l)||!l.every(X1))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),u=!1),u}).reduce(function(t,r){var s=fu(r,2),l=s[0],u=s[1];return Tw(Tw({},t),{},G1({},l,u))},{});return[{description:"Files",accept:e}]}return n}function _6(n){if(Fs(n))return Object.entries(n).reduce(function(e,t){var r=fu(t,2),s=r[0],l=r[1];return[].concat(bw(e),[s],bw(l))},[]).filter(function(e){return Q1(e)||X1(e)}).join(",")}function b6(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function E6(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function Q1(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function X1(n){return/^.*\.[\w]+$/.test(n)}var T6=["children"],w6=["open"],x6=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],S6=["refKey","onChange","onClick"];function Aw(n){return C6(n)||R6(n)||W1(n)||A6()}function A6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R6(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function C6(n){if(Array.isArray(n))return rv(n)}function _g(n,e){return O6(n)||D6(n,e)||W1(n,e)||I6()}function I6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1(n,e){if(n){if(typeof n=="string")return rv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rv(n,e)}}function rv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function D6(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],s=!0,l=!1,u,h;try{for(t=t.call(n);!(s=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));s=!0);}catch(m){l=!0,h=m}finally{try{!s&&t.return!=null&&t.return()}finally{if(l)throw h}}return r}}function O6(n){if(Array.isArray(n))return n}function Rw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rw(Object(t),!0).forEach(function(r){av(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function av(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uh(n,e){if(n==null)return{};var t=N6(n,e),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)r=l[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function N6(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,l;for(l=0;l<r.length;l++)s=r[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var Oy=x.forwardRef(function(n,e){var t=n.children,r=uh(n,T6),s=Z1(r),l=s.open,u=uh(s,w6);return x.useImperativeHandle(e,function(){return{open:l}},[l]),It.createElement(x.Fragment,null,t(Tt(Tt({},u),{},{open:l})))});Oy.displayName="Dropzone";var J1={disabled:!1,getFilesFromEvent:F3,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Oy.defaultProps=J1;Oy.propTypes={children:vt.func,accept:vt.objectOf(vt.arrayOf(vt.string)),multiple:vt.bool,preventDropOnDocument:vt.bool,noClick:vt.bool,noKeyboard:vt.bool,noDrag:vt.bool,noDragEventsBubbling:vt.bool,minSize:vt.number,maxSize:vt.number,maxFiles:vt.number,disabled:vt.bool,getFilesFromEvent:vt.func,onFileDialogCancel:vt.func,onFileDialogOpen:vt.func,useFsAccessApi:vt.bool,autoFocus:vt.bool,onDragEnter:vt.func,onDragLeave:vt.func,onDragOver:vt.func,onDrop:vt.func,onDropAccepted:vt.func,onDropRejected:vt.func,onError:vt.func,validator:vt.func};var sv={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,isDragGlobal:!1,acceptedFiles:[],fileRejections:[]};function Z1(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Tt(Tt({},J1),n),t=e.accept,r=e.disabled,s=e.getFilesFromEvent,l=e.maxSize,u=e.minSize,h=e.multiple,m=e.maxFiles,g=e.onDragEnter,v=e.onDragLeave,_=e.onDragOver,T=e.onDrop,A=e.onDropAccepted,N=e.onDropRejected,P=e.onFileDialogCancel,k=e.onFileDialogOpen,G=e.useFsAccessApi,L=e.autoFocus,F=e.preventDropOnDocument,Q=e.noClick,ie=e.noKeyboard,te=e.noDrag,C=e.noDragEventsBubbling,S=e.onError,I=e.validator,U=x.useMemo(function(){return _6(t)},[t]),M=x.useMemo(function(){return y6(t)},[t]),B=x.useMemo(function(){return typeof k=="function"?k:Cw},[k]),O=x.useMemo(function(){return typeof P=="function"?P:Cw},[P]),be=x.useRef(null),Re=x.useRef(null),Z=x.useReducer(k6,sv),oe=_g(Z,2),pe=oe[0],ge=oe[1],Ue=pe.isFocused,j=pe.isFileDialogActive,J=x.useRef(typeof window<"u"&&window.isSecureContext&&G&&v6()),le=function(){!J.current&&j&&setTimeout(function(){if(Re.current){var Ee=Re.current.files;Ee.length||(ge({type:"closeDialog"}),O())}},300)};x.useEffect(function(){return window.addEventListener("focus",le,!1),function(){window.removeEventListener("focus",le,!1)}},[Re,j,O,J]);var ce=x.useRef([]),ve=x.useRef([]),ye=function(Ee){be.current&&be.current.contains(Ee.target)||(Ee.preventDefault(),ce.current=[])};x.useEffect(function(){return F&&(document.addEventListener("dragover",Sw,!1),document.addEventListener("drop",ye,!1)),function(){F&&(document.removeEventListener("dragover",Sw),document.removeEventListener("drop",ye))}},[be,F]),x.useEffect(function(){var ue=function(mn){ve.current=[].concat(Aw(ve.current),[mn.target]),kc(mn)&&ge({isDragGlobal:!0,type:"setDragGlobal"})},Ee=function(mn){ve.current=ve.current.filter(function(Dt){return Dt!==mn.target&&Dt!==null}),!(ve.current.length>0)&&ge({isDragGlobal:!1,type:"setDragGlobal"})},Be=function(){ve.current=[],ge({isDragGlobal:!1,type:"setDragGlobal"})},Fe=function(){ve.current=[],ge({isDragGlobal:!1,type:"setDragGlobal"})};return document.addEventListener("dragenter",ue,!1),document.addEventListener("dragleave",Ee,!1),document.addEventListener("dragend",Be,!1),document.addEventListener("drop",Fe,!1),function(){document.removeEventListener("dragenter",ue),document.removeEventListener("dragleave",Ee),document.removeEventListener("dragend",Be),document.removeEventListener("drop",Fe)}},[be]),x.useEffect(function(){return!r&&L&&be.current&&be.current.focus(),function(){}},[be,L,r]);var xe=x.useCallback(function(ue){S?S(ue):console.error(ue)},[S]),Qe=x.useCallback(function(ue){ue.preventDefault(),ue.persist(),pn(ue),ce.current=[].concat(Aw(ce.current),[ue.target]),kc(ue)&&Promise.resolve(s(ue)).then(function(Ee){if(!(ch(ue)&&!C)){var Be=Ee.length,Fe=Be>0&&h6({files:Ee,accept:U,minSize:u,maxSize:l,multiple:h,maxFiles:m,validator:I}),mt=Be>0&&!Fe;ge({isDragAccept:Fe,isDragReject:mt,isDragActive:!0,type:"setDraggedFiles"}),g&&g(ue)}}).catch(function(Ee){return xe(Ee)})},[s,g,xe,C,U,u,l,h,m,I]),Ve=x.useCallback(function(ue){ue.preventDefault(),ue.persist(),pn(ue);var Ee=kc(ue);if(Ee&&ue.dataTransfer)try{ue.dataTransfer.dropEffect="copy"}catch{}return Ee&&_&&_(ue),!1},[_,C]),Ne=x.useCallback(function(ue){ue.preventDefault(),ue.persist(),pn(ue);var Ee=ce.current.filter(function(Fe){return be.current&&be.current.contains(Fe)}),Be=Ee.indexOf(ue.target);Be!==-1&&Ee.splice(Be,1),ce.current=Ee,!(Ee.length>0)&&(ge({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),kc(ue)&&v&&v(ue))},[be,v,C]),Yt=x.useCallback(function(ue,Ee){var Be=[],Fe=[];ue.forEach(function(mt){var mn=$1(mt,U),Dt=_g(mn,2),Vi=Dt[0],Tn=Dt[1],Ot=K1(mt,u,l),Lt=_g(Ot,2),ut=Lt[0],er=Lt[1],si=I?I(mt):null;if(Vi&&ut&&!si)Be.push(mt);else{var tr=[Tn,er];si&&(tr=tr.concat(si)),Fe.push({file:mt,errors:tr.filter(function(Kn){return Kn})})}}),(!h&&Be.length>1||h&&m>=1&&Be.length>m)&&(Be.forEach(function(mt){Fe.push({file:mt,errors:[d6]})}),Be.splice(0)),ge({acceptedFiles:Be,fileRejections:Fe,type:"setFiles"}),T&&T(Be,Fe,Ee),Fe.length>0&&N&&N(Fe,Ee),Be.length>0&&A&&A(Be,Ee)},[ge,h,U,u,l,m,T,A,N,I]),_t=x.useCallback(function(ue){ue.preventDefault(),ue.persist(),pn(ue),ce.current=[],kc(ue)&&Promise.resolve(s(ue)).then(function(Ee){ch(ue)&&!C||Yt(Ee,ue)}).catch(function(Ee){return xe(Ee)}),ge({type:"reset"})},[s,Yt,xe,C]),Ut=x.useCallback(function(){if(J.current){ge({type:"openDialog"}),B();var ue={multiple:h,types:M};window.showOpenFilePicker(ue).then(function(Ee){return s(Ee)}).then(function(Ee){Yt(Ee,null),ge({type:"closeDialog"})}).catch(function(Ee){b6(Ee)?(O(Ee),ge({type:"closeDialog"})):E6(Ee)?(J.current=!1,Re.current?(Re.current.value=null,Re.current.click()):xe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):xe(Ee)});return}Re.current&&(ge({type:"openDialog"}),B(),Re.current.value=null,Re.current.click())},[ge,B,O,G,Yt,xe,M,h]),at=x.useCallback(function(ue){!be.current||!be.current.isEqualNode(ue.target)||(ue.key===" "||ue.key==="Enter"||ue.keyCode===32||ue.keyCode===13)&&(ue.preventDefault(),Ut())},[be,Ut]),fn=x.useCallback(function(){ge({type:"focus"})},[]),$t=x.useCallback(function(){ge({type:"blur"})},[]),hn=x.useCallback(function(){Q||(g6()?setTimeout(Ut,0):Ut())},[Q,Ut]),ln=function(Ee){return r?null:Ee},Xe=function(Ee){return ie?null:ln(Ee)},Je=function(Ee){return te?null:ln(Ee)},pn=function(Ee){C&&Ee.stopPropagation()},Zi=x.useMemo(function(){return function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ee=ue.refKey,Be=Ee===void 0?"ref":Ee,Fe=ue.role,mt=ue.onKeyDown,mn=ue.onFocus,Dt=ue.onBlur,Vi=ue.onClick,Tn=ue.onDragEnter,Ot=ue.onDragOver,Lt=ue.onDragLeave,ut=ue.onDrop,er=uh(ue,x6);return Tt(Tt(av({onKeyDown:Xe(_r(mt,at)),onFocus:Xe(_r(mn,fn)),onBlur:Xe(_r(Dt,$t)),onClick:ln(_r(Vi,hn)),onDragEnter:Je(_r(Tn,Qe)),onDragOver:Je(_r(Ot,Ve)),onDragLeave:Je(_r(Lt,Ne)),onDrop:Je(_r(ut,_t)),role:typeof Fe=="string"&&Fe!==""?Fe:"presentation"},Be,be),!r&&!ie?{tabIndex:0}:{}),er)}},[be,at,fn,$t,hn,Qe,Ve,Ne,_t,ie,te,r]),Dr=x.useCallback(function(ue){ue.stopPropagation()},[]),Kt=x.useMemo(function(){return function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ee=ue.refKey,Be=Ee===void 0?"ref":Ee,Fe=ue.onChange,mt=ue.onClick,mn=uh(ue,S6),Dt=av({accept:U,multiple:h,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ln(_r(Fe,_t)),onClick:ln(_r(mt,Dr)),tabIndex:-1},Be,Re);return Tt(Tt({},Dt),mn)}},[Re,t,h,_t,r]);return Tt(Tt({},pe),{},{isFocused:Ue&&!r,getRootProps:Zi,getInputProps:Kt,rootRef:be,inputRef:Re,open:ln(Ut)})}function k6(n,e){switch(e.type){case"focus":return Tt(Tt({},n),{},{isFocused:!0});case"blur":return Tt(Tt({},n),{},{isFocused:!1});case"openDialog":return Tt(Tt({},sv),{},{isFileDialogActive:!0});case"closeDialog":return Tt(Tt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Tt(Tt({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Tt(Tt({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:!1});case"setDragGlobal":return Tt(Tt({},n),{},{isDragGlobal:e.isDragGlobal});case"reset":return Tt({},sv);default:return n}}function Cw(){}const bg=n=>{if(!gl)return`Firebase Storage not configured: ${c1()}`;switch(n.code){case"storage/unauthorized":case"storage/permission-denied":return"Permission denied. Firebase Storage security rules may need to be configured.";case"storage/canceled":return"Upload was canceled.";case"storage/retry-limit-exceeded":return"Upload failed after multiple retries. Please check your internet connection.";case"storage/quota-exceeded":return"Storage quota exceeded.";default:return n.message||"Upload failed. Please try again."}},Iw=(n,e,t)=>new Promise((r,s)=>{if(!gl||!Wg){s(new Error(bg({code:"storage/not-configured"})));return}const l=qV(Wg,e),u=BV(l,n);let h=Date.now();const m=3e4,g=setInterval(()=>{Date.now()-h>m&&(clearInterval(g),u.cancel(),s(new Error("Upload timeout - no progress for 30 seconds")))},5e3);u.on("state_changed",v=>{const _=v.bytesTransferred/v.totalBytes*100;h=Date.now(),t&&t(_)},v=>{clearInterval(g);const _=bg(v);console.error("Upload error:",v),s(new Error(_))},async()=>{clearInterval(g);try{const v=await FV(u.snapshot.ref);r(v)}catch(v){s(new Error(bg(v)))}})}),Dw=(n,e)=>{const t=Date.now(),r=Math.random().toString(36).substring(2,9),s=e.split(".").pop();return`${n}/IMG_${t}_${r}.${s}`};function Ow(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function bf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ow(Object(t),!0).forEach(function(r){V6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ow(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function M6(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Nw(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eR(r.key),r)}}function P6(n,e,t){return e&&Nw(n.prototype,e),t&&Nw(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function V6(n,e,t){return e=eR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dh(){return dh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dh.apply(this,arguments)}function U6(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function eR(n){var e=U6(n,"string");return typeof e=="symbol"?e:String(e)}var tR={exports:{}};(function(n){typeof window>"u"||(function(e){var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&(function(){try{return!!new Blob}catch{return!1}})(),s=r&&e.Uint8Array&&(function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}})(),l=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,h=(r||l)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(m){var g,v,_,T,A,N,P,k,G;if(g=m.match(u),!g)throw new Error("invalid data URI");for(v=g[2]?g[1]:"text/plain"+(g[3]||";charset=US-ASCII"),_=!!g[4],T=m.slice(g[0].length),_?A=atob(T):A=decodeURIComponent(T),N=new ArrayBuffer(A.length),P=new Uint8Array(N),k=0;k<A.length;k+=1)P[k]=A.charCodeAt(k);return r?new Blob([s?P:N],{type:v}):(G=new l,G.append(N),G.getBlob(v))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(m,g,v){var _=this;setTimeout(function(){v&&t.toDataURL&&h?m(h(_.toDataURL(g,v))):m(_.mozGetAsFile("blob",g))})}:t.toDataURL&&h&&(t.msToBlob?t.toBlob=function(m,g,v){var _=this;setTimeout(function(){(g&&g!=="image/png"||v)&&t.toDataURL&&h?m(h(_.toDataURL(g,v))):m(_.msToBlob(g))})}:t.toBlob=function(m,g,v){var _=this;setTimeout(function(){m(h(_.toDataURL(g,v)))})})),n.exports?n.exports=h:e.dataURLtoBlob=h})(window)})(tR);var kw=tR.exports,L6=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},Mw={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},j6=typeof window<"u"&&typeof window.document<"u",cs=j6?window:{},fh=function(e){return e>0&&e<1/0},z6=Array.prototype.slice;function Ny(n){return Array.from?Array.from(n):z6.call(n)}var B6=/^image\/.+$/;function ov(n){return B6.test(n)}function F6(n){var e=ov(n)?n.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var nR=String.fromCharCode;function q6(n,e,t){var r="",s;for(t+=e,s=e;s<t;s+=1)r+=nR(n.getUint8(s));return r}var H6=cs.btoa;function Pw(n,e){for(var t=[],r=8192,s=new Uint8Array(n);s.length>0;)t.push(nR.apply(null,Ny(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(H6(t.join("")))}function G6(n){var e=new DataView(n),t;try{var r,s,l;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var u=e.byteLength,h=2;h+1<u;){if(e.getUint8(h)===255&&e.getUint8(h+1)===225){s=h;break}h+=1}if(s){var m=s+4,g=s+10;if(q6(e,m,4)==="Exif"){var v=e.getUint16(g);if(r=v===18761,(r||v===19789)&&e.getUint16(g+2,r)===42){var _=e.getUint32(g+4,r);_>=8&&(l=g+_)}}}if(l){var T=e.getUint16(l,r),A,N;for(N=0;N<T;N+=1)if(A=l+N*12+2,e.getUint16(A,r)===274){A+=8,t=e.getUint16(A,r),e.setUint16(A,1,r);break}}}catch{t=1}return t}function Y6(n){var e=0,t=1,r=1;switch(n){case 2:t=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:r}}var $6=/\.\d*(?:0|9){12}\d*$/;function Vw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return $6.test(n)?Math.round(n*e)/e:n}function Mc(n){var e=n.aspectRatio,t=n.height,r=n.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",l=fh(r),u=fh(t);if(l&&u){var h=t*e;(s==="contain"||s==="none")&&h>r||s==="cover"&&h<r?t=r/e:r=t*e}else l?t=r/e:u&&(r=t*e);return{width:r,height:t}}function K6(n){for(var e=Ny(new Uint8Array(n)),t=e.length,r=[],s=0;s+3<t;){var l=e[s],u=e[s+1];if(l===255&&u===218)break;if(l===255&&u===216)s+=2;else{var h=e[s+2]*256+e[s+3],m=s+h+2,g=e.slice(s,m);r.push(g),s=m}}return r.reduce(function(v,_){return _[0]===255&&_[1]===225?v.concat(_):v},[])}function Q6(n,e){var t=Ny(new Uint8Array(n));if(t[2]!==255||t[3]!==224)return n;var r=t[4]*256+t[5],s=[255,216].concat(e,t.slice(4+r));return new Uint8Array(s)}var X6=cs.ArrayBuffer,Eg=cs.FileReader,js=cs.URL||cs.webkitURL,W6=/\.\w+$/,J6=cs.Compressor,Z6=(function(){function n(e,t){M6(this,n),this.file=e,this.exif=[],this.image=new Image,this.options=bf(bf({},Mw),t),this.aborted=!1,this.result=null,this.init()}return P6(n,[{key:"init",value:function(){var t=this,r=this.file,s=this.options;if(!L6(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var l=r.type;if(!ov(l)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!js||!Eg){this.fail(new Error("The current browser does not support image compression."));return}X6||(s.checkOrientation=!1,s.retainExif=!1);var u=l==="image/jpeg",h=u&&s.checkOrientation,m=u&&s.retainExif;if(js&&!h&&!m)this.load({url:js.createObjectURL(r)});else{var g=new Eg;this.reader=g,g.onload=function(v){var _=v.target,T=_.result,A={},N=1;h&&(N=G6(T),N>1&&dh(A,Y6(N))),m&&(t.exif=K6(T)),h||m?!js||N>1?A.url=Pw(T,l):A.url=js.createObjectURL(r):A.url=T,t.load(A)},g.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},g.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},g.onloadend=function(){t.reader=null},h||m?g.readAsArrayBuffer(r):g.readAsDataURL(r)}}},{key:"load",value:function(t){var r=this,s=this.file,l=this.image;l.onload=function(){r.draw(bf(bf({},t),{},{naturalWidth:l.naturalWidth,naturalHeight:l.naturalHeight}))},l.onabort=function(){r.fail(new Error("Aborted to load the image."))},l.onerror=function(){r.fail(new Error("Failed to load the image."))},cs.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(cs.navigator.userAgent)&&(l.crossOrigin="anonymous"),l.alt=s.name,l.src=t.url}},{key:"draw",value:function(t){var r=this,s=t.naturalWidth,l=t.naturalHeight,u=t.rotate,h=u===void 0?0:u,m=t.scaleX,g=m===void 0?1:m,v=t.scaleY,_=v===void 0?1:v,T=this.file,A=this.image,N=this.options,P=document.createElement("canvas"),k=P.getContext("2d"),G=Math.abs(h)%180===90,L=(N.resize==="contain"||N.resize==="cover")&&fh(N.width)&&fh(N.height),F=Math.max(N.maxWidth,0)||1/0,Q=Math.max(N.maxHeight,0)||1/0,ie=Math.max(N.minWidth,0)||0,te=Math.max(N.minHeight,0)||0,C=s/l,S=N.width,I=N.height;if(G){var U=[Q,F];F=U[0],Q=U[1];var M=[te,ie];ie=M[0],te=M[1];var B=[I,S];S=B[0],I=B[1]}L&&(C=S/I);var O=Mc({aspectRatio:C,width:F,height:Q},"contain");F=O.width,Q=O.height;var be=Mc({aspectRatio:C,width:ie,height:te},"cover");if(ie=be.width,te=be.height,L){var Re=Mc({aspectRatio:C,width:S,height:I},N.resize);S=Re.width,I=Re.height}else{var Z=Mc({aspectRatio:C,width:S,height:I}),oe=Z.width;S=oe===void 0?s:oe;var pe=Z.height;I=pe===void 0?l:pe}S=Math.floor(Vw(Math.min(Math.max(S,ie),F))),I=Math.floor(Vw(Math.min(Math.max(I,te),Q)));var ge=-S/2,Ue=-I/2,j=S,J=I,le=[];if(L){var ce=0,ve=0,ye=s,xe=l,Qe=Mc({aspectRatio:C,width:s,height:l},{contain:"cover",cover:"contain"}[N.resize]);ye=Qe.width,xe=Qe.height,ce=(s-ye)/2,ve=(l-xe)/2,le.push(ce,ve,ye,xe)}if(le.push(ge,Ue,j,J),G){var Ve=[I,S];S=Ve[0],I=Ve[1]}P.width=S,P.height=I,ov(N.mimeType)||(N.mimeType=T.type);var Ne="transparent";T.size>N.convertSize&&N.convertTypes.indexOf(N.mimeType)>=0&&(N.mimeType="image/jpeg");var Yt=N.mimeType==="image/jpeg";if(Yt&&(Ne="#fff"),k.fillStyle=Ne,k.fillRect(0,0,S,I),N.beforeDraw&&N.beforeDraw.call(this,k,P),!this.aborted&&(k.save(),k.translate(S/2,I/2),k.rotate(h*Math.PI/180),k.scale(g,_),k.drawImage.apply(k,[A].concat(le)),k.restore(),N.drew&&N.drew.call(this,k,P),!this.aborted)){var _t=function(at){if(!r.aborted){var fn=function(Xe){return r.done({naturalWidth:s,naturalHeight:l,result:Xe})};if(at&&Yt&&N.retainExif&&r.exif&&r.exif.length>0){var $t=function(Xe){return fn(kw(Pw(Q6(Xe,r.exif),N.mimeType)))};if(at.arrayBuffer)at.arrayBuffer().then($t).catch(function(){r.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var hn=new Eg;r.reader=hn,hn.onload=function(ln){var Xe=ln.target;$t(Xe.result)},hn.onabort=function(){r.fail(new Error("Aborted to read the compressed image with FileReader."))},hn.onerror=function(){r.fail(new Error("Failed to read the compressed image with FileReader."))},hn.onloadend=function(){r.reader=null},hn.readAsArrayBuffer(at)}}else fn(at)}};P.toBlob?P.toBlob(_t,N.mimeType,N.quality):_t(kw(P.toDataURL(N.mimeType,N.quality)))}}},{key:"done",value:function(t){var r=t.naturalWidth,s=t.naturalHeight,l=t.result,u=this.file,h=this.image,m=this.options;if(js&&h.src.indexOf("blob:")===0&&js.revokeObjectURL(h.src),l)if(m.strict&&!m.retainExif&&l.size>u.size&&m.mimeType===u.type&&!(m.width>r||m.height>s||m.minWidth>r||m.minHeight>s||m.maxWidth<r||m.maxHeight<s))l=u;else{var g=new Date;l.lastModified=g.getTime(),l.lastModifiedDate=g,l.name=u.name,l.name&&l.type!==u.type&&(l.name=l.name.replace(W6,F6(l.type)))}else l=u;this.result=l,m.success&&m.success.call(this,l)}},{key:"fail",value:function(t){var r=this.options;if(r.error)r.error.call(this,t);else throw t}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=J6,n}},{key:"setDefaults",value:function(t){dh(Mw,t)}}]),n})();const Uw=(n,e={})=>new Promise((t,r)=>{new Z6(n,{quality:e.quality||.8,maxWidth:e.maxWidth||1920,maxHeight:e.maxHeight||1080,mimeType:"image/jpeg",convertSize:1e6,success:s=>{t(s)},error:s=>{console.error("Compression error:",s),r(s)}})}),Lw=n=>{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type))throw new Error("Invalid file type. Please upload an image (JPEG, PNG, GIF, WebP)");if(n.size>5242880)throw new Error("File size too large. Maximum size is 5MB");return!0},ej=async n=>{const e=n.items;for(let t=0;t<e.length;t++)if(e[t].type.indexOf("image")!==-1)return e[t].getAsFile();return null},tj=()=>{const[n,e]=x.useState(!1),[t,r]=x.useState(0),[s,l]=x.useState(null),u=x.useCallback(async(g,v)=>{try{e(!0),r(0),l(null),Lw(g);const _=await Uw(g),T=Dw(v,g.name);return await Iw(_,T,N=>{r(N)})}catch(_){throw console.error("Upload error:",_),l(_.message),_}finally{e(!1),r(0)}},[]),h=x.useCallback(async(g,v)=>{try{e(!0),r(0),l(null);const _=Array.from(g),T=[],A=[];for(let N=0;N<_.length;N++){const P=_[N];try{Lw(P);const k=await Uw(P),G=Dw(v,P.name),L=await Iw(k,G,F=>{const Q=N,ie=F/100,te=(Q+ie)/_.length*100;r(te)});T.push(L)}catch(k){console.error(`Failed to upload ${P.name}:`,k),A.push({file:P.name,error:k.message})}}if(A.length>0){const N=A.length===_.length?`All uploads failed: ${A[0].error}`:`${A.length} of ${_.length} uploads failed`;if(l(N),T.length===0)throw new Error(N)}return T}catch(_){throw console.error("Upload error:",_),l(_.message),_}finally{e(!1),r(0)}},[]);return{uploadSingleImage:u,uploadMultipleImages:h,uploading:n,progress:t,error:s,resetUpload:()=>{e(!1),r(0),l(null)}}},iR=({onImagesUploaded:n,onImageRemoved:e,existingImages:t=[],folder:r="task-images"})=>{const{uploadMultipleImages:s,uploading:l,progress:u,error:h}=tj(),[m,g]=x.useState([]),[v,_]=x.useState([]),[T,A]=x.useState(null),N=x.useRef(null),P=x.useCallback(async Q=>{if(Q.length===0||!gl)return;const ie=Q.map(te=>URL.createObjectURL(te));g(ie);try{const te=await s(Q,r);n&&n(te),ie.forEach(C=>URL.revokeObjectURL(C)),g([])}catch(te){console.error("Upload failed:",te),ie.forEach(C=>URL.revokeObjectURL(C)),g([])}},[s,r,n]);x.useEffect(()=>{gl||A(c1())},[]),x.useEffect(()=>{N.current=P},[P]);const{getRootProps:k,getInputProps:G,isDragActive:L}=Z1({onDrop:P,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,disabled:l});x.useEffect(()=>{const Q=async ie=>{const te=await ej(ie.clipboardData);te&&N.current&&(ie.preventDefault(),N.current([te]))};return window.addEventListener("paste",Q),()=>{window.removeEventListener("paste",Q)}},[]),x.useEffect(()=>()=>{m.forEach(Q=>URL.revokeObjectURL(Q))},[m]);const F=Q=>{_(ie=>[...ie,Q]),e&&e(Q)};return D.jsxs("div",{className:"space-y-3",children:[T&&D.jsxs("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 text-sm",children:[D.jsx("strong",{children:"Firebase Configuration Error:"})," ",T,D.jsx("br",{}),D.jsx("span",{className:"text-xs opacity-80",children:"Check your .env file for Firebase environment variables."})]}),D.jsxs("div",{...k(),className:`
          border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all
          ${T?"opacity-30 cursor-not-allowed":""}
          ${L?"border-plandala-cyan-400 bg-plandala-cyan-400/10":"border-plandala-border hover:border-plandala-cyan-400"}
          ${l?"opacity-50 cursor-not-allowed":""}
        `,children:[D.jsx("input",{...G()}),D.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[D.jsx(zU,{size:32,className:L?"text-plandala-cyan-400":"text-plandala-muted"}),D.jsx("div",{className:"text-sm text-plandala-muted",children:L?D.jsx("p",{children:"Drop images here..."}):D.jsxs(D.Fragment,{children:[D.jsx("p",{children:"Drag & drop images, or click to select"}),D.jsx("p",{className:"text-xs mt-1",children:"You can also paste images from clipboard"})]})})]})]}),l&&D.jsxs("div",{className:"glass-card p-4",children:[D.jsxs("div",{className:"flex items-center justify-between mb-2",children:[D.jsx("span",{className:"text-sm text-plandala-text",children:"Uploading images..."}),D.jsxs("span",{className:"text-sm text-plandala-cyan-400",children:[Math.round(u),"%"]})]}),D.jsx("div",{className:"w-full bg-plandala-surface rounded-full h-2",children:D.jsx("div",{className:"bg-gradient-to-r from-plandala-cyan-400 to-plandala-magenta-500 h-2 rounded-full transition-all",style:{width:`${u}%`}})})]}),h&&D.jsxs("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm space-y-1",children:[D.jsx("div",{className:"font-semibold",children:"Upload Error"}),D.jsx("div",{children:h}),h.includes("Permission denied")&&D.jsx("div",{className:"text-xs mt-2 opacity-80",children:"This usually means Firebase Storage security rules need to be configured."})]}),m.length>0&&D.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:m.map((Q,ie)=>D.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden",children:[D.jsx("img",{src:Q,alt:`Uploading ${ie+1}`,className:"w-full h-full object-cover opacity-50"}),D.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:D.jsx(vl,{size:24})})]},ie))}),t.filter(Q=>!v.includes(Q)).length>0&&D.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:t.filter(Q=>!v.includes(Q)).map((Q,ie)=>D.jsxs("div",{className:"relative group aspect-video rounded-lg overflow-hidden",children:[D.jsx("img",{src:Q,alt:`Existing ${ie+1}`,className:"w-full h-full object-cover"}),D.jsx("button",{onClick:()=>F(Q),className:"absolute top-2 right-2 p-1 rounded-full bg-black/60 text-white opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:D.jsx(Ou,{size:16})})]},`existing-${ie}`))})]})},Hh=({task:n=null,onClose:e,onSave:t,defaultStatus:r,defaultPage:s})=>{const{addTask:l,editTask:u,loading:h}=Lu(),{userName:m}=Rl(),[g,v]=x.useState({title:n?.title||"",description:n?.description||"",assignedTo:n?.assignedTo||"",status:n?.status||r||"not_started",page:n?.page||s||"kanban",imageUrls:n?.imageUrls||[]}),[_,T]=x.useState(""),A=[{value:"high_priority",label:"High Priority",page:"kanban"},{value:"in_progress",label:"In Progress",page:"kanban"},{value:"not_started",label:"Not Started",page:"kanban"},{value:"testing",label:"Testing",page:"testing"},{value:"done",label:"Done",page:"done"}],N=async L=>{if(L.preventDefault(),T(""),!g.title.trim()){T("Task title is required");return}try{const F=A.find(ie=>ie.value===g.status),Q={...g,page:F?.page||g.page};n?await u(n.id,Q):await l(Q),t&&t(),e&&e()}catch(F){T(F.message||"Failed to save task")}},P=(L,F)=>{v(Q=>({...Q,[L]:F}))},k=x.useCallback(L=>{v(F=>({...F,imageUrls:[...F.imageUrls,...L]}))},[]),G=x.useCallback(L=>{v(F=>({...F,imageUrls:F.imageUrls.filter(Q=>Q!==L)}))},[]);return D.jsxs("form",{onSubmit:N,className:"space-y-4",children:[_&&D.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:_}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-plandala-text mb-2",children:"Task Title *"}),D.jsx("input",{type:"text",id:"title",value:g.title,onChange:L=>P("title",L.target.value),placeholder:"Enter task title",className:"w-full px-4 py-3 rounded-lg bg-plandala-surface border border-plandala-border text-plandala-text placeholder-plandala-muted focus:outline-none focus:border-plandala-cyan-400 transition-colors",autoFocus:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-plandala-text mb-2",children:"Description"}),D.jsx("textarea",{id:"description",value:g.description,onChange:L=>P("description",L.target.value),placeholder:"Enter task description",rows:4,className:"w-full px-4 py-3 rounded-lg bg-plandala-surface border border-plandala-border text-plandala-text placeholder-plandala-muted focus:outline-none focus:border-plandala-cyan-400 transition-colors resize-none"})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-plandala-text mb-2",children:"Status"}),D.jsx("select",{id:"status",value:g.status,onChange:L=>P("status",L.target.value),className:"w-full px-4 py-3 rounded-lg bg-plandala-surface border border-plandala-border text-plandala-text focus:outline-none focus:border-plandala-cyan-400 transition-colors",children:A.map(L=>D.jsx("option",{value:L.value,children:L.label},L.value))})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-plandala-text mb-2",children:"Assign To"}),D.jsx("input",{type:"text",id:"assignedTo",value:g.assignedTo,onChange:L=>P("assignedTo",L.target.value),placeholder:"Enter assignee name",className:"w-full px-4 py-3 rounded-lg bg-plandala-surface border border-plandala-border text-plandala-text placeholder-plandala-muted focus:outline-none focus:border-plandala-cyan-400 transition-colors"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-plandala-text mb-2",children:n?"Manage Images":"Attach Images"}),D.jsx(iR,{onImagesUploaded:k,onImageRemoved:G,existingImages:g.imageUrls,folder:`task-images/${n?.id||Date.now()}`})]}),D.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[e&&D.jsxs("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg text-plandala-muted hover:text-plandala-text hover:bg-plandala-surface transition-colors",disabled:h,children:[D.jsx(Ou,{size:18,className:"inline mr-2"}),"Cancel"]}),D.jsx("button",{type:"submit",disabled:h,className:"px-6 py-2 rounded-lg bg-gradient-to-r from-plandala-cyan-400 to-plandala-magenta-500 text-white font-medium hover:glow-cyan transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:h?D.jsxs(D.Fragment,{children:[D.jsx(vl,{size:18}),D.jsx("span",{children:"Saving..."})]}):D.jsxs(D.Fragment,{children:[D.jsx(IU,{size:18}),D.jsx("span",{children:n?"Update Task":"Create Task"})]})})]})]})},nj=n=>{const{userName:e}=Rl(),[t,r]=x.useState([]),[s,l]=x.useState(!0),[u,h]=x.useState(null);return x.useEffect(()=>{if(!n){l(!1);return}const v=aU(n,_=>{r(_),h(null),l(!1)},_=>{console.error("Error subscribing to comments:",_),h(_.message||"Failed to load comments"),l(!1)});return()=>{v&&v()}},[n]),{comments:t,addComment:async(v,_=[])=>{try{if(!v.trim()&&_.length===0)throw new Error("Comment must have text or images");const T={taskId:n,text:v.trim(),userName:e||"Anonymous",imageUrls:_};return await nU(T)}catch(T){throw console.error("Error adding comment:",T),h(T.message),T}},removeComment:async v=>{try{await iU(v,n)}catch(_){throw console.error("Error deleting comment:",_),h(_.message),_}},loading:s,error:u}},rR=6048e5,ij=864e5,jw=Symbol.for("constructDateFrom");function us(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&jw in n?n[jw](e):n instanceof Date?new n.constructor(e):new Date(e)}function Ji(n,e){return us(e||n,n)}let rj={};function Gh(){return rj}function hu(n,e){const t=Gh(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ji(n,e?.in),l=s.getDay(),u=(l<r?7:0)+l-r;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function hh(n,e){return hu(n,{...e,weekStartsOn:1})}function aR(n,e){const t=Ji(n,e?.in),r=t.getFullYear(),s=us(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const l=hh(s),u=us(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=hh(u);return t.getTime()>=l.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function zw(n){const e=Ji(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function aj(n,...e){const t=us.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Bw(n,e){const t=Ji(n,e?.in);return t.setHours(0,0,0,0),t}function sj(n,e,t){const[r,s]=aj(t?.in,n,e),l=Bw(r),u=Bw(s),h=+l-zw(l),m=+u-zw(u);return Math.round((h-m)/ij)}function oj(n,e){const t=aR(n,e),r=us(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),hh(r)}function lj(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function cj(n){return!(!lj(n)&&typeof n!="number"||isNaN(+Ji(n)))}function uj(n,e){const t=Ji(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const dj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fj=(n,e,t)=>{let r;const s=dj[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Tg(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const hj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gj={date:Tg({formats:hj,defaultWidth:"full"}),time:Tg({formats:pj,defaultWidth:"full"}),dateTime:Tg({formats:mj,defaultWidth:"full"})},vj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yj=(n,e,t,r)=>vj[n];function Pc(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t?.width?String(t.width):u;s=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t?.width?String(t.width):n.defaultWidth;s=n.values[h]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(e):e;return s[l]}}const _j={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ej={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sj=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Aj={ordinalNumber:Sj,era:Pc({values:_j,defaultWidth:"wide"}),quarter:Pc({values:bj,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Pc({values:Ej,defaultWidth:"wide"}),day:Pc({values:Tj,defaultWidth:"wide"}),dayPeriod:Pc({values:wj,defaultWidth:"wide",formattingValues:xj,defaultFormattingWidth:"wide"})};function Vc(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(s);if(!l)return null;const u=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(h)?Cj(h,_=>_.test(u)):Rj(h,_=>_.test(u));let g;g=n.valueCallback?n.valueCallback(m):m,g=t.valueCallback?t.valueCallback(g):g;const v=e.slice(u.length);return{value:g,rest:v}}}function Rj(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Cj(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Ij(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],l=e.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(s.length);return{value:u,rest:h}}}const Dj=/^(\d+)(th|st|nd|rd)?/i,Oj=/\d+/i,Nj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kj={any:[/^b/i,/^(a|c)/i]},Mj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pj={any:[/1/i,/2/i,/3/i,/4/i]},Vj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fj={ordinalNumber:Ij({matchPattern:Dj,parsePattern:Oj,valueCallback:n=>parseInt(n,10)}),era:Vc({matchPatterns:Nj,defaultMatchWidth:"wide",parsePatterns:kj,defaultParseWidth:"any"}),quarter:Vc({matchPatterns:Mj,defaultMatchWidth:"wide",parsePatterns:Pj,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Vc({matchPatterns:Vj,defaultMatchWidth:"wide",parsePatterns:Uj,defaultParseWidth:"any"}),day:Vc({matchPatterns:Lj,defaultMatchWidth:"wide",parsePatterns:jj,defaultParseWidth:"any"}),dayPeriod:Vc({matchPatterns:zj,defaultMatchWidth:"any",parsePatterns:Bj,defaultParseWidth:"any"})},qj={code:"en-US",formatDistance:fj,formatLong:gj,formatRelative:yj,localize:Aj,match:Fj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hj(n,e){const t=Ji(n,e?.in);return sj(t,uj(t))+1}function Gj(n,e){const t=Ji(n,e?.in),r=+hh(t)-+oj(t);return Math.round(r/rR)+1}function sR(n,e){const t=Ji(n,e?.in),r=t.getFullYear(),s=Gh(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=us(e?.in||n,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const h=hu(u,e),m=us(e?.in||n,0);m.setFullYear(r,0,l),m.setHours(0,0,0,0);const g=hu(m,e);return+t>=+h?r+1:+t>=+g?r:r-1}function Yj(n,e){const t=Gh(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=sR(n,e),l=us(e?.in||n,0);return l.setFullYear(s,0,r),l.setHours(0,0,0,0),hu(l,e)}function $j(n,e){const t=Ji(n,e?.in),r=+hu(t,e)-+Yj(t,e);return Math.round(r/rR)+1}function ct(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ja={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return ct(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):ct(t+1,2)},d(n,e){return ct(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(n,e){return ct(n.getHours()%12||12,e.length)},H(n,e){return ct(n.getHours(),e.length)},m(n,e){return ct(n.getMinutes(),e.length)},s(n,e){return ct(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return ct(s,e.length)}},Qo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fw={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return ja.y(n,e)},Y:function(n,e,t,r){const s=sR(n,r),l=s>0?s:1-s;if(e==="YY"){const u=l%100;return ct(u,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):ct(l,e.length)},R:function(n,e){const t=aR(n);return ct(t,e.length)},u:function(n,e){const t=n.getFullYear();return ct(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ct(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ct(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ja.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return ct(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=$j(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):ct(s,e.length)},I:function(n,e,t){const r=Gj(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):ct(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ja.d(n,e)},D:function(n,e,t){const r=Hj(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):ct(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return ct(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return ct(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ct(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Qo.noon:r===0?s=Qo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Qo.evening:r>=12?s=Qo.afternoon:r>=4?s=Qo.morning:s=Qo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ja.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ja.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):ct(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):ct(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ja.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ja.s(n,e)},S:function(n,e){return ja.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Hw(r);case"XXXX":case"XX":return Bs(r);default:return Bs(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Hw(r);case"xxxx":case"xx":return Bs(r);default:return Bs(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qw(r,":");default:return"GMT"+Bs(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qw(r,":");default:return"GMT"+Bs(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return ct(r,e.length)},T:function(n,e,t){return ct(+n,e.length)}};function qw(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),l=r%60;return l===0?t+String(s):t+String(s)+e+ct(l,2)}function Hw(n,e){return n%60===0?(n>0?"-":"+")+ct(Math.abs(n)/60,2):Bs(n,e)}function Bs(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=ct(Math.trunc(r/60),2),l=ct(r%60,2);return t+s+e+l}const Gw=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},oR=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Kj=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return Gw(n,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Gw(r,e)).replace("{{time}}",oR(s,e))},Qj={p:oR,P:Kj},Xj=/^D+$/,Wj=/^Y+$/,Jj=["D","DD","YY","YYYY"];function Zj(n){return Xj.test(n)}function ez(n){return Wj.test(n)}function tz(n,e,t){const r=nz(n,e,t);if(console.warn(r),Jj.includes(n))throw new RangeError(r)}function nz(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,az=/^'([^]*?)'?$/,sz=/''/g,oz=/[a-zA-Z]/;function lR(n,e,t){const r=Gh(),s=r.locale??qj,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=Ji(n,t?.in);if(!cj(h))throw new RangeError("Invalid time value");let m=e.match(rz).map(v=>{const _=v[0];if(_==="p"||_==="P"){const T=Qj[_];return T(v,s.formatLong)}return v}).join("").match(iz).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const _=v[0];if(_==="'")return{isToken:!1,value:lz(v)};if(Fw[_])return{isToken:!0,value:v};if(_.match(oz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(m=s.localize.preprocessor(h,m));const g={firstWeekContainsDate:l,weekStartsOn:u,locale:s};return m.map(v=>{if(!v.isToken)return v.value;const _=v.value;(ez(_)||Zj(_))&&tz(_,e,String(n));const T=Fw[_[0]];return T(h,_,s.localize,g)}).join("")}function lz(n){const e=n.match(az);return e?e[1].replace(sz,"'"):n}const cz=({taskId:n})=>{const{comments:e,addComment:t,removeComment:r,loading:s,error:l}=nj(n),{userName:u}=Rl(),[h,m]=x.useState(""),[g,v]=x.useState([]),[_,T]=x.useState(!1),A=async L=>{if(L.preventDefault(),!(!h.trim()&&g.length===0))try{T(!0),await t(h,g),m(""),v([])}catch(F){console.error("Failed to add comment:",F)}finally{T(!1)}},N=async L=>{if(window.confirm("Delete this comment?"))try{await r(L)}catch(F){console.error("Failed to delete comment:",F)}},P=x.useCallback(L=>{v(F=>[...F,...L])},[]),k=x.useCallback(L=>{v(F=>F.filter(Q=>Q!==L))},[]),G=L=>{if(!L)return"Just now";try{const F=L.toDate?L.toDate():new Date(L);return lR(F,"MMM dd, HH:mm")}catch{return"Unknown"}};return s?D.jsx(vl,{}):l?D.jsxs("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:[D.jsx("p",{className:"font-medium mb-1",children:"Failed to load comments"}),D.jsx("p",{className:"text-xs text-plandala-muted",children:l})]}):D.jsxs("div",{className:"space-y-4",children:[D.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.length===0?D.jsx("p",{className:"text-plandala-muted text-sm text-center py-4",children:"No comments yet. Be the first to comment!"}):e.map(L=>D.jsxs("div",{className:"glass-card p-4 hover:border-plandala-border transition-colors",children:[D.jsxs("div",{className:"flex items-start justify-between mb-2",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("span",{className:"text-sm font-medium text-plandala-cyan-400",children:L.userName}),D.jsx("span",{className:"text-xs text-plandala-muted",children:G(L.createdAt)})]}),L.userName===u&&D.jsx("button",{onClick:()=>N(L.id),className:"p-1 rounded hover:bg-plandala-surface transition-colors text-plandala-muted hover:text-red-400","aria-label":"Delete comment",children:D.jsx(g1,{size:14})})]}),D.jsx("p",{className:"text-plandala-text text-sm whitespace-pre-wrap",children:L.text}),L.imageUrls&&L.imageUrls.length>0&&D.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:L.imageUrls.map((F,Q)=>D.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"aspect-video rounded overflow-hidden hover:opacity-80 transition-opacity",children:D.jsx("img",{src:F,alt:`Comment image ${Q+1}`,className:"w-full h-full object-cover"})},Q))})]},L.id))}),D.jsxs("form",{onSubmit:A,className:"space-y-3",children:[D.jsxs("div",{className:"flex items-end space-x-2",children:[D.jsx("div",{className:"flex-1",children:D.jsx("textarea",{value:h,onChange:L=>m(L.target.value),placeholder:"Add a comment...",rows:2,className:"w-full px-4 py-3 rounded-lg bg-plandala-surface border border-plandala-border text-plandala-text placeholder-plandala-muted focus:outline-none focus:border-plandala-cyan-400 transition-colors resize-none",disabled:_})}),D.jsx("button",{type:"submit",disabled:_||!h.trim()&&g.length===0,className:"px-4 py-3 rounded-lg bg-gradient-to-r from-plandala-cyan-400 to-plandala-magenta-500 text-white hover:glow-cyan transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center","aria-label":"Send comment",children:_?D.jsx(vl,{size:18}):D.jsx(OU,{size:18})})]}),D.jsx(iR,{onImagesUploaded:P,onImageRemoved:k,existingImages:g,folder:`comment-images/${n}`})]})]})},ky=({task:n,onClose:e})=>{const{removeTask:t}=Lu(),[r,s]=x.useState(!1),[l,u]=x.useState(!1);if(!n)return null;const h=async()=>{try{await t(n.id),e()}catch(v){console.error("Failed to delete task:",v)}},m=()=>{s(!1)},g=v=>{if(!v)return"Unknown";try{const _=v.toDate?v.toDate():new Date(v);return lR(_,"MMM dd, yyyy HH:mm")}catch{return"Unknown"}};return D.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:D.jsxs("div",{className:"glass-card max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[D.jsxs("div",{className:"sticky top-0 bg-plandala-surface/95 backdrop-blur-sm p-6 border-b border-plandala-border flex items-start justify-between",children:[D.jsx("div",{className:"flex-1 pr-4",children:!r&&D.jsxs(D.Fragment,{children:[D.jsx("h2",{className:"text-2xl font-bold text-plandala-text mb-2",children:n.title}),D.jsxs("div",{className:"flex items-center space-x-4 text-sm text-plandala-muted",children:[D.jsxs("span",{children:["Created by ",n.createdBy]}),D.jsx("span",{children:""}),D.jsx("span",{children:g(n.createdAt)}),n.assignedTo&&D.jsxs(D.Fragment,{children:[D.jsx("span",{children:""}),D.jsxs("span",{className:"text-plandala-cyan-400",children:["Assigned to ",n.assignedTo]})]})]})]})}),D.jsxs("div",{className:"flex items-center space-x-2",children:[!r&&D.jsxs(D.Fragment,{children:[D.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-lg hover:bg-plandala-surface transition-colors text-plandala-cyan-400","aria-label":"Edit task",children:D.jsx(SU,{size:20})}),D.jsx("button",{onClick:()=>u(!0),className:"p-2 rounded-lg hover:bg-plandala-surface transition-colors text-red-400","aria-label":"Delete task",children:D.jsx(g1,{size:20})})]}),D.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-plandala-surface transition-colors text-plandala-muted hover:text-plandala-text","aria-label":"Close modal",children:D.jsx(Ou,{size:20})})]})]}),D.jsx("div",{className:"p-6",children:r?D.jsx(Hh,{task:n,onClose:()=>s(!1),onSave:m}):D.jsxs("div",{className:"space-y-6",children:[n.description&&D.jsxs("div",{children:[D.jsx("h3",{className:"text-sm font-medium text-plandala-text mb-2",children:"Description"}),D.jsx("p",{className:"text-plandala-muted whitespace-pre-wrap",children:n.description})]}),n.imageUrls&&n.imageUrls.length>0&&D.jsxs("div",{children:[D.jsxs("h3",{className:"text-sm font-medium text-plandala-text mb-3",children:["Images (",n.imageUrls.length,")"]}),D.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.imageUrls.map((v,_)=>D.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"aspect-video rounded-lg overflow-hidden hover:opacity-80 transition-opacity",children:D.jsx("img",{src:v,alt:`Task image ${_+1}`,className:"w-full h-full object-cover"})},_))})]}),D.jsxs("div",{className:"border-t border-plandala-border pt-6",children:[D.jsxs("h3",{className:"text-sm font-medium text-plandala-text mb-4",children:["Comments ",n.metadata?.commentCount>0&&`(${n.metadata.commentCount})`]}),D.jsx(cz,{taskId:n.id})]})]})}),l&&D.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:D.jsxs("div",{className:"glass-card p-6 max-w-md w-full",children:[D.jsx("h3",{className:"text-xl font-bold text-plandala-text mb-2",children:"Delete Task?"}),D.jsxs("p",{className:"text-plandala-muted mb-6",children:['Are you sure you want to delete "',n.title,'"? This action cannot be undone.']}),D.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[D.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 rounded-lg text-plandala-muted hover:text-plandala-text hover:bg-plandala-surface transition-colors",children:"Cancel"}),D.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",children:"Delete Task"})]})]})})]})})},My=({isOpen:n,onClose:e,title:t,children:r})=>n?D.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:D.jsxs("div",{className:"glass-card max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[D.jsxs("div",{className:"sticky top-0 bg-plandala-surface/95 backdrop-blur-sm p-6 border-b border-plandala-border flex items-center justify-between",children:[D.jsx("h2",{className:"text-2xl font-bold gradient-text",children:t}),D.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-plandala-surface transition-colors text-plandala-muted hover:text-plandala-text","aria-label":"Close modal",children:D.jsx(Ou,{size:20})})]}),D.jsx("div",{className:"p-6",children:r})]})}):null,uz=()=>{const{getTasksByPageAndStatus:n,loading:e,getTaskById:t}=gy(),{moveTask:r,reorderTasks:s}=Lu(),[l,u]=x.useState(null),[h,m]=x.useState(null),[g,v]=x.useState(!1),[_,T]=x.useState("not_started"),A=by(_y(Pu,{activationConstraint:{distance:8}})),N=[{id:"high_priority",title:"High Priority",status:"high_priority",colorClass:"text-plandala-magenta-400",columnClass:"column-high-priority"},{id:"in_progress",title:"In Progress",status:"in_progress",colorClass:"text-plandala-blue-400",columnClass:"column-in-progress"},{id:"not_started",title:"Not Started",status:"not_started",colorClass:"text-plandala-cyan-400",columnClass:"column-not-started"}],P=te=>n("kanban",te).sort((C,S)=>C.order-S.order),k=te=>{const{active:C}=te,S=t(C.id);u(S)},G=async te=>{const{active:C,over:S}=te;if(u(null),!S)return;const I=t(C.id),U=N.find(B=>B.id===S.id);if(U&&I.status!==U.status){await r(C.id,U.status,"kanban");return}const M=N.find(B=>B.status===I.status);if(M){const B=P(M.status),O=B.findIndex(Re=>Re.id===C.id),be=B.findIndex(Re=>Re.id===S.id);if(O!==be&&be!==-1){const Re=Uu(B,O,be);await s(Re)}}},L=te=>{m(te)},F=te=>{T(te),v(!0)},Q=()=>{m(null)},ie=()=>{v(!1)};return e?D.jsx(Dy,{}):D.jsxs(Cy,{title:"Task Board",description:"Organize and prioritize your development tasks. Click a task to start a comment thread about that task",children:[D.jsxs(Ay,{sensors:A,collisionDetection:Ey,onDragStart:k,onDragEnd:G,children:[D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[calc(100vh-12rem)]",children:N.map(te=>D.jsx(Iy,{id:te.id,title:te.title,tasks:P(te.status),onTaskClick:L,onAddTask:()=>F(te.status),colorClass:te.colorClass,columnClass:te.columnClass},te.id))}),D.jsx(Ry,{children:l?D.jsx("div",{className:"opacity-90",children:D.jsx(qh,{task:l,onClick:()=>{}})}):null})]}),h&&D.jsx(ky,{task:h,onClose:Q}),D.jsx(My,{isOpen:g,onClose:ie,title:"Create New Task",children:D.jsx(Hh,{defaultStatus:_,defaultPage:"kanban",onClose:ie})})]})},dz=()=>{const{getTasksByPageAndStatus:n,loading:e,getTaskById:t}=gy(),{reorderTasks:r}=Lu(),[s,l]=x.useState(null),[u,h]=x.useState(null),[m,g]=x.useState(!1),v=by(_y(Pu,{activationConstraint:{distance:8}})),_=()=>n("testing","testing").sort((L,F)=>L.order-F.order),T=L=>{const{active:F}=L,Q=t(F.id);l(Q)},A=async L=>{const{active:F,over:Q}=L;if(l(null),!Q||F.id===Q.id)return;const ie=_(),te=ie.findIndex(S=>S.id===F.id),C=ie.findIndex(S=>S.id===Q.id);if(te!==C&&C!==-1){const S=Uu(ie,te,C);await r(S)}},N=L=>{h(L)},P=()=>{g(!0)},k=()=>{h(null)},G=()=>{g(!1)};return e?D.jsx(Dy,{}):D.jsxs(Cy,{title:"Testing",description:"Tasks ready for testing and QA",children:[D.jsxs(Ay,{sensors:v,collisionDetection:Ey,onDragStart:T,onDragEnd:A,children:[D.jsx("div",{className:"max-w-2xl mx-auto h-[calc(100vh-12rem)]",children:D.jsx(Iy,{id:"testing",title:"Testing Queue",tasks:_(),onTaskClick:N,onAddTask:P,colorClass:"text-orange-400",columnClass:"column-testing"})}),D.jsx(Ry,{children:s?D.jsx("div",{className:"opacity-90",children:D.jsx(qh,{task:s,onClick:()=>{}})}):null})]}),u&&D.jsx(ky,{task:u,onClose:k}),D.jsx(My,{isOpen:m,onClose:G,title:"Create New Task",children:D.jsx(Hh,{defaultStatus:"testing",defaultPage:"testing",onClose:G})})]})},fz=()=>{const{getTasksByPageAndStatus:n,loading:e,getTaskById:t}=gy(),{reorderTasks:r}=Lu(),[s,l]=x.useState(null),[u,h]=x.useState(null),[m,g]=x.useState(!1),v=by(_y(Pu,{activationConstraint:{distance:8}})),_=()=>n("done","done").sort((L,F)=>F.order-L.order),T=L=>{const{active:F}=L,Q=t(F.id);l(Q)},A=async L=>{const{active:F,over:Q}=L;if(l(null),!Q||F.id===Q.id)return;const ie=_(),te=ie.findIndex(S=>S.id===F.id),C=ie.findIndex(S=>S.id===Q.id);if(te!==C&&C!==-1){const S=Uu(ie,te,C);await r(S)}},N=L=>{h(L)},P=()=>{g(!0)},k=()=>{h(null)},G=()=>{g(!1)};return e?D.jsx(Dy,{}):D.jsxs(Cy,{title:"Completed Tasks",description:"All finished and shipped features",children:[D.jsxs(Ay,{sensors:v,collisionDetection:Ey,onDragStart:T,onDragEnd:A,children:[D.jsx("div",{className:"max-w-2xl mx-auto h-[calc(100vh-12rem)]",children:D.jsx(Iy,{id:"done",title:"Done",tasks:_(),onTaskClick:N,onAddTask:P,colorClass:"text-green-400",columnClass:"column-done"})}),D.jsx(Ry,{children:s?D.jsx("div",{className:"opacity-90",children:D.jsx(qh,{task:s,onClick:()=>{}})}):null})]}),u&&D.jsx(ky,{task:u,onClose:k}),D.jsx(My,{isOpen:m,onClose:G,title:"Create New Task",children:D.jsx(Hh,{defaultStatus:"done",defaultPage:"done",onClose:G})})]})};function hz(){const{loading:n,error:e}=WV();return n?D.jsx("div",{className:"min-h-screen flex items-center justify-center",children:D.jsx(vl,{size:48})}):e?D.jsx("div",{className:"min-h-screen flex items-center justify-center",children:D.jsxs("div",{className:"text-red-400",children:["Auth Error: ",e]})}):D.jsxs(mD,{children:[D.jsx(qU,{}),D.jsxs(GI,{children:[D.jsx(Ef,{path:"/",element:D.jsx(uz,{})}),D.jsx(Ef,{path:"/testing",element:D.jsx(dz,{})}),D.jsx(Ef,{path:"/done",element:D.jsx(fz,{})})]})]})}function pz(){return D.jsx(AD,{children:D.jsx(JV,{children:D.jsx(ZV,{children:D.jsx(sU,{children:D.jsx(hz,{})})})})})}$C.createRoot(document.getElementById("root")).render(D.jsx(x.StrictMode,{children:D.jsx(pz,{})}));
